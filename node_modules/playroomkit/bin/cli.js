#!/usr/bin/env node
"use strict";var t=require("fs"),e=require("path"),i=require("node:http"),r=require("node:https"),n=require("node:zlib"),s=require("node:stream"),o=require("node:buffer"),a=require("node:util"),l=require("node:url"),c=require("node:net"),u=require("node:fs"),h=require("node:path"),p=require("node:fs/promises"),d=require("node:events"),f=require("node:string_decoder"),m=require("util"),g=require("assert"),D=require("url"),b=require("node:process"),y=require("events"),v=require("os"),w=require("crypto"),x="undefined"!=typeof document?document.currentScript:null;function F(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var E=F(u);var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C,k={exports:{}};
/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */if(!globalThis.ReadableStream)try{const t=require("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=e}catch(i){throw t.emitWarning=e,i}}catch(t){Object.assign(globalThis,(C||(C=1,function(t){function e(){}function i(t){return"object"==typeof t&&null!==t||"function"==typeof t}const r=e;function n(t,e){try{Object.defineProperty(t,"name",{value:e,configurable:!0})}catch(t){}}const s=Promise,o=Promise.prototype.then,a=Promise.reject.bind(s);function l(t){return new s(t)}function c(t){return l((e=>e(t)))}function u(t){return a(t)}function h(t,e,i){return o.call(t,e,i)}function p(t,e,i){h(h(t,e,i),void 0,r)}function d(t,e){p(t,e)}function f(t,e){p(t,void 0,e)}function m(t,e,i){return h(t,e,i)}function g(t){h(t,void 0,r)}let D=t=>{if("function"==typeof queueMicrotask)D=queueMicrotask;else{const t=c(void 0);D=e=>h(t,e)}return D(t)};function b(t,e,i){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,i)}function y(t,e,i){try{return c(b(t,e,i))}catch(t){return u(t)}}const v=16384;class w{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){const e=this._back;let i=e;e._elements.length===v-1&&(i={_elements:[],_next:void 0}),e._elements.push(t),i!==e&&(this._back=i,e._next=i),++this._size}shift(){const t=this._front;let e=t;const i=this._cursor;let r=i+1;const n=t._elements,s=n[i];return r===v&&(e=t._next,r=0),--this._size,this._cursor=r,t!==e&&(this._front=e),n[i]=void 0,s}forEach(t){let e=this._cursor,i=this._front,r=i._elements;for(;!(e===r.length&&void 0===i._next||e===r.length&&(i=i._next,r=i._elements,e=0,0===r.length));)t(r[e]),++e}peek(){const t=this._front,e=this._cursor;return t._elements[e]}}const x=Symbol("[[AbortSteps]]"),F=Symbol("[[ErrorSteps]]"),E=Symbol("[[CancelSteps]]"),S=Symbol("[[PullSteps]]"),C=Symbol("[[ReleaseSteps]]");function k(t,e){t._ownerReadableStream=e,e._reader=t,"readable"===e._state?j(t):"closed"===e._state?P(t):B(t,e._storedError)}function A(t,e){return Qr(t._ownerReadableStream,e)}function T(t){const e=t._ownerReadableStream;"readable"===e._state?R(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):L(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._readableStreamController[C](),e._reader=void 0,t._ownerReadableStream=void 0}function O(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function j(t){t._closedPromise=l(((e,i)=>{t._closedPromise_resolve=e,t._closedPromise_reject=i}))}function B(t,e){j(t),R(t,e)}function P(t){j(t),M(t)}function R(t,e){void 0!==t._closedPromise_reject&&(g(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function L(t,e){B(t,e)}function M(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const z=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},$=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function I(t){return"object"==typeof t||"function"==typeof t}function W(t,e){if(void 0!==t&&!I(t))throw new TypeError(`${e} is not an object.`)}function N(t,e){if("function"!=typeof t)throw new TypeError(`${e} is not a function.`)}function q(t){return"object"==typeof t&&null!==t||"function"==typeof t}function U(t,e){if(!q(t))throw new TypeError(`${e} is not an object.`)}function H(t,e,i){if(void 0===t)throw new TypeError(`Parameter ${e} is required in '${i}'.`)}function G(t,e,i){if(void 0===t)throw new TypeError(`${e} is required in '${i}'.`)}function V(t){return Number(t)}function Y(t){return 0===t?0:t}function K(t){return Y($(t))}function Q(t,e){const i=0,r=Number.MAX_SAFE_INTEGER;let n=Number(t);if(n=Y(n),!z(n))throw new TypeError(`${e} is not a finite number`);if(n=K(n),n<i||n>r)throw new TypeError(`${e} is outside the accepted range of ${i} to ${r}, inclusive`);return z(n)&&0!==n?n:0}function J(t,e){if(!Yr(t))throw new TypeError(`${e} is not a ReadableStream.`)}function Z(t){return new rt(t)}function X(t,e){t._reader._readRequests.push(e)}function tt(t,e,i){const r=t._reader._readRequests.shift();i?r._closeSteps():r._chunkSteps(e)}function et(t){return t._reader._readRequests.length}function it(t){const e=t._reader;return void 0!==e&&!!nt(e)}class rt{constructor(t){if(H(t,1,"ReadableStreamDefaultReader"),J(t,"First parameter"),Kr(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");k(this,t),this._readRequests=new w}get closed(){return nt(this)?this._closedPromise:u(lt("closed"))}cancel(t=void 0){return nt(this)?void 0===this._ownerReadableStream?u(O("cancel")):A(this,t):u(lt("cancel"))}read(){if(!nt(this))return u(lt("read"));if(void 0===this._ownerReadableStream)return u(O("read from"));let t,e;const i=l(((i,r)=>{t=i,e=r})),r={_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:t=>e(t)};return st(this,r),i}releaseLock(){if(!nt(this))throw lt("releaseLock");void 0!==this._ownerReadableStream&&ot(this)}}function nt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof rt}function st(t,e){const i=t._ownerReadableStream;i._disturbed=!0,"closed"===i._state?e._closeSteps():"errored"===i._state?e._errorSteps(i._storedError):i._readableStreamController[S](e)}function ot(t){T(t),at(t,new TypeError("Reader was released"))}function at(t,e){const i=t._readRequests;t._readRequests=new w,i.forEach((t=>{t._errorSteps(e)}))}function lt(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(rt.prototype.cancel,"cancel"),n(rt.prototype.read,"read"),n(rt.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rt.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const ct=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ut{constructor(t,e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=e}next(){const t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){const e=()=>this._returnSteps(t);return this._ongoingPromise?m(this._ongoingPromise,e,e):e()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const t=this._reader;let e,i;const r=l(((t,r)=>{e=t,i=r}));return st(t,{_chunkSteps:t=>{this._ongoingPromise=void 0,D((()=>e({value:t,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,T(t),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,T(t),i(e)}}),r}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;const e=this._reader;if(!this._preventCancel){const i=A(e,t);return T(e),m(i,(()=>({value:t,done:!0})))}return T(e),c({value:t,done:!0})}}const ht={next(){return dt(this)?this._asyncIteratorImpl.next():u(ft("next"))},return(t){return dt(this)?this._asyncIteratorImpl.return(t):u(ft("return"))}};function pt(t,e){const i=Z(t),r=new ut(i,e),n=Object.create(ht);return n._asyncIteratorImpl=r,n}function dt(t){if(!i(t))return!1;if(!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof ut}catch(t){return!1}}function ft(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}Object.setPrototypeOf(ht,ct);const mt=Number.isNaN||function(t){return t!=t};var gt,Dt,bt;function yt(t){return t.slice()}function vt(t,e,i,r,n){new Uint8Array(t).set(new Uint8Array(i,r,n),e)}let wt=t=>(wt="function"==typeof t.transfer?t=>t.transfer():"function"==typeof structuredClone?t=>structuredClone(t,{transfer:[t]}):t=>t,wt(t)),xt=t=>(xt="boolean"==typeof t.detached?t=>t.detached:t=>0===t.byteLength,xt(t));function Ft(t,e,i){if(t.slice)return t.slice(e,i);const r=i-e,n=new ArrayBuffer(r);return vt(n,0,t,e,r),n}function Et(t,e){const i=t[e];if(null!=i){if("function"!=typeof i)throw new TypeError(`${String(e)} is not a function`);return i}}function _t(t){const e={[Symbol.iterator]:()=>t.iterator},i=async function*(){return yield*e}();return{iterator:i,nextMethod:i.next,done:!1}}const St=null!==(bt=null!==(gt=Symbol.asyncIterator)&&void 0!==gt?gt:null===(Dt=Symbol.for)||void 0===Dt?void 0:Dt.call(Symbol,"Symbol.asyncIterator"))&&void 0!==bt?bt:"@@asyncIterator";function Ct(t,e="sync",r){if(void 0===r)if("async"===e){if(void 0===(r=Et(t,St)))return _t(Ct(t,"sync",Et(t,Symbol.iterator)))}else r=Et(t,Symbol.iterator);if(void 0===r)throw new TypeError("The object is not iterable");const n=b(r,t,[]);if(!i(n))throw new TypeError("The iterator method must return an object");return{iterator:n,nextMethod:n.next,done:!1}}function kt(t){const e=b(t.nextMethod,t.iterator,[]);if(!i(e))throw new TypeError("The iterator.next() method must return an object");return e}function At(t){return Boolean(t.done)}function Tt(t){return t.value}function Ot(t){return!("number"!=typeof t||mt(t)||t<0)}function jt(t){const e=Ft(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function Bt(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function Pt(t,e,i){if(!Ot(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:e,size:i}),t._queueTotalSize+=i}function Rt(t){return t._queue.peek().value}function Lt(t){t._queue=new w,t._queueTotalSize=0}function Mt(t){return t===DataView}function zt(t){return Mt(t.constructor)}function $t(t){return Mt(t)?1:t.BYTES_PER_ELEMENT}class It{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!qt(this))throw we("view");return this._view}respond(t){if(!qt(this))throw we("respond");if(H(t,1,"respond"),t=Q(t,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(xt(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");ge(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!qt(this))throw we("respondWithNewView");if(H(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(xt(t.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");De(this._associatedReadableByteStreamController,t)}}Object.defineProperties(It.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),n(It.prototype.respond,"respond"),n(It.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(It.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Wt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Nt(this))throw xe("byobRequest");return fe(this)}get desiredSize(){if(!Nt(this))throw xe("desiredSize");return me(this)}close(){if(!Nt(this))throw xe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);ue(this)}enqueue(t){if(!Nt(this))throw xe("enqueue");if(H(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be enqueued to`);he(this,t)}error(t=void 0){if(!Nt(this))throw xe("error");pe(this,t)}[E](t){Ht(this),Lt(this);const e=this._cancelAlgorithm(t);return ce(this),e}[S](t){const e=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void de(this,t);const i=this._autoAllocateChunkSize;if(void 0!==i){let e;try{e=new ArrayBuffer(i)}catch(e){return void t._errorSteps(e)}const r={buffer:e,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}X(e,t),Ut(this)}[C](){if(this._pendingPullIntos.length>0){const t=this._pendingPullIntos.peek();t.readerType="none",this._pendingPullIntos=new w,this._pendingPullIntos.push(t)}}}function Nt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof Wt}function qt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof It}function Ut(t){le(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),(()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Ut(t)),null)),(e=>(pe(t,e),null)))))}function Ht(t){te(t),t._pendingPullIntos=new w}function Gt(t,e){let i=!1;"closed"===t._state&&(i=!0);const r=Vt(e);"default"===e.readerType?tt(t,r,i):ke(t,r,i)}function Vt(t){const e=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/i)}function Yt(t,e,i,r){t._queue.push({buffer:e,byteOffset:i,byteLength:r}),t._queueTotalSize+=r}function Kt(t,e,i,r){let n;try{n=Ft(e,i,i+r)}catch(e){throw pe(t,e),e}Yt(t,n,0,r)}function Qt(t,e){e.bytesFilled>0&&Kt(t,e.buffer,e.byteOffset,e.bytesFilled),ae(t)}function Jt(t,e){const i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),r=e.bytesFilled+i;let n=i,s=!1;const o=r-r%e.elementSize;o>=e.minimumFill&&(n=o-e.bytesFilled,s=!0);const a=t._queue;for(;n>0;){const i=a.peek(),r=Math.min(n,i.byteLength),s=e.byteOffset+e.bytesFilled;vt(e.buffer,s,i.buffer,i.byteOffset,r),i.byteLength===r?a.shift():(i.byteOffset+=r,i.byteLength-=r),t._queueTotalSize-=r,Zt(t,r,e),n-=r}return s}function Zt(t,e,i){i.bytesFilled+=e}function Xt(t){0===t._queueTotalSize&&t._closeRequested?(ce(t),Jr(t._controlledReadableByteStream)):Ut(t)}function te(t){null!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function ee(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;const e=t._pendingPullIntos.peek();Jt(t,e)&&(ae(t),Gt(t._controlledReadableByteStream,e))}}function ie(t){const e=t._controlledReadableByteStream._reader;for(;e._readRequests.length>0;){if(0===t._queueTotalSize)return;de(t,e._readRequests.shift())}}function re(t,e,i,r){const n=t._controlledReadableByteStream,s=e.constructor,o=$t(s),{byteOffset:a,byteLength:l}=e,c=i*o;let u;try{u=wt(e.buffer)}catch(t){return void r._errorSteps(t)}const h={buffer:u,bufferByteLength:u.byteLength,byteOffset:a,byteLength:l,bytesFilled:0,minimumFill:c,elementSize:o,viewConstructor:s,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(h),void Ce(n,r);if("closed"!==n._state){if(t._queueTotalSize>0){if(Jt(t,h)){const e=Vt(h);return Xt(t),void r._chunkSteps(e)}if(t._closeRequested){const e=new TypeError("Insufficient bytes to fill elements in the given buffer");return pe(t,e),void r._errorSteps(e)}}t._pendingPullIntos.push(h),Ce(n,r),Ut(t)}else{const t=new s(h.buffer,h.byteOffset,0);r._closeSteps(t)}}function ne(t,e){"none"===e.readerType&&ae(t);const i=t._controlledReadableByteStream;if(Te(i))for(;Ae(i)>0;)Gt(i,ae(t))}function se(t,e,i){if(Zt(t,e,i),"none"===i.readerType)return Qt(t,i),void ee(t);if(i.bytesFilled<i.minimumFill)return;ae(t);const r=i.bytesFilled%i.elementSize;if(r>0){const e=i.byteOffset+i.bytesFilled;Kt(t,i.buffer,e-r,r)}i.bytesFilled-=r,Gt(t._controlledReadableByteStream,i),ee(t)}function oe(t,e){const i=t._pendingPullIntos.peek();te(t),"closed"===t._controlledReadableByteStream._state?ne(t,i):se(t,e,i),Ut(t)}function ae(t){return t._pendingPullIntos.shift()}function le(t){const e=t._controlledReadableByteStream;return"readable"===e._state&&!t._closeRequested&&!!t._started&&(!!(it(e)&&et(e)>0)||!!(Te(e)&&Ae(e)>0)||me(t)>0)}function ce(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function ue(t){const e=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===e._state)if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek();if(e.bytesFilled%e.elementSize!=0){const e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw pe(t,e),e}}ce(t),Jr(e)}}function he(t,e){const i=t._controlledReadableByteStream;if(t._closeRequested||"readable"!==i._state)return;const{buffer:r,byteOffset:n,byteLength:s}=e;if(xt(r))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const o=wt(r);if(t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek();if(xt(e.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");te(t),e.buffer=wt(e.buffer),"none"===e.readerType&&Qt(t,e)}it(i)?(ie(t),0===et(i)?Yt(t,o,n,s):(t._pendingPullIntos.length>0&&ae(t),tt(i,new Uint8Array(o,n,s),!1))):Te(i)?(Yt(t,o,n,s),ee(t)):Yt(t,o,n,s),Ut(t)}function pe(t,e){const i=t._controlledReadableByteStream;"readable"===i._state&&(Ht(t),Lt(t),ce(t),Zr(i,e))}function de(t,e){const i=t._queue.shift();t._queueTotalSize-=i.byteLength,Xt(t);const r=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);e._chunkSteps(r)}function fe(t){if(null===t._byobRequest&&t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek(),i=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(It.prototype);ve(r,t,i),t._byobRequest=r}return t._byobRequest}function me(t){const e=t._controlledReadableByteStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function ge(t,e){const i=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===e)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+e>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=wt(i.buffer),oe(t,e)}function De(t,e){const i=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===e.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+e.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const r=e.byteLength;i.buffer=wt(e.buffer),oe(t,r)}function be(t,e,i,r,n,s,o){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,Lt(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=s,e._pullAlgorithm=r,e._cancelAlgorithm=n,e._autoAllocateChunkSize=o,e._pendingPullIntos=new w,t._readableStreamController=e,p(c(i()),(()=>(e._started=!0,Ut(e),null)),(t=>(pe(e,t),null)))}function ye(t,e,i){const r=Object.create(Wt.prototype);let n,s,o;n=void 0!==e.start?()=>e.start(r):()=>{},s=void 0!==e.pull?()=>e.pull(r):()=>c(void 0),o=void 0!==e.cancel?t=>e.cancel(t):()=>c(void 0);const a=e.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");be(t,r,n,s,o,i,a)}function ve(t,e,i){t._associatedReadableByteStreamController=e,t._view=i}function we(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function xe(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function Fe(t,e){W(t,e);const i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:Ee(i,`${e} has member 'mode' that`)}}function Ee(t,e){if("byob"!=(t=`${t}`))throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function _e(t,e){var i;return W(t,e),{min:Q(null!==(i=null==t?void 0:t.min)&&void 0!==i?i:1,`${e} has member 'min' that`)}}function Se(t){return new Oe(t)}function Ce(t,e){t._reader._readIntoRequests.push(e)}function ke(t,e,i){const r=t._reader._readIntoRequests.shift();i?r._closeSteps(e):r._chunkSteps(e)}function Ae(t){return t._reader._readIntoRequests.length}function Te(t){const e=t._reader;return void 0!==e&&!!je(e)}Object.defineProperties(Wt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),n(Wt.prototype.close,"close"),n(Wt.prototype.enqueue,"enqueue"),n(Wt.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Wt.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Oe{constructor(t){if(H(t,1,"ReadableStreamBYOBReader"),J(t,"First parameter"),Kr(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Nt(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");k(this,t),this._readIntoRequests=new w}get closed(){return je(this)?this._closedPromise:u(Le("closed"))}cancel(t=void 0){return je(this)?void 0===this._ownerReadableStream?u(O("cancel")):A(this,t):u(Le("cancel"))}read(t,e={}){if(!je(this))return u(Le("read"));if(!ArrayBuffer.isView(t))return u(new TypeError("view must be an array buffer view"));if(0===t.byteLength)return u(new TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return u(new TypeError("view's buffer must have non-zero byteLength"));if(xt(t.buffer))return u(new TypeError("view's buffer has been detached"));let i;try{i=_e(e,"options")}catch(t){return u(t)}const r=i.min;if(0===r)return u(new TypeError("options.min must be greater than 0"));if(zt(t)){if(r>t.byteLength)return u(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(r>t.length)return u(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return u(O("read from"));let n,s;const o=l(((t,e)=>{n=t,s=e})),a={_chunkSteps:t=>n({value:t,done:!1}),_closeSteps:t=>n({value:t,done:!0}),_errorSteps:t=>s(t)};return Be(this,t,r,a),o}releaseLock(){if(!je(this))throw Le("releaseLock");void 0!==this._ownerReadableStream&&Pe(this)}}function je(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof Oe}function Be(t,e,i,r){const n=t._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):re(n._readableStreamController,e,i,r)}function Pe(t){T(t),Re(t,new TypeError("Reader was released"))}function Re(t,e){const i=t._readIntoRequests;t._readIntoRequests=new w,i.forEach((t=>{t._errorSteps(e)}))}function Le(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function Me(t,e){const{highWaterMark:i}=t;if(void 0===i)return e;if(mt(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function ze(t){const{size:e}=t;return e||(()=>1)}function $e(t,e){W(t,e);const i=null==t?void 0:t.highWaterMark,r=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:V(i),size:void 0===r?void 0:Ie(r,`${e} has member 'size' that`)}}function Ie(t,e){return N(t,e),e=>V(t(e))}function We(t,e){W(t,e);const i=null==t?void 0:t.abort,r=null==t?void 0:t.close,n=null==t?void 0:t.start,s=null==t?void 0:t.type,o=null==t?void 0:t.write;return{abort:void 0===i?void 0:Ne(i,t,`${e} has member 'abort' that`),close:void 0===r?void 0:qe(r,t,`${e} has member 'close' that`),start:void 0===n?void 0:Ue(n,t,`${e} has member 'start' that`),write:void 0===o?void 0:He(o,t,`${e} has member 'write' that`),type:s}}function Ne(t,e,i){return N(t,i),i=>y(t,e,[i])}function qe(t,e,i){return N(t,i),()=>y(t,e,[])}function Ue(t,e,i){return N(t,i),i=>b(t,e,[i])}function He(t,e,i){return N(t,i),(i,r)=>y(t,e,[i,r])}function Ge(t,e){if(!ti(t))throw new TypeError(`${e} is not a WritableStream.`)}function Ve(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}Object.defineProperties(Oe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(Oe.prototype.cancel,"cancel"),n(Oe.prototype.read,"read"),n(Oe.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Oe.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const Ye="function"==typeof AbortController;function Ke(){if(Ye)return new AbortController}class Qe{constructor(t={},e={}){void 0===t?t=null:U(t,"First parameter");const i=$e(e,"Second parameter"),r=We(t,"First parameter");if(Xe(this),void 0!==r.type)throw new RangeError("Invalid type is specified");const n=ze(i);ji(this,r,Me(i,1),n)}get locked(){if(!ti(this))throw Ui("locked");return ei(this)}abort(t=void 0){return ti(this)?ei(this)?u(new TypeError("Cannot abort a stream that already has a writer")):ii(this,t):u(Ui("abort"))}close(){return ti(this)?ei(this)?u(new TypeError("Cannot close a stream that already has a writer")):pi(this)?u(new TypeError("Cannot close an already-closing stream")):ri(this):u(Ui("close"))}getWriter(){if(!ti(this))throw Ui("getWriter");return Je(this)}}function Je(t){return new bi(t)}function Ze(t,e,i,r,n=1,s=(()=>1)){const o=Object.create(Qe.prototype);return Xe(o),Oi(o,Object.create(Ai.prototype),t,e,i,r,n,s),o}function Xe(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new w,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function ti(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof Qe}function ei(t){return void 0!==t._writer}function ii(t,e){var i;if("closed"===t._state||"errored"===t._state)return c(void 0);t._writableStreamController._abortReason=e,null===(i=t._writableStreamController._abortController)||void 0===i||i.abort(e);const r=t._state;if("closed"===r||"errored"===r)return c(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,e=void 0);const s=l(((i,r)=>{t._pendingAbortRequest={_promise:void 0,_resolve:i,_reject:r,_reason:e,_wasAlreadyErroring:n}}));return t._pendingAbortRequest._promise=s,n||oi(t,e),s}function ri(t){const e=t._state;if("closed"===e||"errored"===e)return u(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const i=l(((e,i)=>{const r={_resolve:e,_reject:i};t._closeRequest=r})),r=t._writer;return void 0!==r&&t._backpressure&&"writable"===e&&or(r),Pi(t._writableStreamController),i}function ni(t){return l(((e,i)=>{const r={_resolve:e,_reject:i};t._writeRequests.push(r)}))}function si(t,e){"writable"!==t._state?ai(t):oi(t,e)}function oi(t,e){const i=t._writableStreamController;t._state="erroring",t._storedError=e;const r=t._writer;void 0!==r&&Ei(r,e),!di(t)&&i._started&&ai(t)}function ai(t){t._state="errored",t._writableStreamController[F]();const e=t._storedError;if(t._writeRequests.forEach((t=>{t._reject(e)})),t._writeRequests=new w,void 0===t._pendingAbortRequest)return void gi(t);const i=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,i._wasAlreadyErroring)return i._reject(e),void gi(t);p(t._writableStreamController[x](i._reason),(()=>(i._resolve(),gi(t),null)),(e=>(i._reject(e),gi(t),null)))}function li(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function ci(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,si(t,e)}function ui(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,"erroring"===t._state&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";const e=t._writer;void 0!==e&&Xi(e)}function hi(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),si(t,e)}function pi(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function di(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}function fi(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function mi(t){t._inFlightWriteRequest=t._writeRequests.shift()}function gi(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;void 0!==e&&Ji(e,t._storedError)}function Di(t,e){const i=t._writer;void 0!==i&&e!==t._backpressure&&(e?nr(i):or(i)),t._backpressure=e}Object.defineProperties(Qe.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),n(Qe.prototype.abort,"abort"),n(Qe.prototype.close,"close"),n(Qe.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Qe.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class bi{constructor(t){if(H(t,1,"WritableStreamDefaultWriter"),Ge(t,"First parameter"),ei(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;const e=t._state;if("writable"===e)!pi(t)&&t._backpressure?tr(this):ir(this),Yi(this);else if("erroring"===e)er(this,t._storedError),Yi(this);else if("closed"===e)ir(this),Qi(this);else{const e=t._storedError;er(this,e),Ki(this,e)}}get closed(){return yi(this)?this._closedPromise:u(Gi("closed"))}get desiredSize(){if(!yi(this))throw Gi("desiredSize");if(void 0===this._ownerWritableStream)throw Vi("desiredSize");return _i(this)}get ready(){return yi(this)?this._readyPromise:u(Gi("ready"))}abort(t=void 0){return yi(this)?void 0===this._ownerWritableStream?u(Vi("abort")):vi(this,t):u(Gi("abort"))}close(){if(!yi(this))return u(Gi("close"));const t=this._ownerWritableStream;return void 0===t?u(Vi("close")):pi(t)?u(new TypeError("Cannot close an already-closing stream")):wi(this)}releaseLock(){if(!yi(this))throw Gi("releaseLock");void 0!==this._ownerWritableStream&&Si(this)}write(t=void 0){return yi(this)?void 0===this._ownerWritableStream?u(Vi("write to")):Ci(this,t):u(Gi("write"))}}function yi(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof bi}function vi(t,e){return ii(t._ownerWritableStream,e)}function wi(t){return ri(t._ownerWritableStream)}function xi(t){const e=t._ownerWritableStream,i=e._state;return pi(e)||"closed"===i?c(void 0):"errored"===i?u(e._storedError):wi(t)}function Fi(t,e){"pending"===t._closedPromiseState?Ji(t,e):Zi(t,e)}function Ei(t,e){"pending"===t._readyPromiseState?rr(t,e):sr(t,e)}function _i(t){const e=t._ownerWritableStream,i=e._state;return"errored"===i||"erroring"===i?null:"closed"===i?0:Li(e._writableStreamController)}function Si(t){const e=t._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ei(t,i),Fi(t,i),e._writer=void 0,t._ownerWritableStream=void 0}function Ci(t,e){const i=t._ownerWritableStream,r=i._writableStreamController,n=Ri(r,e);if(i!==t._ownerWritableStream)return u(Vi("write to"));const s=i._state;if("errored"===s)return u(i._storedError);if(pi(i)||"closed"===s)return u(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===s)return u(i._storedError);const o=ni(i);return Mi(r,e,n),o}Object.defineProperties(bi.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),n(bi.prototype.abort,"abort"),n(bi.prototype.close,"close"),n(bi.prototype.releaseLock,"releaseLock"),n(bi.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(bi.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const ki={};class Ai{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Ti(this))throw Hi("abortReason");return this._abortReason}get signal(){if(!Ti(this))throw Hi("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Ti(this))throw Hi("error");"writable"===this._controlledWritableStream._state&&qi(this,t)}[x](t){const e=this._abortAlgorithm(t);return Bi(this),e}[F](){Lt(this)}}function Ti(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof Ai}function Oi(t,e,i,r,n,s,o,a){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,Lt(e),e._abortReason=void 0,e._abortController=Ke(),e._started=!1,e._strategySizeAlgorithm=a,e._strategyHWM=o,e._writeAlgorithm=r,e._closeAlgorithm=n,e._abortAlgorithm=s;const l=Ni(e);Di(t,l),p(c(i()),(()=>(e._started=!0,zi(e),null)),(i=>(e._started=!0,si(t,i),null)))}function ji(t,e,i,r){const n=Object.create(Ai.prototype);let s,o,a,l;s=void 0!==e.start?()=>e.start(n):()=>{},o=void 0!==e.write?t=>e.write(t,n):()=>c(void 0),a=void 0!==e.close?()=>e.close():()=>c(void 0),l=void 0!==e.abort?t=>e.abort(t):()=>c(void 0),Oi(t,n,s,o,a,l,i,r)}function Bi(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Pi(t){Pt(t,ki,0),zi(t)}function Ri(t,e){try{return t._strategySizeAlgorithm(e)}catch(e){return $i(t,e),1}}function Li(t){return t._strategyHWM-t._queueTotalSize}function Mi(t,e,i){try{Pt(t,e,i)}catch(e){return void $i(t,e)}const r=t._controlledWritableStream;pi(r)||"writable"!==r._state||Di(r,Ni(t)),zi(t)}function zi(t){const e=t._controlledWritableStream;if(!t._started)return;if(void 0!==e._inFlightWriteRequest)return;if("erroring"===e._state)return void ai(e);if(0===t._queue.length)return;const i=Rt(t);i===ki?Ii(t):Wi(t,i)}function $i(t,e){"writable"===t._controlledWritableStream._state&&qi(t,e)}function Ii(t){const e=t._controlledWritableStream;fi(e),Bt(t);const i=t._closeAlgorithm();Bi(t),p(i,(()=>(ui(e),null)),(t=>(hi(e,t),null)))}function Wi(t,e){const i=t._controlledWritableStream;mi(i),p(t._writeAlgorithm(e),(()=>{li(i);const e=i._state;if(Bt(t),!pi(i)&&"writable"===e){const e=Ni(t);Di(i,e)}return zi(t),null}),(e=>("writable"===i._state&&Bi(t),ci(i,e),null)))}function Ni(t){return Li(t)<=0}function qi(t,e){const i=t._controlledWritableStream;Bi(t),oi(i,e)}function Ui(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function Hi(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function Gi(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Vi(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Yi(t){t._closedPromise=l(((e,i)=>{t._closedPromise_resolve=e,t._closedPromise_reject=i,t._closedPromiseState="pending"}))}function Ki(t,e){Yi(t),Ji(t,e)}function Qi(t){Yi(t),Xi(t)}function Ji(t,e){void 0!==t._closedPromise_reject&&(g(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function Zi(t,e){Ki(t,e)}function Xi(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function tr(t){t._readyPromise=l(((e,i)=>{t._readyPromise_resolve=e,t._readyPromise_reject=i})),t._readyPromiseState="pending"}function er(t,e){tr(t),rr(t,e)}function ir(t){tr(t),or(t)}function rr(t,e){void 0!==t._readyPromise_reject&&(g(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function nr(t){tr(t)}function sr(t,e){er(t,e)}function or(t){void 0!==t._readyPromise_resolve&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}function ar(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==_?_:void 0}Object.defineProperties(Ai.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ai.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const lr=ar();function cr(t){if("function"!=typeof t&&"object"!=typeof t)return!1;if("DOMException"!==t.name)return!1;try{return new t,!0}catch(t){return!1}}function ur(){const t=null==lr?void 0:lr.DOMException;return cr(t)?t:void 0}function hr(){const t=function(t,e){this.message=t||"",this.name=e||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return n(t,"DOMException"),t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}const pr=ur()||hr();function dr(t,i,r,n,s,o){const a=Z(t),u=Je(i);t._disturbed=!0;let m=!1,D=c(void 0);return l(((b,y)=>{let v;if(void 0!==o){if(v=()=>{const e=void 0!==o.reason?o.reason:new pr("Aborted","AbortError"),r=[];n||r.push((()=>"writable"===i._state?ii(i,e):c(void 0))),s||r.push((()=>"readable"===t._state?Qr(t,e):c(void 0))),S((()=>Promise.all(r.map((t=>t())))),!0,e)},o.aborted)return void v();o.addEventListener("abort",v)}function w(){return l(((t,e)=>{function i(r){r?t():h(x(),i,e)}i(!1)}))}function x(){return m?c(!0):h(u._readyPromise,(()=>l(((t,i)=>{st(a,{_chunkSteps:i=>{D=h(Ci(u,i),void 0,e),t(!1)},_closeSteps:()=>t(!0),_errorSteps:i})}))))}if(E(t,a._closedPromise,(t=>(n?C(!0,t):S((()=>ii(i,t)),!0,t),null))),E(i,u._closedPromise,(e=>(s?C(!0,e):S((()=>Qr(t,e)),!0,e),null))),_(t,a._closedPromise,(()=>(r?C():S((()=>xi(u))),null))),pi(i)||"closed"===i._state){const e=new TypeError("the destination writable stream closed before all data could be piped to it");s?C(!0,e):S((()=>Qr(t,e)),!0,e)}function F(){const t=D;return h(D,(()=>t!==D?F():void 0))}function E(t,e,i){"errored"===t._state?i(t._storedError):f(e,i)}function _(t,e,i){"closed"===t._state?i():d(e,i)}function S(t,e,r){function n(){return p(t(),(()=>k(e,r)),(t=>k(!0,t))),null}m||(m=!0,"writable"!==i._state||pi(i)?n():d(F(),n))}function C(t,e){m||(m=!0,"writable"!==i._state||pi(i)?k(t,e):d(F(),(()=>k(t,e))))}function k(t,e){return Si(u),T(a),void 0!==o&&o.removeEventListener("abort",v),t?y(e):b(void 0),null}g(w())}))}class fr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!mr(this))throw Cr("desiredSize");return xr(this)}close(){if(!mr(this))throw Cr("close");if(!Er(this))throw new TypeError("The stream is not in a state that permits close");yr(this)}enqueue(t=void 0){if(!mr(this))throw Cr("enqueue");if(!Er(this))throw new TypeError("The stream is not in a state that permits enqueue");return vr(this,t)}error(t=void 0){if(!mr(this))throw Cr("error");wr(this,t)}[E](t){Lt(this);const e=this._cancelAlgorithm(t);return br(this),e}[S](t){const e=this._controlledReadableStream;if(this._queue.length>0){const i=Bt(this);this._closeRequested&&0===this._queue.length?(br(this),Jr(e)):gr(this),t._chunkSteps(i)}else X(e,t),gr(this)}[C](){}}function mr(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof fr}function gr(t){Dr(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),(()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,gr(t)),null)),(e=>(wr(t,e),null)))))}function Dr(t){const e=t._controlledReadableStream;return!!Er(t)&&!!t._started&&(!!(Kr(e)&&et(e)>0)||xr(t)>0)}function br(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function yr(t){if(!Er(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(br(t),Jr(e))}function vr(t,e){if(!Er(t))return;const i=t._controlledReadableStream;if(Kr(i)&&et(i)>0)tt(i,e,!1);else{let i;try{i=t._strategySizeAlgorithm(e)}catch(e){throw wr(t,e),e}try{Pt(t,e,i)}catch(e){throw wr(t,e),e}}gr(t)}function wr(t,e){const i=t._controlledReadableStream;"readable"===i._state&&(Lt(t),br(t),Zr(i,e))}function xr(t){const e=t._controlledReadableStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function Fr(t){return!Dr(t)}function Er(t){const e=t._controlledReadableStream._state;return!t._closeRequested&&"readable"===e}function _r(t,e,i,r,n,s,o){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,Lt(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=o,e._strategyHWM=s,e._pullAlgorithm=r,e._cancelAlgorithm=n,t._readableStreamController=e,p(c(i()),(()=>(e._started=!0,gr(e),null)),(t=>(wr(e,t),null)))}function Sr(t,e,i,r){const n=Object.create(fr.prototype);let s,o,a;s=void 0!==e.start?()=>e.start(n):()=>{},o=void 0!==e.pull?()=>e.pull(n):()=>c(void 0),a=void 0!==e.cancel?t=>e.cancel(t):()=>c(void 0),_r(t,n,s,o,a,i,r)}function Cr(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function kr(t,e){return Nt(t._readableStreamController)?Tr(t):Ar(t)}function Ar(t,e){const i=Z(t);let r,n,s,o,a,u=!1,h=!1,p=!1,d=!1;const m=l((t=>{a=t}));function g(){return u?(h=!0,c(void 0)):(u=!0,st(i,{_chunkSteps:t=>{D((()=>{h=!1;const e=t,i=t;p||vr(s._readableStreamController,e),d||vr(o._readableStreamController,i),u=!1,h&&g()}))},_closeSteps:()=>{u=!1,p||yr(s._readableStreamController),d||yr(o._readableStreamController),p&&d||a(void 0)},_errorSteps:()=>{u=!1}}),c(void 0))}function b(e){if(p=!0,r=e,d){const e=yt([r,n]),i=Qr(t,e);a(i)}return m}function y(e){if(d=!0,n=e,p){const e=yt([r,n]),i=Qr(t,e);a(i)}return m}function v(){}return s=Hr(v,g,b),o=Hr(v,g,y),f(i._closedPromise,(t=>(wr(s._readableStreamController,t),wr(o._readableStreamController,t),p&&d||a(void 0),null))),[s,o]}function Tr(t){let e,i,r,n,s,o=Z(t),a=!1,u=!1,h=!1,p=!1,d=!1;const m=l((t=>{s=t}));function g(t){f(t._closedPromise,(e=>(t!==o||(pe(r._readableStreamController,e),pe(n._readableStreamController,e),p&&d||s(void 0)),null)))}function b(){je(o)&&(T(o),o=Z(t),g(o)),st(o,{_chunkSteps:e=>{D((()=>{u=!1,h=!1;const i=e;let o=e;if(!p&&!d)try{o=jt(e)}catch(e){return pe(r._readableStreamController,e),pe(n._readableStreamController,e),void s(Qr(t,e))}p||he(r._readableStreamController,i),d||he(n._readableStreamController,o),a=!1,u?v():h&&w()}))},_closeSteps:()=>{a=!1,p||ue(r._readableStreamController),d||ue(n._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&ge(r._readableStreamController,0),n._readableStreamController._pendingPullIntos.length>0&&ge(n._readableStreamController,0),p&&d||s(void 0)},_errorSteps:()=>{a=!1}})}function y(e,i){nt(o)&&(T(o),o=Se(t),g(o));const l=i?n:r,c=i?r:n;Be(o,e,1,{_chunkSteps:e=>{D((()=>{u=!1,h=!1;const r=i?d:p;if(i?p:d)r||De(l._readableStreamController,e);else{let i;try{i=jt(e)}catch(e){return pe(l._readableStreamController,e),pe(c._readableStreamController,e),void s(Qr(t,e))}r||De(l._readableStreamController,e),he(c._readableStreamController,i)}a=!1,u?v():h&&w()}))},_closeSteps:t=>{a=!1;const e=i?d:p,r=i?p:d;e||ue(l._readableStreamController),r||ue(c._readableStreamController),void 0!==t&&(e||De(l._readableStreamController,t),!r&&c._readableStreamController._pendingPullIntos.length>0&&ge(c._readableStreamController,0)),e&&r||s(void 0)},_errorSteps:()=>{a=!1}})}function v(){if(a)return u=!0,c(void 0);a=!0;const t=fe(r._readableStreamController);return null===t?b():y(t._view,!1),c(void 0)}function w(){if(a)return h=!0,c(void 0);a=!0;const t=fe(n._readableStreamController);return null===t?b():y(t._view,!0),c(void 0)}function x(r){if(p=!0,e=r,d){const r=yt([e,i]),n=Qr(t,r);s(n)}return m}function F(r){if(d=!0,i=r,p){const r=yt([e,i]),n=Qr(t,r);s(n)}return m}function E(){}return r=Gr(E,v,x),n=Gr(E,w,F),g(o),[r,n]}function Or(t){return i(t)&&void 0!==t.getReader}function jr(t){return Or(t)?Pr(t.getReader()):Br(t)}function Br(t){let r;const n=Ct(t,"async");function s(){let t;try{t=kt(n)}catch(t){return u(t)}return m(c(t),(t=>{if(!i(t))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(At(t))yr(r._readableStreamController);else{const e=Tt(t);vr(r._readableStreamController,e)}}))}function o(t){const e=n.iterator;let r,s;try{r=Et(e,"return")}catch(t){return u(t)}if(void 0===r)return c(void 0);try{s=b(r,e,[t])}catch(t){return u(t)}return m(c(s),(t=>{if(!i(t))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")}))}return r=Hr(e,s,o,0),r}function Pr(t){let r;function n(){let e;try{e=t.read()}catch(t){return u(t)}return m(e,(t=>{if(!i(t))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(t.done)yr(r._readableStreamController);else{const e=t.value;vr(r._readableStreamController,e)}}))}function s(e){try{return c(t.cancel(e))}catch(t){return u(t)}}return r=Hr(e,n,s,0),r}function Rr(t,e){W(t,e);const i=t,r=null==i?void 0:i.autoAllocateChunkSize,n=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,o=null==i?void 0:i.start,a=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===r?void 0:Q(r,`${e} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:Lr(n,i,`${e} has member 'cancel' that`),pull:void 0===s?void 0:Mr(s,i,`${e} has member 'pull' that`),start:void 0===o?void 0:zr(o,i,`${e} has member 'start' that`),type:void 0===a?void 0:$r(a,`${e} has member 'type' that`)}}function Lr(t,e,i){return N(t,i),i=>y(t,e,[i])}function Mr(t,e,i){return N(t,i),i=>y(t,e,[i])}function zr(t,e,i){return N(t,i),i=>b(t,e,[i])}function $r(t,e){if("bytes"!=(t=`${t}`))throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function Ir(t,e){W(t,e);const i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}function Wr(t,e){W(t,e);const i=null==t?void 0:t.preventAbort,r=null==t?void 0:t.preventCancel,n=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&Nr(s,`${e} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(r),preventClose:Boolean(n),signal:s}}function Nr(t,e){if(!Ve(t))throw new TypeError(`${e} is not an AbortSignal.`)}function qr(t,e){W(t,e);const i=null==t?void 0:t.readable;G(i,"readable","ReadableWritablePair"),J(i,`${e} has member 'readable' that`);const r=null==t?void 0:t.writable;return G(r,"writable","ReadableWritablePair"),Ge(r,`${e} has member 'writable' that`),{readable:i,writable:r}}Object.defineProperties(fr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),n(fr.prototype.close,"close"),n(fr.prototype.enqueue,"enqueue"),n(fr.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(fr.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Ur{constructor(t={},e={}){void 0===t?t=null:U(t,"First parameter");const i=$e(e,"Second parameter"),r=Rr(t,"First parameter");if(Vr(this),"bytes"===r.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");ye(this,r,Me(i,0))}else{const t=ze(i);Sr(this,r,Me(i,1),t)}}get locked(){if(!Yr(this))throw Xr("locked");return Kr(this)}cancel(t=void 0){return Yr(this)?Kr(this)?u(new TypeError("Cannot cancel a stream that already has a reader")):Qr(this,t):u(Xr("cancel"))}getReader(t=void 0){if(!Yr(this))throw Xr("getReader");return void 0===Fe(t,"First parameter").mode?Z(this):Se(this)}pipeThrough(t,e={}){if(!Yr(this))throw Xr("pipeThrough");H(t,1,"pipeThrough");const i=qr(t,"First parameter"),r=Wr(e,"Second parameter");if(Kr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ei(i.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return g(dr(this,i.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),i.readable}pipeTo(t,e={}){if(!Yr(this))return u(Xr("pipeTo"));if(void 0===t)return u("Parameter 1 is required in 'pipeTo'.");if(!ti(t))return u(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let i;try{i=Wr(e,"Second parameter")}catch(t){return u(t)}return Kr(this)?u(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ei(t)?u(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):dr(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)}tee(){if(!Yr(this))throw Xr("tee");return yt(kr(this))}values(t=void 0){if(!Yr(this))throw Xr("values");return pt(this,Ir(t,"First parameter").preventCancel)}[St](t){return this.values(t)}static from(t){return jr(t)}}function Hr(t,e,i,r=1,n=(()=>1)){const s=Object.create(Ur.prototype);return Vr(s),_r(s,Object.create(fr.prototype),t,e,i,r,n),s}function Gr(t,e,i){const r=Object.create(Ur.prototype);return Vr(r),be(r,Object.create(Wt.prototype),t,e,i,0,void 0),r}function Vr(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Yr(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof Ur}function Kr(t){return void 0!==t._reader}function Qr(t,i){if(t._disturbed=!0,"closed"===t._state)return c(void 0);if("errored"===t._state)return u(t._storedError);Jr(t);const r=t._reader;if(void 0!==r&&je(r)){const t=r._readIntoRequests;r._readIntoRequests=new w,t.forEach((t=>{t._closeSteps(void 0)}))}return m(t._readableStreamController[E](i),e)}function Jr(t){t._state="closed";const e=t._reader;if(void 0!==e&&(M(e),nt(e))){const t=e._readRequests;e._readRequests=new w,t.forEach((t=>{t._closeSteps()}))}}function Zr(t,e){t._state="errored",t._storedError=e;const i=t._reader;void 0!==i&&(R(i,e),nt(i)?at(i,e):Re(i,e))}function Xr(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function tn(t,e){W(t,e);const i=null==t?void 0:t.highWaterMark;return G(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:V(i)}}Object.defineProperties(Ur,{from:{enumerable:!0}}),Object.defineProperties(Ur.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),n(Ur.from,"from"),n(Ur.prototype.cancel,"cancel"),n(Ur.prototype.getReader,"getReader"),n(Ur.prototype.pipeThrough,"pipeThrough"),n(Ur.prototype.pipeTo,"pipeTo"),n(Ur.prototype.tee,"tee"),n(Ur.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ur.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Ur.prototype,St,{value:Ur.prototype.values,writable:!0,configurable:!0});const en=t=>t.byteLength;n(en,"size");class rn{constructor(t){H(t,1,"ByteLengthQueuingStrategy"),t=tn(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!sn(this))throw nn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!sn(this))throw nn("size");return en}}function nn(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function sn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")&&t instanceof rn}Object.defineProperties(rn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rn.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const on=()=>1;n(on,"size");class an{constructor(t){H(t,1,"CountQueuingStrategy"),t=tn(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!cn(this))throw ln("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!cn(this))throw ln("size");return on}}function ln(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function cn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")&&t instanceof an}function un(t,e){W(t,e);const i=null==t?void 0:t.cancel,r=null==t?void 0:t.flush,n=null==t?void 0:t.readableType,s=null==t?void 0:t.start,o=null==t?void 0:t.transform,a=null==t?void 0:t.writableType;return{cancel:void 0===i?void 0:fn(i,t,`${e} has member 'cancel' that`),flush:void 0===r?void 0:hn(r,t,`${e} has member 'flush' that`),readableType:n,start:void 0===s?void 0:pn(s,t,`${e} has member 'start' that`),transform:void 0===o?void 0:dn(o,t,`${e} has member 'transform' that`),writableType:a}}function hn(t,e,i){return N(t,i),i=>y(t,e,[i])}function pn(t,e,i){return N(t,i),i=>b(t,e,[i])}function dn(t,e,i){return N(t,i),(i,r)=>y(t,e,[i,r])}function fn(t,e,i){return N(t,i),i=>y(t,e,[i])}Object.defineProperties(an.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(an.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class mn{constructor(t={},e={},i={}){void 0===t&&(t=null);const r=$e(e,"Second parameter"),n=$e(i,"Third parameter"),s=un(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");const o=Me(n,0),a=ze(n),c=Me(r,1),u=ze(r);let h;gn(this,l((t=>{h=t})),c,u,o,a),_n(this,s),void 0!==s.start?h(s.start(this._transformStreamController)):h(void 0)}get readable(){if(!Dn(this))throw $n("readable");return this._readable}get writable(){if(!Dn(this))throw $n("writable");return this._writable}}function gn(t,e,i,r,n,s){function o(){return e}function a(e){return On(t,e)}function l(e){return jn(t,e)}function c(){return Bn(t)}function u(){return Pn(t)}function h(e){return Rn(t,e)}t._writable=Ze(o,a,c,l,i,r),t._readable=Hr(o,u,h,n,s),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,wn(t,!0),t._transformStreamController=void 0}function Dn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof mn}function bn(t,e){wr(t._readable._readableStreamController,e),yn(t,e)}function yn(t,e){Sn(t._transformStreamController),$i(t._writable._writableStreamController,e),vn(t)}function vn(t){t._backpressure&&wn(t,!1)}function wn(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=l((e=>{t._backpressureChangePromise_resolve=e})),t._backpressure=e}Object.defineProperties(mn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(mn.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class xn{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Fn(this))throw Ln("desiredSize");return xr(this._controlledTransformStream._readable._readableStreamController)}enqueue(t=void 0){if(!Fn(this))throw Ln("enqueue");Cn(this,t)}error(t=void 0){if(!Fn(this))throw Ln("error");kn(this,t)}terminate(){if(!Fn(this))throw Ln("terminate");Tn(this)}}function Fn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof xn}function En(t,e,i,r,n){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=i,e._flushAlgorithm=r,e._cancelAlgorithm=n,e._finishPromise=void 0,e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0}function _n(t,e){const i=Object.create(xn.prototype);let r,n,s;r=void 0!==e.transform?t=>e.transform(t,i):t=>{try{return Cn(i,t),c(void 0)}catch(t){return u(t)}},n=void 0!==e.flush?()=>e.flush(i):()=>c(void 0),s=void 0!==e.cancel?t=>e.cancel(t):()=>c(void 0),En(t,i,r,n,s)}function Sn(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0,t._cancelAlgorithm=void 0}function Cn(t,e){const i=t._controlledTransformStream,r=i._readable._readableStreamController;if(!Er(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{vr(r,e)}catch(t){throw yn(i,t),i._readable._storedError}Fr(r)!==i._backpressure&&wn(i,!0)}function kn(t,e){bn(t._controlledTransformStream,e)}function An(t,e){return m(t._transformAlgorithm(e),void 0,(e=>{throw bn(t._controlledTransformStream,e),e}))}function Tn(t){const e=t._controlledTransformStream;yr(e._readable._readableStreamController),yn(e,new TypeError("TransformStream terminated"))}function On(t,e){const i=t._transformStreamController;return t._backpressure?m(t._backpressureChangePromise,(()=>{const r=t._writable;if("erroring"===r._state)throw r._storedError;return An(i,e)})):An(i,e)}function jn(t,e){const i=t._transformStreamController;if(void 0!==i._finishPromise)return i._finishPromise;const r=t._readable;i._finishPromise=l(((t,e)=>{i._finishPromise_resolve=t,i._finishPromise_reject=e}));const n=i._cancelAlgorithm(e);return Sn(i),p(n,(()=>("errored"===r._state?zn(i,r._storedError):(wr(r._readableStreamController,e),Mn(i)),null)),(t=>(wr(r._readableStreamController,t),zn(i,t),null))),i._finishPromise}function Bn(t){const e=t._transformStreamController;if(void 0!==e._finishPromise)return e._finishPromise;const i=t._readable;e._finishPromise=l(((t,i)=>{e._finishPromise_resolve=t,e._finishPromise_reject=i}));const r=e._flushAlgorithm();return Sn(e),p(r,(()=>("errored"===i._state?zn(e,i._storedError):(yr(i._readableStreamController),Mn(e)),null)),(t=>(wr(i._readableStreamController,t),zn(e,t),null))),e._finishPromise}function Pn(t){return wn(t,!1),t._backpressureChangePromise}function Rn(t,e){const i=t._transformStreamController;if(void 0!==i._finishPromise)return i._finishPromise;const r=t._writable;i._finishPromise=l(((t,e)=>{i._finishPromise_resolve=t,i._finishPromise_reject=e}));const n=i._cancelAlgorithm(e);return Sn(i),p(n,(()=>("errored"===r._state?zn(i,r._storedError):($i(r._writableStreamController,e),vn(t),Mn(i)),null)),(e=>($i(r._writableStreamController,e),vn(t),zn(i,e),null))),i._finishPromise}function Ln(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function Mn(t){void 0!==t._finishPromise_resolve&&(t._finishPromise_resolve(),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function zn(t,e){void 0!==t._finishPromise_reject&&(g(t._finishPromise),t._finishPromise_reject(e),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function $n(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(xn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),n(xn.prototype.enqueue,"enqueue"),n(xn.prototype.error,"error"),n(xn.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(xn.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=rn,t.CountQueuingStrategy=an,t.ReadableByteStreamController=Wt,t.ReadableStream=Ur,t.ReadableStreamBYOBReader=Oe,t.ReadableStreamBYOBRequest=It,t.ReadableStreamDefaultController=fr,t.ReadableStreamDefaultReader=rt,t.TransformStream=mn,t.TransformStreamDefaultController=xn,t.WritableStream=Qe,t.WritableStreamDefaultController=Ai,t.WritableStreamDefaultWriter=bi}(k.exports)),k.exports))}try{const{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(t){let e=0;const i=this;return new ReadableStream({type:"bytes",async pull(t){const r=i.slice(e,Math.min(i.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,t.enqueue(new Uint8Array(n)),e===i.size&&t.close()}})})}catch(t){}
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */async function*A(t,e=!0){for(const i of t)if("stream"in i)yield*i.stream();else if(ArrayBuffer.isView(i))if(e){let t=i.byteOffset;const e=i.byteOffset+i.byteLength;for(;t!==e;){const r=Math.min(e-t,65536),n=i.buffer.slice(t,t+r);t+=n.byteLength,yield new Uint8Array(n)}}else yield i;else{let t=0,e=i;for(;t!==e.size;){const i=e.slice(t,Math.min(e.size,t+65536)),r=await i.arrayBuffer();t+=r.byteLength,yield new Uint8Array(r)}}}const T=class t{#t=[];#e="";#i=0;#r="transparent";constructor(e=[],i={}){if("object"!=typeof e||null===e)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof e[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof i&&"function"!=typeof i)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===i&&(i={});const r=new TextEncoder;for(const i of e){let e;e=ArrayBuffer.isView(i)?new Uint8Array(i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)):i instanceof ArrayBuffer?new Uint8Array(i.slice(0)):i instanceof t?i:r.encode(`${i}`),this.#i+=ArrayBuffer.isView(e)?e.byteLength:e.size,this.#t.push(e)}this.#r=`${void 0===i.endings?"transparent":i.endings}`;const n=void 0===i.type?"":String(i.type);this.#e=/^[\x20-\x7E]*$/.test(n)?n:""}get size(){return this.#i}get type(){return this.#e}async text(){const t=new TextDecoder;let e="";for await(const i of A(this.#t,!1))e+=t.decode(i,{stream:!0});return e+=t.decode(),e}async arrayBuffer(){const t=new Uint8Array(this.size);let e=0;for await(const i of A(this.#t,!1))t.set(i,e),e+=i.length;return t.buffer}stream(){const t=A(this.#t,!0);return new globalThis.ReadableStream({type:"bytes",async pull(e){const i=await t.next();i.done?e.close():e.enqueue(i.value)},async cancel(){await t.return()}})}slice(e=0,i=this.size,r=""){const{size:n}=this;let s=e<0?Math.max(n+e,0):Math.min(e,n),o=i<0?Math.max(n+i,0):Math.min(i,n);const a=Math.max(o-s,0),l=this.#t,c=[];let u=0;for(const t of l){if(u>=a)break;const e=ArrayBuffer.isView(t)?t.byteLength:t.size;if(s&&e<=s)s-=e,o-=e;else{let i;ArrayBuffer.isView(t)?(i=t.subarray(s,Math.min(e,o)),u+=i.byteLength):(i=t.slice(s,Math.min(e,o)),u+=i.size),o-=e,c.push(i),s=0}}const h=new t([],{type:String(r).toLowerCase()});return h.#i=a,h.#t=c,h}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&"object"==typeof t&&"function"==typeof t.constructor&&("function"==typeof t.stream||"function"==typeof t.arrayBuffer)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}};Object.defineProperties(T.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const O=T,j=class extends O{#n=0;#s="";constructor(t,e,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,i),null===i&&(i={});const r=void 0===i.lastModified?Date.now():Number(i.lastModified);Number.isNaN(r)||(this.#n=r),this.#s=String(e)}get name(){return this.#s}get lastModified(){return this.#n}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof O&&/^(File)$/.test(t[Symbol.toStringTag])}};
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
var{toStringTag:B,iterator:P,hasInstance:R}=Symbol,L=Math.random,M="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),z=(t,e,i)=>(t+="",/^(Blob|File)$/.test(e&&e[B])?[(i=void 0!==i?i+"":"File"==e[B]?e.name:"blob",t),e.name!==i||"blob"==e[B]?new j([e],i,e):e]:[t,e+""]),$=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),I=(t,e,i)=>{if(e.length<i)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${i} arguments required, but only ${e.length} present.`)};const W=class{#o=[];constructor(...t){if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[B](){return"FormData"}[P](){return this.entries()}static[R](t){return t&&"object"==typeof t&&"FormData"===t[B]&&!M.some((e=>"function"!=typeof t[e]))}append(...t){I("append",arguments,2),this.#o.push(z(...t))}delete(t){I("delete",arguments,1),t+="",this.#o=this.#o.filter((([e])=>e!==t))}get(t){I("get",arguments,1),t+="";for(var e=this.#o,i=e.length,r=0;r<i;r++)if(e[r][0]===t)return e[r][1];return null}getAll(t,e){return I("getAll",arguments,1),e=[],t+="",this.#o.forEach((i=>i[0]===t&&e.push(i[1]))),e}has(t){return I("has",arguments,1),t+="",this.#o.some((e=>e[0]===t))}forEach(t,e){for(var[i,r]of(I("forEach",arguments,1),this))t.call(e,r,i,this)}set(...t){I("set",arguments,2);var e=[],i=!0;t=z(...t),this.#o.forEach((r=>{r[0]===t[0]?i&&(i=!e.push(t)):e.push(r)})),i&&e.push(t),this.#o=e}*entries(){yield*this.#o}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}};class N extends Error{constructor(t,e){super(t),Error.captureStackTrace(this,this.constructor),this.type=e}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class q extends N{constructor(t,e,i){super(t,e),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}}const U=Symbol.toStringTag,H=t=>"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&"function"==typeof t.sort&&"URLSearchParams"===t[U],G=t=>t&&"object"==typeof t&&"function"==typeof t.arrayBuffer&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.constructor&&/^(Blob|File)$/.test(t[U]),V=(t,e)=>{const i=new URL(e).hostname,r=new URL(t).hostname;return i===r||i.endsWith(`.${r}`)},Y=(t,e)=>new URL(e).protocol===new URL(t).protocol,K=a.promisify(s.pipeline),Q=Symbol("Body internals");class J{constructor(t,{size:e=0}={}){let i=null;null===t?t=null:H(t)?t=o.Buffer.from(t.toString()):G(t)||o.Buffer.isBuffer(t)||(a.types.isAnyArrayBuffer(t)?t=o.Buffer.from(t):ArrayBuffer.isView(t)?t=o.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof s||(t instanceof W?(t=function(t,e=O){var i=`${L()}${L()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),r=[],n=`--${i}\r\nContent-Disposition: form-data; name="`;return t.forEach(((t,e)=>"string"==typeof t?r.push(n+$(e)+`"\r\n\r\n${t.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):r.push(n+$(e)+`"; filename="${$(t.name,1)}"\r\nContent-Type: ${t.type||"application/octet-stream"}\r\n\r\n`,t,"\r\n"))),r.push(`--${i}--`),new e(r,{type:"multipart/form-data; boundary="+i})}(t),i=t.type.split("=")[1]):t=o.Buffer.from(String(t))));let r=t;o.Buffer.isBuffer(t)?r=s.Readable.from(t):G(t)&&(r=s.Readable.from(t.stream())),this[Q]={body:t,stream:r,boundary:i,disturbed:!1,error:null},this.size=e,t instanceof s&&t.on("error",(t=>{const e=t instanceof N?t:new q(`Invalid response body while trying to fetch ${this.url}: ${t.message}`,"system",t);this[Q].error=e}))}get body(){return this[Q].stream}get bodyUsed(){return this[Q].disturbed}async arrayBuffer(){const{buffer:t,byteOffset:e,byteLength:i}=await Z(this);return t.slice(e,e+i)}async formData(){const t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){const t=new W,e=new URLSearchParams(await this.text());for(const[i,r]of e)t.append(i,r);return t}const{toFormData:e}=await Promise.resolve().then((function(){return al}));return e(this.body,t)}async blob(){const t=this.headers&&this.headers.get("content-type")||this[Q].body&&this[Q].body.type||"",e=await this.arrayBuffer();return new O([e],{type:t})}async json(){const t=await this.text();return JSON.parse(t)}async text(){const t=await Z(this);return(new TextDecoder).decode(t)}buffer(){return Z(this)}}async function Z(t){if(t[Q].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[Q].disturbed=!0,t[Q].error)throw t[Q].error;const{body:e}=t;if(null===e)return o.Buffer.alloc(0);if(!(e instanceof s))return o.Buffer.alloc(0);const i=[];let r=0;try{for await(const n of e){if(t.size>0&&r+n.length>t.size){const i=new q(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(i),i}r+=n.length,i.push(n)}}catch(e){throw e instanceof N?e:new q(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e)}if(!0!==e.readableEnded&&!0!==e._readableState.ended)throw new q(`Premature close of server response while trying to fetch ${t.url}`);try{return i.every((t=>"string"==typeof t))?o.Buffer.from(i.join("")):o.Buffer.concat(i,r)}catch(e){throw new q(`Could not create Buffer from response body for ${t.url}: ${e.message}`,"system",e)}}J.prototype.buffer=a.deprecate(J.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(J.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:a.deprecate((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const X=(t,e)=>{let i,r,{body:n}=t[Q];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof s&&"function"!=typeof n.getBoundary&&(i=new s.PassThrough({highWaterMark:e}),r=new s.PassThrough({highWaterMark:e}),n.pipe(i),n.pipe(r),t[Q].stream=i,n=r),n},tt=a.deprecate((t=>t.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),et=(t,e)=>null===t?null:"string"==typeof t?"text/plain;charset=UTF-8":H(t)?"application/x-www-form-urlencoded;charset=UTF-8":G(t)?t.type||null:o.Buffer.isBuffer(t)||a.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof W?`multipart/form-data; boundary=${e[Q].boundary}`:t&&"function"==typeof t.getBoundary?`multipart/form-data;boundary=${tt(t)}`:t instanceof s?null:"text/plain;charset=UTF-8",it=async(t,{body:e})=>{null===e?t.end():await K(e,t)},rt="function"==typeof i.validateHeaderName?i.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){const e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},nt="function"==typeof i.validateHeaderValue?i.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){const e=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_CHAR"}),e}};class st extends URLSearchParams{constructor(t){let e=[];if(t instanceof st){const i=t.raw();for(const[t,r]of Object.entries(i))e.push(...r.map((e=>[t,e])))}else if(null==t);else{if("object"!=typeof t||a.types.isBoxedPrimitive(t))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const i=t[Symbol.iterator];if(null==i)e.push(...Object.entries(t));else{if("function"!=typeof i)throw new TypeError("Header pairs must be iterable");e=[...t].map((t=>{if("object"!=typeof t||a.types.isBoxedPrimitive(t))throw new TypeError("Each header pair must be an iterable object");return[...t]})).map((t=>{if(2!==t.length)throw new TypeError("Each header pair must be a name/value tuple");return[...t]}))}}}return e=e.length>0?e.map((([t,e])=>(rt(t),nt(t,String(e)),[String(t).toLowerCase(),String(e)]))):void 0,super(e),new Proxy(this,{get(t,e,i){switch(e){case"append":case"set":return(i,r)=>(rt(i),nt(i,String(r)),URLSearchParams.prototype[e].call(t,String(i).toLowerCase(),String(r)));case"delete":case"has":case"getAll":return i=>(rt(i),URLSearchParams.prototype[e].call(t,String(i).toLowerCase()));case"keys":return()=>(t.sort(),new Set(URLSearchParams.prototype.keys.call(t)).keys());default:return Reflect.get(t,e,i)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){const e=this.getAll(t);if(0===e.length)return null;let i=e.join(", ");return/^content-encoding$/i.test(t)&&(i=i.toLowerCase()),i}forEach(t,e=void 0){for(const i of this.keys())Reflect.apply(t,e,[this.get(i),i,this])}*values(){for(const t of this.keys())yield this.get(t)}*entries(){for(const t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((t,e)=>(t[e]=this.getAll(e),t)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((t,e)=>{const i=this.getAll(e);return t[e]="host"===e?i[0]:i.length>1?i:i[0],t}),{})}}Object.defineProperties(st.prototype,["get","entries","forEach","values"].reduce(((t,e)=>(t[e]={enumerable:!0},t)),{}));const ot=new Set([301,302,303,307,308]),at=t=>ot.has(t),lt=Symbol("Response internals");class ct extends J{constructor(t=null,e={}){super(t,e);const i=null!=e.status?e.status:200,r=new st(e.headers);if(null!==t&&!r.has("Content-Type")){const e=et(t,this);e&&r.append("Content-Type",e)}this[lt]={type:"default",url:e.url,status:i,statusText:e.statusText||"",headers:r,counter:e.counter,highWaterMark:e.highWaterMark}}get type(){return this[lt].type}get url(){return this[lt].url||""}get status(){return this[lt].status}get ok(){return this[lt].status>=200&&this[lt].status<300}get redirected(){return this[lt].counter>0}get statusText(){return this[lt].statusText}get headers(){return this[lt].headers}get highWaterMark(){return this[lt].highWaterMark}clone(){return new ct(X(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,e=302){if(!at(e))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ct(null,{headers:{location:new URL(t).toString()},status:e})}static error(){const t=new ct(null,{status:0,statusText:""});return t[lt].type="error",t}static json(t=void 0,e={}){const i=JSON.stringify(t);if(void 0===i)throw new TypeError("data is not JSON serializable");const r=new st(e&&e.headers);return r.has("content-type")||r.set("content-type","application/json"),new ct(i,{...e,headers:r})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(ct.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});function ut(t,e=!1){return null==t?"no-referrer":(t=new URL(t),/^(about|blob|data):$/.test(t.protocol)?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t))}const ht=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function pt(t){return!!/^about:(blank|srcdoc)$/.test(t)||("data:"===t.protocol||(!!/^(blob|filesystem):$/.test(t.protocol)||function(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;const e=t.host.replace(/(^\[)|(]$)/g,""),i=c.isIP(e);return!(4!==i||!/^127\./.test(e))||!(6!==i||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e))||"localhost"!==t.host&&!t.host.endsWith(".localhost")&&"file:"===t.protocol}(t)))}const dt=Symbol("Request internals"),ft=t=>"object"==typeof t&&"object"==typeof t[dt],mt=a.deprecate((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class gt extends J{constructor(t,e={}){let i;if(ft(t)?i=new URL(t.url):(i=new URL(t),t={}),""!==i.username||""!==i.password)throw new TypeError(`${i} is an url with embedded credentials.`);let r=e.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(r)&&(r=r.toUpperCase()),!ft(e)&&"data"in e&&mt(),(null!=e.body||ft(t)&&null!==t.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");const n=e.body?e.body:ft(t)&&null!==t.body?X(t):null;super(n,{size:e.size||t.size||0});const s=new st(e.headers||t.headers||{});if(null!==n&&!s.has("Content-Type")){const t=et(n,this);t&&s.set("Content-Type",t)}let o=ft(t)?t.signal:null;if("signal"in e&&(o=e.signal),null!=o&&("object"!=typeof(a=o)||"AbortSignal"!==a[U]&&"EventTarget"!==a[U]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var a;let l=null==e.referrer?t.referrer:e.referrer;if(""===l)l="no-referrer";else if(l){const t=new URL(l);l=/^about:(\/\/)?client$/.test(t)?"client":t}else l=void 0;this[dt]={method:r,redirect:e.redirect||t.redirect||"follow",headers:s,parsedURL:i,signal:o,referrer:l},this.follow=void 0===e.follow?void 0===t.follow?20:t.follow:e.follow,this.compress=void 0===e.compress?void 0===t.compress||t.compress:e.compress,this.counter=e.counter||t.counter||0,this.agent=e.agent||t.agent,this.highWaterMark=e.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=e.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=e.referrerPolicy||t.referrerPolicy||""}get method(){return this[dt].method}get url(){return l.format(this[dt].parsedURL)}get headers(){return this[dt].headers}get redirect(){return this[dt].redirect}get signal(){return this[dt].signal}get referrer(){return"no-referrer"===this[dt].referrer?"":"client"===this[dt].referrer?"about:client":this[dt].referrer?this[dt].referrer.toString():void 0}get referrerPolicy(){return this[dt].referrerPolicy}set referrerPolicy(t){this[dt].referrerPolicy=function(t){if(!ht.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}(t)}clone(){return new gt(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(gt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const Dt=t=>{const{parsedURL:e}=t[dt],i=new st(t[dt].headers);i.has("Accept")||i.set("Accept","*/*");let r=null;if(null===t.body&&/^(post|put)$/i.test(t.method)&&(r="0"),null!==t.body){const e=(t=>{const{body:e}=t[Q];return null===e?0:G(e)?e.size:o.Buffer.isBuffer(e)?e.length:e&&"function"==typeof e.getLengthSync&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null})(t);"number"!=typeof e||Number.isNaN(e)||(r=String(e))}r&&i.set("Content-Length",r),""===t.referrerPolicy&&(t.referrerPolicy="strict-origin-when-cross-origin"),t.referrer&&"no-referrer"!==t.referrer?t[dt].referrer=function(t,{referrerURLCallback:e,referrerOriginCallback:i}={}){if("no-referrer"===t.referrer||""===t.referrerPolicy)return null;const r=t.referrerPolicy;if("about:client"===t.referrer)return"no-referrer";const n=t.referrer;let s=ut(n),o=ut(n,!0);s.toString().length>4096&&(s=o),e&&(s=e(s)),i&&(o=i(o));const a=new URL(t.url);switch(r){case"no-referrer":return"no-referrer";case"origin":return o;case"unsafe-url":return s;case"strict-origin":return pt(s)&&!pt(a)?"no-referrer":o.toString();case"strict-origin-when-cross-origin":return s.origin===a.origin?s:pt(s)&&!pt(a)?"no-referrer":o;case"same-origin":return s.origin===a.origin?s:"no-referrer";case"origin-when-cross-origin":return s.origin===a.origin?s:o;case"no-referrer-when-downgrade":return pt(s)&&!pt(a)?"no-referrer":s;default:throw new TypeError(`Invalid referrerPolicy: ${r}`)}}(t):t[dt].referrer="no-referrer",t[dt].referrer instanceof URL&&i.set("Referer",t.referrer),i.has("User-Agent")||i.set("User-Agent","node-fetch"),t.compress&&!i.has("Accept-Encoding")&&i.set("Accept-Encoding","gzip, deflate, br");let{agent:n}=t;"function"==typeof n&&(n=n(e));const s=(t=>{if(t.search)return t.search;const e=t.href.length-1,i=t.hash||("#"===t.href[e]?"#":"");return"?"===t.href[e-i.length]?"?":""})(e);return{parsedURL:e,options:{path:e.pathname+s,method:t.method,headers:i[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:n}}};class bt extends N{constructor(t,e="aborted"){super(t,e)}}
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */if(!globalThis.DOMException)try{const{MessageChannel:t}=require("worker_threads"),e=(new t).port1,i=new ArrayBuffer;e.postMessage(i,[i,i])}catch(t){"DOMException"===t.constructor.name&&(globalThis.DOMException=t.constructor)}const yt=new Set(["data:","http:","https:"]);async function vt(t,e){return new Promise(((a,l)=>{const c=new gt(t,e),{parsedURL:u,options:h}=Dt(c);if(!yt.has(u.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===u.protocol){const t=function(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const e=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===e||e<=4)throw new TypeError("malformed data: URI");const i=t.substring(5,e).split(";");let r="",n=!1;const s=i[0]||"text/plain";let o=s;for(let t=1;t<i.length;t++)"base64"===i[t]?n=!0:i[t]&&(o+=`;${i[t]}`,0===i[t].indexOf("charset=")&&(r=i[t].substring(8)));i[0]||r.length||(o+=";charset=US-ASCII",r="US-ASCII");const a=n?"base64":"ascii",l=unescape(t.substring(e+1)),c=Buffer.from(l,a);return c.type=s,c.typeFull=o,c.charset=r,c}(c.url),e=new ct(t,{headers:{"Content-Type":t.typeFull}});return void a(e)}const p=("https:"===u.protocol?r:i).request,{signal:d}=c;let f=null;const m=()=>{const t=new bt("The operation was aborted.");l(t),c.body&&c.body instanceof s.Readable&&c.body.destroy(t),f&&f.body&&f.body.emit("error",t)};if(d&&d.aborted)return void m();const g=()=>{m(),b()},D=p(u.toString(),h);d&&d.addEventListener("abort",g);const b=()=>{D.abort(),d&&d.removeEventListener("abort",g)};D.on("error",(t=>{l(new q(`request to ${c.url} failed, reason: ${t.message}`,"system",t)),b()})),function(t,e){const i=o.Buffer.from("0\r\n\r\n");let r,n=!1,s=!1;t.on("response",(t=>{const{headers:e}=t;n="chunked"===e["transfer-encoding"]&&!e["content-length"]})),t.on("socket",(a=>{const l=()=>{if(n&&!s){const t=new Error("Premature close");t.code="ERR_STREAM_PREMATURE_CLOSE",e(t)}},c=t=>{s=0===o.Buffer.compare(t.slice(-5),i),!s&&r&&(s=0===o.Buffer.compare(r.slice(-3),i.slice(0,3))&&0===o.Buffer.compare(t.slice(-2),i.slice(3))),r=t};a.prependListener("close",l),a.on("data",c),t.on("close",(()=>{a.removeListener("close",l),a.removeListener("data",c)}))}))}(D,(t=>{f&&f.body&&f.body.destroy(t)})),process.version<"v14"&&D.on("socket",(t=>{let e;t.prependListener("end",(()=>{e=t._eventsCount})),t.prependListener("close",(i=>{if(f&&e<t._eventsCount&&!i){const t=new Error("Premature close");t.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",t)}}))})),D.on("response",(t=>{D.setTimeout(0);const i=function(t=[]){return new st(t.reduce(((t,e,i,r)=>(i%2==0&&t.push(r.slice(i,i+2)),t)),[]).filter((([t,e])=>{try{return rt(t),nt(t,String(e)),!0}catch{return!1}})))}(t.rawHeaders);if(at(t.statusCode)){const r=i.get("Location");let n=null;try{n=null===r?null:new URL(r,c.url)}catch{if("manual"!==c.redirect)return l(new q(`uri requested responds with an invalid redirect URL: ${r}`,"invalid-redirect")),void b()}switch(c.redirect){case"error":return l(new q(`uri requested responds with a redirect, redirect mode is set to error: ${c.url}`,"no-redirect")),void b();case"manual":break;case"follow":{if(null===n)break;if(c.counter>=c.follow)return l(new q(`maximum redirect reached at: ${c.url}`,"max-redirect")),void b();const r={headers:new st(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:X(c),signal:c.signal,size:c.size,referrer:c.referrer,referrerPolicy:c.referrerPolicy};if(!V(c.url,n)||!Y(c.url,n))for(const t of["authorization","www-authenticate","cookie","cookie2"])r.headers.delete(t);if(303!==t.statusCode&&c.body&&e.body instanceof s.Readable)return l(new q("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void b();303!==t.statusCode&&(301!==t.statusCode&&302!==t.statusCode||"POST"!==c.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length"));const o=function(t){const e=(t.get("referrer-policy")||"").split(/[,\s]+/);let i="";for(const t of e)t&&ht.has(t)&&(i=t);return i}(i);return o&&(r.referrerPolicy=o),a(vt(new gt(n,r))),void b()}default:return l(new TypeError(`Redirect option '${c.redirect}' is not a valid value of RequestRedirect`))}}d&&t.once("end",(()=>{d.removeEventListener("abort",g)}));let r=s.pipeline(t,new s.PassThrough,(t=>{t&&l(t)}));process.version<"v12.10"&&t.on("aborted",g);const o={url:c.url,status:t.statusCode,statusText:t.statusMessage,headers:i,size:c.size,counter:c.counter,highWaterMark:c.highWaterMark},u=i.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===u||204===t.statusCode||304===t.statusCode)return f=new ct(r,o),void a(f);const h={flush:n.Z_SYNC_FLUSH,finishFlush:n.Z_SYNC_FLUSH};if("gzip"===u||"x-gzip"===u)return r=s.pipeline(r,n.createGunzip(h),(t=>{t&&l(t)})),f=new ct(r,o),void a(f);if("deflate"===u||"x-deflate"===u){const e=s.pipeline(t,new s.PassThrough,(t=>{t&&l(t)}));return e.once("data",(t=>{r=8==(15&t[0])?s.pipeline(r,n.createInflate(),(t=>{t&&l(t)})):s.pipeline(r,n.createInflateRaw(),(t=>{t&&l(t)})),f=new ct(r,o),a(f)})),void e.once("end",(()=>{f||(f=new ct(r,o),a(f))}))}if("br"===u)return r=s.pipeline(r,n.createBrotliDecompress(),(t=>{t&&l(t)})),f=new ct(r,o),void a(f);f=new ct(r,o),a(f)})),it(D,c).catch(l)}))}var wt=xt;function xt(t,e,i){t instanceof RegExp&&(t=Ft(t,i)),e instanceof RegExp&&(e=Ft(e,i));var r=Et(t,e,i);return r&&{start:r[0],end:r[1],pre:i.slice(0,r[0]),body:i.slice(r[0]+t.length,r[1]),post:i.slice(r[1]+e.length)}}function Ft(t,e){var i=e.match(t);return i?i[0]:null}function Et(t,e,i){var r,n,s,o,a,l=i.indexOf(t),c=i.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(r=[],s=i.length;u>=0&&!a;)u==l?(r.push(u),l=i.indexOf(t,u+1)):1==r.length?a=[r.pop(),c]:((n=r.pop())<s&&(s=n,o=c),c=i.indexOf(e,u+1)),u=l<c&&l>=0?l:c;r.length&&(a=[s,o])}return a}xt.range=Et;var _t=wt,St=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return $t(function(t){return t.split("\\\\").join(Ct).split("\\{").join(kt).split("\\}").join(At).split("\\,").join(Tt).split("\\.").join(Ot)}(t),!0).map(Bt)},Ct="\0SLASH"+Math.random()+"\0",kt="\0OPEN"+Math.random()+"\0",At="\0CLOSE"+Math.random()+"\0",Tt="\0COMMA"+Math.random()+"\0",Ot="\0PERIOD"+Math.random()+"\0";function jt(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Bt(t){return t.split(Ct).join("\\").split(kt).join("{").split(At).join("}").split(Tt).join(",").split(Ot).join(".")}function Pt(t){if(!t)return[""];var e=[],i=_t("{","}",t);if(!i)return t.split(",");var r=i.pre,n=i.body,s=i.post,o=r.split(",");o[o.length-1]+="{"+n+"}";var a=Pt(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Rt(t){return"{"+t+"}"}function Lt(t){return/^-?0\d/.test(t)}function Mt(t,e){return t<=e}function zt(t,e){return t>=e}function $t(t,e){var i=[],r=_t("{","}",t);if(!r)return[t];var n=r.pre,s=r.post.length?$t(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=n+"{"+r.body+"}"+s[o];i.push(a)}else{var l,c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),p=u||h,d=r.body.indexOf(",")>=0;if(!p&&!d)return r.post.match(/,.*\}/)?$t(t=r.pre+"{"+r.body+At+r.post):[t];if(p)l=r.body.split(/\.\./);else if(1===(l=Pt(r.body)).length&&1===(l=$t(l[0],!1).map(Rt)).length)return s.map((function(t){return r.pre+l[0]+t}));if(p){var f=jt(l[0]),m=jt(l[1]),g=Math.max(l[0].length,l[1].length),D=3==l.length?Math.abs(jt(l[2])):1,b=Mt;m<f&&(D*=-1,b=zt);var y=l.some(Lt);c=[];for(var v=f;b(v,m);v+=D){var w;if(h)"\\"===(w=String.fromCharCode(v))&&(w="");else if(w=String(v),y){var x=g-w.length;if(x>0){var F=new Array(x+1).join("0");w=v<0?"-"+F+w.slice(1):F+w}}c.push(w)}}else{c=[];for(var E=0;E<l.length;E++)c.push.apply(c,$t(l[E],!1))}for(E=0;E<c.length;E++)for(o=0;o<s.length;o++){a=n+c[E]+s[o];(!e||p||a)&&i.push(a)}}return i}var It=S(St);const Wt=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},Nt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},qt=t=>t.replace(/[[\]\\-]/g,"\\$&"),Ut=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ht=t=>t.join(""),Gt=(t,e)=>{const i=e;if("["!==t.charAt(i))throw new Error("not in a brace expression");const r=[],n=[];let s=i+1,o=!1,a=!1,l=!1,c=!1,u=i,h="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==i+1){if("]"===e&&o&&!l){u=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,c]]of Object.entries(Nt))if(t.startsWith(e,s)){if(h)return["$.",!1,t.length-i,!0];s+=e.length,c?n.push(o):r.push(o),a=a||l;continue t}l=!1,h?(e>h?r.push(qt(h)+"-"+qt(e)):e===h&&r.push(qt(e)),h="",s++):t.startsWith("-]",s+1)?(r.push(qt(e+"-")),s+=2):t.startsWith("-",s+1)?(h=e,s+=2):(r.push(qt(e)),s++)}else l=!0,s++}else c=!0,s++}if(u<s)return["",!1,0,!1];if(!r.length&&!n.length)return["$.",!1,t.length-i,!0];if(0===n.length&&1===r.length&&/^\\?.$/.test(r[0])&&!c){const t=2===r[0].length?r[0].slice(-1):r[0];return[Ut(t),!1,u-i,!1]}const p="["+(c?"^":"")+Ht(r)+"]",d="["+(c?"":"^")+Ht(n)+"]";return[r.length&&n.length?"("+p+"|"+d+")":r.length?p:d,a,u-i,!0]},Vt=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Yt=new Set(["!","?","+","*","@"]),Kt=t=>Yt.has(t),Qt="(?!\\.)",Jt=new Set(["[","."]),Zt=new Set(["..","."]),Xt=new Set("().*{}+?[]^$\\!"),te=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ee="[^/]",ie=ee+"*?",re=ee+"+?";class ne{type;#a;#l;#c=!1;#t=[];#u;#h;#p;#d=!1;#f;#m;#g=!1;constructor(t,e,i={}){this.type=t,t&&(this.#l=!0),this.#u=e,this.#a=this.#u?this.#u.#a:this,this.#f=this.#a===this?i:this.#a.#f,this.#p=this.#a===this?[]:this.#a.#p,"!"!==t||this.#a.#d||this.#p.push(this),this.#h=this.#u?this.#u.#t.length:0}get hasMagic(){if(void 0!==this.#l)return this.#l;for(const t of this.#t)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#l=!0;return this.#l}toString(){return void 0!==this.#m?this.#m:this.type?this.#m=this.type+"("+this.#t.map((t=>String(t))).join("|")+")":this.#m=this.#t.map((t=>String(t))).join("")}#D(){if(this!==this.#a)throw new Error("should only call on root");if(this.#d)return this;let t;for(this.toString(),this.#d=!0;t=this.#p.pop();){if("!"!==t.type)continue;let e=t,i=e.#u;for(;i;){for(let r=e.#h+1;!i.type&&r<i.#t.length;r++)for(const e of t.#t){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(i.#t[r])}e=i,i=e.#u}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof ne&&e.#u===this))throw new Error("invalid part: "+e);this.#t.push(e)}}toJSON(){const t=null===this.type?this.#t.slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...this.#t.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#a||this.#a.#d&&"!"===this.#u?.type)&&t.push({}),t}isStart(){if(this.#a===this)return!0;if(!this.#u?.isStart())return!1;if(0===this.#h)return!0;const t=this.#u;for(let e=0;e<this.#h;e++){const i=t.#t[e];if(!(i instanceof ne&&"!"===i.type))return!1}return!0}isEnd(){if(this.#a===this)return!0;if("!"===this.#u?.type)return!0;if(!this.#u?.isEnd())return!1;if(!this.type)return this.#u?.isEnd();const t=this.#u?this.#u.#t.length:0;return this.#h===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new ne(this.type,t);for(const t of this.#t)e.copyIn(t);return e}static#b(t,e,i,r){let n=!1,s=!1,o=-1,a=!1;if(null===e.type){let l=i,c="";for(;l<t.length;){const i=t.charAt(l++);if(n||"\\"===i)n=!n,c+=i;else if(s)l===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||l===o+2&&a||(s=!1),c+=i;else if("["!==i)if(r.noext||!Kt(i)||"("!==t.charAt(l))c+=i;else{e.push(c),c="";const n=new ne(i,e);l=ne.#b(t,n,l,r),e.push(n)}else s=!0,o=l,a=!1,c+=i}return e.push(c),l}let l=i+1,c=new ne(null,e);const u=[];let h="";for(;l<t.length;){const i=t.charAt(l++);if(n||"\\"===i)n=!n,h+=i;else if(s)l===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||l===o+2&&a||(s=!1),h+=i;else if("["!==i)if(Kt(i)&&"("===t.charAt(l)){c.push(h),h="";const e=new ne(i,c);c.push(e),l=ne.#b(t,e,l,r)}else if("|"!==i){if(")"===i)return""===h&&0===e.#t.length&&(e.#g=!0),c.push(h),h="",e.push(...u,c),l;h+=i}else c.push(h),h="",u.push(c),c=new ne(null,e);else s=!0,o=l,a=!1,h+=i}return e.type=null,e.#l=void 0,e.#t=[t.substring(i-1)],l}static fromGlob(t,e={}){const i=new ne(null,void 0,e);return ne.#b(t,i,0,e),i}toMMPattern(){if(this!==this.#a)return this.#a.toMMPattern();const t=this.toString(),[e,i,r,n]=this.toRegExpSource();if(!(r||this.#l||this.#f.nocase&&!this.#f.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;const s=(this.#f.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}get options(){return this.#f}toRegExpSource(t){const e=t??!!this.#f.dot;if(this.#a===this&&this.#D(),!this.type){const i=this.isStart()&&this.isEnd(),r=this.#t.map((e=>{const[r,n,s,o]="string"==typeof e?ne.#y(e,this.#l,i):e.toRegExpSource(t);return this.#l=this.#l||s,this.#c=this.#c||o,r})).join("");let n="";if(this.isStart()&&"string"==typeof this.#t[0]){if(!(1===this.#t.length&&Zt.has(this.#t[0]))){const i=Jt,s=e&&i.has(r.charAt(0))||r.startsWith("\\.")&&i.has(r.charAt(2))||r.startsWith("\\.\\.")&&i.has(r.charAt(4)),o=!e&&!t&&i.has(r.charAt(0));n=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?Qt:""}}let s="";this.isEnd()&&this.#a.#d&&"!"===this.#u?.type&&(s="(?:$|\\/)");return[n+r+s,Vt(r),this.#l=!!this.#l,this.#c]}const i="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let n=this.#v(e);if(this.isStart()&&this.isEnd()&&!n&&"!"!==this.type){const t=this.toString();return this.#t=[t],this.type=null,this.#l=void 0,[t,Vt(this.toString()),!1,!1]}let s=!i||t||e?"":this.#v(!0);s===n&&(s=""),s&&(n=`(?:${n})(?:${s})*?`);let o="";if("!"===this.type&&this.#g)o=(this.isStart()&&!e?Qt:"")+re;else{o=r+n+("!"===this.type?"))"+(!this.isStart()||e||t?"":Qt)+ie+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,Vt(n),this.#l=!!this.#l,this.#c]}#v(t){return this.#t.map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[i,r,n,s]=e.toRegExpSource(t);return this.#c=this.#c||s,i})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#y(t,e,i=!1){let r=!1,n="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(r)r=!1,n+=(Xt.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[i,r,a,l]=Gt(t,o);if(a){n+=i,s=s||r,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?n+=te(a):(n+=ee,e=!0):(n+=i&&"*"===t?re:ie,e=!0)}else o===t.length-1?n+="\\\\":r=!0}return[n,Vt(t),!!e,s]}}const se=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),oe=(t,e,i={})=>(Wt(e),!(!i.nocomment&&"#"===e.charAt(0))&&new je(e,i).match(t)),ae=/^\*+([^+@!?\*\[\(]*)$/,le=t=>e=>!e.startsWith(".")&&e.endsWith(t),ce=t=>e=>e.endsWith(t),ue=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),he=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),pe=/^\*+\.\*+$/,de=t=>!t.startsWith(".")&&t.includes("."),fe=t=>"."!==t&&".."!==t&&t.includes("."),me=/^\.\*+$/,ge=t=>"."!==t&&".."!==t&&t.startsWith("."),De=/^\*+$/,be=t=>0!==t.length&&!t.startsWith("."),ye=t=>0!==t.length&&"."!==t&&".."!==t,ve=/^\?+([^+@!?\*\[\(]*)?$/,we=([t,e=""])=>{const i=_e([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},xe=([t,e=""])=>{const i=Se([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},Fe=([t,e=""])=>{const i=Se([t]);return e?t=>i(t)&&t.endsWith(e):i},Ee=([t,e=""])=>{const i=_e([t]);return e?t=>i(t)&&t.endsWith(e):i},_e=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},Se=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},Ce="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";oe.sep="win32"===Ce?{sep:"\\"}.sep:{sep:"/"}.sep;const ke=Symbol("globstar **");oe.GLOBSTAR=ke;oe.filter=(t,e={})=>i=>oe(i,t,e);const Ae=(t,e={})=>Object.assign({},t,e);oe.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return oe;const e=oe;return Object.assign(((i,r,n={})=>e(i,r,Ae(t,n))),{Minimatch:class extends e.Minimatch{constructor(e,i={}){super(e,Ae(t,i))}static defaults(i){return e.defaults(Ae(t,i)).Minimatch}},AST:class extends e.AST{constructor(e,i,r={}){super(e,i,Ae(t,r))}static fromGlob(i,r={}){return e.AST.fromGlob(i,Ae(t,r))}},unescape:(i,r={})=>e.unescape(i,Ae(t,r)),escape:(i,r={})=>e.escape(i,Ae(t,r)),filter:(i,r={})=>e.filter(i,Ae(t,r)),defaults:i=>e.defaults(Ae(t,i)),makeRe:(i,r={})=>e.makeRe(i,Ae(t,r)),braceExpand:(i,r={})=>e.braceExpand(i,Ae(t,r)),match:(i,r,n={})=>e.match(i,r,Ae(t,n)),sep:e.sep,GLOBSTAR:ke})};const Te=(t,e={})=>(Wt(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:It(t));oe.braceExpand=Te;oe.makeRe=(t,e={})=>new je(t,e).makeRe();oe.match=(t,e,i={})=>{const r=new je(e,i);return t=t.filter((t=>r.match(t))),r.options.nonull&&!t.length&&t.push(e),t};const Oe=/[?*]|[+@!]\(.*?\)|\[|\]/;class je{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){Wt(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||Ce,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const i=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((t,e,i)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&Oe.test(t[2])||Oe.test(t[3])),i=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(i)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,r),this.set=r.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)"**"===t[e][i]&&(t[e][i]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let i=e;for(;"**"===t[i+1];)i++;i!==e&&t.splice(e,i-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const i=t[t.length-1];return"**"===e&&"**"===i?t:".."===e&&i&&".."!==i&&"."!==i&&"**"!==i?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const r=t[i];1===i&&""===r&&""===t[0]||("."!==r&&""!==r||(e=!0,t.splice(i,1),i--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let i=0;for(;-1!==(i=t.indexOf("..",i+1));){const r=t[i-1];r&&"."!==r&&".."!==r&&"**"!==r&&(e=!0,t.splice(i-1,2),i-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let i of t){let r=-1;for(;-1!==(r=i.indexOf("**",r+1));){let n=r;for(;"**"===i[n+1];)n++;n>r&&i.splice(r+1,n-r);let s=i[r+1];const o=i[r+2],a=i[r+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,i.splice(r,1);const l=i.slice(0);l[r]="**",t.push(l),r--}if(!this.preserveMultipleSlashes){for(let t=1;t<i.length-1;t++){const r=i[t];1===t&&""===r&&""===i[0]||("."!==r&&""!==r||(e=!0,i.splice(t,1),t--))}"."!==i[0]||2!==i.length||"."!==i[1]&&""!==i[1]||(e=!0,i.pop())}let n=0;for(;-1!==(n=i.indexOf("..",n+1));){const t=i[n-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===n&&"**"===i[n+1]?["."]:[];i.splice(n-1,2,...t),0===i.length&&i.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let i=e+1;i<t.length;i++){const r=this.partsMatch(t[e],t[i],!this.preserveMultipleSlashes);if(r){t[e]=[],t[i]=r;break}}return t.filter((t=>t.length))}partsMatch(t,e,i=!1){let r=0,n=0,s=[],o="";for(;r<t.length&&n<e.length;)if(t[r]===e[n])s.push("b"===o?e[n]:t[r]),r++,n++;else if(i&&"**"===t[r]&&e[n]===t[r+1])s.push(t[r]),r++;else if(i&&"**"===e[n]&&t[r]===e[n+1])s.push(e[n]),n++;else if("*"!==t[r]||!e[n]||!this.options.dot&&e[n].startsWith(".")||"**"===e[n]){if("*"!==e[n]||!t[r]||!this.options.dot&&t[r].startsWith(".")||"**"===t[r])return!1;if("a"===o)return!1;o="b",s.push(e[n]),r++,n++}else{if("b"===o)return!1;o="a",s.push(t[r]),r++,n++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,i=0;for(let r=0;r<t.length&&"!"===t.charAt(r);r++)e=!e,i++;i&&(this.pattern=t.slice(i)),this.negate=e}matchOne(t,e,i=!1){const r=this.options;if(this.isWindows){const i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),r=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),s=r?3:i?0:void 0,o=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:n?0:void 0;if("number"==typeof s&&"number"==typeof o){const[i,r]=[t[s],e[o]];i.toLowerCase()===r.toLowerCase()&&(e[o]=i,o>s?e=e.slice(o):s>o&&(t=t.slice(s)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,l=e.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=e[o],u=t[s];if(this.debug(e,c,u),!1===c)return!1;if(c===ke){this.debug("GLOBSTAR",[e,c,u]);var h=s,p=o+1;if(p===l){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!r.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<a;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,p,d),this.matchOne(t.slice(h),e.slice(p),i))return this.debug("globstar found match!",h,a,d),!0;if("."===d||".."===d||!r.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!i||(this.debug("\n>>> no match, partial?",t,h,e,p),h!==a))}let n;if("string"==typeof c?(n=u===c,this.debug("string match",c,u,n)):(n=c.test(u),this.debug("pattern match",c,u,n)),!n)return!1}if(s===a&&o===l)return!0;if(s===a)return i;if(o===l)return s===a-1&&""===t[s];throw new Error("wtf?")}braceExpand(){return Te(this.pattern,this.options)}parse(t){Wt(t);const e=this.options;if("**"===t)return ke;if(""===t)return"";let i,r=null;(i=t.match(De))?r=e.dot?ye:be:(i=t.match(ae))?r=(e.nocase?e.dot?he:ue:e.dot?ce:le)(i[1]):(i=t.match(ve))?r=(e.nocase?e.dot?xe:we:e.dot?Fe:Ee)(i):(i=t.match(pe))?r=e.dot?fe:de:(i=t.match(me))&&(r=ge);const n=ne.fromGlob(t,this.options).toMMPattern();return r&&"object"==typeof n&&Reflect.defineProperty(n,"test",{value:r}),n}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,i=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(e.nocase?["i"]:[]);let n=t.map((t=>{const e=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))r.add(e);return"string"==typeof t?(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(t):t===ke?ke:t._src}));return e.forEach(((t,r)=>{const n=e[r+1],s=e[r-1];t===ke&&s!==ke&&(void 0===s?void 0!==n&&n!==ke?e[r+1]="(?:\\/|"+i+"\\/)?"+n:e[r]=i:void 0===n?e[r-1]=s+"(?:\\/|"+i+")?":n!==ke&&(e[r-1]=s+"(?:\\/|\\/"+i+"\\/)"+n,e[r+1]=ke))})),e.filter((t=>t!==ke)).join("/")})).join("|");const[s,o]=t.length>1?["(?:",")"]:["",""];n="^"+s+n+o+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...r].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const i=this.options;this.isWindows&&(t=t.split("\\").join("/"));const r=this.slashSplit(t);this.debug(this.pattern,"split",r);const n=this.set;this.debug(this.pattern,"set",n);let s=r[r.length-1];if(!s)for(let t=r.length-2;!s&&t>=0;t--)s=r[t];for(let t=0;t<n.length;t++){const o=n[t];let a=r;i.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate}static defaults(t){return oe.defaults(t).Minimatch}}oe.AST=ne,oe.Minimatch=je,oe.escape=se,oe.unescape=Vt;const Be="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,Pe=new Set,Re="object"==typeof process&&process?process:{},Le=(t,e,i,r)=>{"function"==typeof Re.emitWarning?Re.emitWarning(t,e,i,r):console.error(`[${i}] ${e}: ${t}`)};let Me=globalThis.AbortController,ze=globalThis.AbortSignal;if(void 0===Me){ze=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},Me=class{constructor(){e()}signal=new ze;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==Re.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,Le("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const $e=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Ie=t=>$e(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?We:null:null;class We extends Array{constructor(t){super(t),this.fill(0)}}class Ne{heap;length;static#w=!1;static create(t){const e=Ie(t);if(!e)return[];Ne.#w=!0;const i=new Ne(t,e);return Ne.#w=!1,i}constructor(t,e){if(!Ne.#w)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class qe{#x;#F;#E;#_;#S;#C;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#k;#A;#T;#O;#j;#B;#P;#R;#L;#M;#z;#$;#I;#W;#N;#q;static unsafeExposeInternals(t){return{starts:t.#$,ttls:t.#I,sizes:t.#z,keyMap:t.#A,keyList:t.#T,valList:t.#O,next:t.#j,prev:t.#B,get head(){return t.#P},get tail(){return t.#R},free:t.#L,isBackgroundFetch:e=>t.#U(e),backgroundFetch:(e,i,r,n)=>t.#H(e,i,r,n),moveToTail:e=>t.#G(e),indexes:e=>t.#V(e),rindexes:e=>t.#Y(e),isStale:e=>t.#K(e)}}get max(){return this.#x}get maxSize(){return this.#F}get calculatedSize(){return this.#k}get size(){return this.#i}get fetchMethod(){return this.#S}get memoMethod(){return this.#C}get dispose(){return this.#E}get disposeAfter(){return this.#_}constructor(t){const{max:e=0,ttl:i,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:l,disposeAfter:c,noDisposeOnSet:u,noUpdateTTL:h,maxSize:p=0,maxEntrySize:d=0,sizeCalculation:f,fetchMethod:m,memoMethod:g,noDeleteOnFetchRejection:D,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:v,ignoreFetchAbort:w}=t;if(0!==e&&!$e(e))throw new TypeError("max option must be a nonnegative integer");const x=e?Ie(e):Array;if(!x)throw new Error("invalid max value: "+e);if(this.#x=e,this.#F=p,this.maxEntrySize=d||this.#F,this.sizeCalculation=f,this.sizeCalculation){if(!this.#F&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("memoMethod must be a function if defined");if(this.#C=g,void 0!==m&&"function"!=typeof m)throw new TypeError("fetchMethod must be a function if specified");if(this.#S=m,this.#N=!!m,this.#A=new Map,this.#T=new Array(e).fill(void 0),this.#O=new Array(e).fill(void 0),this.#j=new x(e),this.#B=new x(e),this.#P=0,this.#R=0,this.#L=Ne.create(e),this.#i=0,this.#k=0,"function"==typeof l&&(this.#E=l),"function"==typeof c?(this.#_=c,this.#M=[]):(this.#_=void 0,this.#M=void 0),this.#W=!!this.#E,this.#q=!!this.#_,this.noDisposeOnSet=!!u,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!D,this.allowStaleOnFetchRejection=!!y,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#F&&!$e(this.#F))throw new TypeError("maxSize must be a positive integer if specified");if(!$e(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Q()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=$e(r)||0===r?r:1,this.ttlAutopurge=!!n,this.ttl=i||0,this.ttl){if(!$e(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#J()}if(0===this.#x&&0===this.ttl&&0===this.#F)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#x&&!this.#F){const t="LRU_CACHE_UNBOUNDED";if((t=>!Pe.has(t))(t)){Pe.add(t);Le("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,qe)}}}getRemainingTTL(t){return this.#A.has(t)?1/0:0}#J(){const t=new We(this.#x),e=new We(this.#x);this.#I=t,this.#$=e,this.#Z=(i,r,n=Be.now())=>{if(e[i]=0!==r?n:0,t[i]=r,0!==r&&this.ttlAutopurge){const t=setTimeout((()=>{this.#K(i)&&this.#X(this.#T[i],"expire")}),r+1);t.unref&&t.unref()}},this.#tt=i=>{e[i]=0!==t[i]?Be.now():0},this.#et=(n,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;n.ttl=o,n.start=a,n.now=i||r();const l=n.now-a;n.remainingTTL=o-l}};let i=0;const r=()=>{const t=Be.now();if(this.ttlResolution>0){i=t;const e=setTimeout((()=>i=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=n=>{const s=this.#A.get(n);if(void 0===s)return 0;const o=t[s],a=e[s];if(!o||!a)return 1/0;return o-((i||r())-a)},this.#K=n=>{const s=e[n],o=t[n];return!!o&&!!s&&(i||r())-s>o}}#tt=()=>{};#et=()=>{};#Z=()=>{};#K=()=>!1;#Q(){const t=new We(this.#x);this.#k=0,this.#z=t,this.#it=e=>{this.#k-=t[e],t[e]=0},this.#rt=(t,e,i,r)=>{if(this.#U(e))return 0;if(!$e(i)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(i=r(e,t),!$e(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.#nt=(e,i,r)=>{if(t[e]=i,this.#F){const i=this.#F-t[e];for(;this.#k>i;)this.#st(!0)}this.#k+=t[e],r&&(r.entrySize=i,r.totalCalculatedSize=this.#k)}}#it=t=>{};#nt=(t,e,i)=>{};#rt=(t,e,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#V({allowStale:t=this.allowStale}={}){if(this.#i)for(let e=this.#R;this.#ot(e)&&(!t&&this.#K(e)||(yield e),e!==this.#P);)e=this.#B[e]}*#Y({allowStale:t=this.allowStale}={}){if(this.#i)for(let e=this.#P;this.#ot(e)&&(!t&&this.#K(e)||(yield e),e!==this.#R);)e=this.#j[e]}#ot(t){return void 0!==t&&this.#A.get(this.#T[t])===t}*entries(){for(const t of this.#V())void 0===this.#O[t]||void 0===this.#T[t]||this.#U(this.#O[t])||(yield[this.#T[t],this.#O[t]])}*rentries(){for(const t of this.#Y())void 0===this.#O[t]||void 0===this.#T[t]||this.#U(this.#O[t])||(yield[this.#T[t],this.#O[t]])}*keys(){for(const t of this.#V()){const e=this.#T[t];void 0===e||this.#U(this.#O[t])||(yield e)}}*rkeys(){for(const t of this.#Y()){const e=this.#T[t];void 0===e||this.#U(this.#O[t])||(yield e)}}*values(){for(const t of this.#V()){void 0===this.#O[t]||this.#U(this.#O[t])||(yield this.#O[t])}}*rvalues(){for(const t of this.#Y()){void 0===this.#O[t]||this.#U(this.#O[t])||(yield this.#O[t])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const i of this.#V()){const r=this.#O[i],n=this.#U(r)?r.__staleWhileFetching:r;if(void 0!==n&&t(n,this.#T[i],this))return this.get(this.#T[i],e)}}forEach(t,e=this){for(const i of this.#V()){const r=this.#O[i],n=this.#U(r)?r.__staleWhileFetching:r;void 0!==n&&t.call(e,n,this.#T[i],this)}}rforEach(t,e=this){for(const i of this.#Y()){const r=this.#O[i],n=this.#U(r)?r.__staleWhileFetching:r;void 0!==n&&t.call(e,n,this.#T[i],this)}}purgeStale(){let t=!1;for(const e of this.#Y({allowStale:!0}))this.#K(e)&&(this.#X(this.#T[e],"expire"),t=!0);return t}info(t){const e=this.#A.get(t);if(void 0===e)return;const i=this.#O[e],r=this.#U(i)?i.__staleWhileFetching:i;if(void 0===r)return;const n={value:r};if(this.#I&&this.#$){const t=this.#I[e],i=this.#$[e];if(t&&i){const e=t-(Be.now()-i);n.ttl=e,n.start=Date.now()}}return this.#z&&(n.size=this.#z[e]),n}dump(){const t=[];for(const e of this.#V({allowStale:!0})){const i=this.#T[e],r=this.#O[e],n=this.#U(r)?r.__staleWhileFetching:r;if(void 0===n||void 0===i)continue;const s={value:n};if(this.#I&&this.#$){s.ttl=this.#I[e];const t=Be.now()-this.#$[e];s.start=Math.floor(Date.now()-t)}this.#z&&(s.size=this.#z[e]),t.unshift([i,s])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=Be.now()-t}this.set(e,i.value,i)}}set(t,e,i={}){if(void 0===e)return this.delete(t),this;const{ttl:r=this.ttl,start:n,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=i;let{noUpdateTTL:l=this.noUpdateTTL}=i;const c=this.#rt(t,e,i.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#X(t,"set"),this;let u=0===this.#i?void 0:this.#A.get(t);if(void 0===u)u=0===this.#i?this.#R:0!==this.#L.length?this.#L.pop():this.#i===this.#x?this.#st(!1):this.#i,this.#T[u]=t,this.#O[u]=e,this.#A.set(t,u),this.#j[this.#R]=u,this.#B[u]=this.#R,this.#R=u,this.#i++,this.#nt(u,c,a),a&&(a.set="add"),l=!1;else{this.#G(u);const i=this.#O[u];if(e!==i){if(this.#N&&this.#U(i)){i.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=i;void 0===e||s||(this.#W&&this.#E?.(e,t,"set"),this.#q&&this.#M?.push([e,t,"set"]))}else s||(this.#W&&this.#E?.(i,t,"set"),this.#q&&this.#M?.push([i,t,"set"]));if(this.#it(u),this.#nt(u,c,a),this.#O[u]=e,a){a.set="replace";const t=i&&this.#U(i)?i.__staleWhileFetching:i;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===r||this.#I||this.#J(),this.#I&&(l||this.#Z(u,r,n),a&&this.#et(a,u)),!s&&this.#q&&this.#M){const t=this.#M;let e;for(;e=t?.shift();)this.#_?.(...e)}return this}pop(){try{for(;this.#i;){const t=this.#O[this.#P];if(this.#st(!0),this.#U(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#q&&this.#M){const t=this.#M;let e;for(;e=t?.shift();)this.#_?.(...e)}}}#st(t){const e=this.#P,i=this.#T[e],r=this.#O[e];return this.#N&&this.#U(r)?r.__abortController.abort(new Error("evicted")):(this.#W||this.#q)&&(this.#W&&this.#E?.(r,i,"evict"),this.#q&&this.#M?.push([r,i,"evict"])),this.#it(e),t&&(this.#T[e]=void 0,this.#O[e]=void 0,this.#L.push(e)),1===this.#i?(this.#P=this.#R=0,this.#L.length=0):this.#P=this.#j[e],this.#A.delete(i),this.#i--,e}has(t,e={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=e,n=this.#A.get(t);if(void 0!==n){const t=this.#O[n];if(this.#U(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#K(n))return i&&this.#tt(n),r&&(r.has="hit",this.#et(r,n)),!0;r&&(r.has="stale",this.#et(r,n))}else r&&(r.has="miss");return!1}peek(t,e={}){const{allowStale:i=this.allowStale}=e,r=this.#A.get(t);if(void 0===r||!i&&this.#K(r))return;const n=this.#O[r];return this.#U(n)?n.__staleWhileFetching:n}#H(t,e,i,r){const n=void 0===e?void 0:this.#O[e];if(this.#U(n))return n;const s=new Me,{signal:o}=i;o?.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const a={signal:s.signal,options:i,context:r},l=(r,n=!1)=>{const{aborted:o}=s.signal,l=i.ignoreFetchAbort&&void 0!==r;if(i.status&&(o&&!n?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,l&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),o&&!l&&!n)return c(s.signal.reason);const h=u;return this.#O[e]===u&&(void 0===r?h.__staleWhileFetching?this.#O[e]=h.__staleWhileFetching:this.#X(t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,r,a.options))),r},c=r=>{const{aborted:n}=s.signal,o=n&&i.allowStaleOnFetchAbort,a=o||i.allowStaleOnFetchRejection,l=a||i.noDeleteOnFetchRejection,c=u;if(this.#O[e]===u){!l||void 0===c.__staleWhileFetching?this.#X(t,"fetch"):o||(this.#O[e]=c.__staleWhileFetching)}if(a)return i.status&&void 0!==c.__staleWhileFetching&&(i.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw r};i.status&&(i.status.fetchDispatched=!0);const u=new Promise(((e,r)=>{const o=this.#S?.(t,n,a);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),r),s.signal.addEventListener("abort",(()=>{i.ignoreFetchAbort&&!i.allowStaleOnFetchAbort||(e(void 0),i.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))}))})).then(l,(t=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=t),c(t)))),h=Object.assign(u,{__abortController:s,__staleWhileFetching:n,__returned:void 0});return void 0===e?(this.set(t,h,{...a.options,status:void 0}),e=this.#A.get(t)):this.#O[e]=h,h}#U(t){if(!this.#N)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof Me}async fetch(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:f,forceRefresh:m=!1,status:g,signal:D}=e;if(!this.#N)return g&&(g.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,status:g});const b={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:p,status:g,signal:D};let y=this.#A.get(t);if(void 0===y){g&&(g.fetch="miss");const e=this.#H(t,y,b,f);return e.__returned=e}{const e=this.#O[y];if(this.#U(e)){const t=i&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const n=this.#K(y);if(!m&&!n)return g&&(g.fetch="hit"),this.#G(y),r&&this.#tt(y),g&&this.#et(g,y),e;const s=this.#H(t,y,b,f),o=void 0!==s.__staleWhileFetching&&i;return g&&(g.fetch=n?"stale":"refresh",o&&n&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const i=await this.fetch(t,e);if(void 0===i)throw new Error("fetch() returned undefined");return i}memo(t,e={}){const i=this.#C;if(!i)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:n,...s}=e,o=this.get(t,s);if(!n&&void 0!==o)return o;const a=i(t,o,{options:s,context:r});return this.set(t,a,s),a}get(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:s}=e,o=this.#A.get(t);if(void 0!==o){const e=this.#O[o],a=this.#U(e);return s&&this.#et(s,o),this.#K(o)?(s&&(s.get="stale"),a?(s&&i&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),i?e.__staleWhileFetching:void 0):(n||this.#X(t,"expire"),s&&i&&(s.returnedStale=!0),i?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(this.#G(o),r&&this.#tt(o),e))}s&&(s.get="miss")}#at(t,e){this.#B[e]=t,this.#j[t]=e}#G(t){t!==this.#R&&(t===this.#P?this.#P=this.#j[t]:this.#at(this.#B[t],this.#j[t]),this.#at(this.#R,t),this.#R=t)}delete(t){return this.#X(t,"delete")}#X(t,e){let i=!1;if(0!==this.#i){const r=this.#A.get(t);if(void 0!==r)if(i=!0,1===this.#i)this.#lt(e);else{this.#it(r);const i=this.#O[r];if(this.#U(i)?i.__abortController.abort(new Error("deleted")):(this.#W||this.#q)&&(this.#W&&this.#E?.(i,t,e),this.#q&&this.#M?.push([i,t,e])),this.#A.delete(t),this.#T[r]=void 0,this.#O[r]=void 0,r===this.#R)this.#R=this.#B[r];else if(r===this.#P)this.#P=this.#j[r];else{const t=this.#B[r];this.#j[t]=this.#j[r];const e=this.#j[r];this.#B[e]=this.#B[r]}this.#i--,this.#L.push(r)}}if(this.#q&&this.#M?.length){const t=this.#M;let e;for(;e=t?.shift();)this.#_?.(...e)}return i}clear(){return this.#lt("delete")}#lt(t){for(const e of this.#Y({allowStale:!0})){const i=this.#O[e];if(this.#U(i))i.__abortController.abort(new Error("deleted"));else{const r=this.#T[e];this.#W&&this.#E?.(i,r,t),this.#q&&this.#M?.push([i,r,t])}}if(this.#A.clear(),this.#O.fill(void 0),this.#T.fill(void 0),this.#I&&this.#$&&(this.#I.fill(0),this.#$.fill(0)),this.#z&&this.#z.fill(0),this.#P=0,this.#R=0,this.#L.length=0,this.#k=0,this.#i=0,this.#q&&this.#M){const t=this.#M;let e;for(;e=t?.shift();)this.#_?.(...e)}}}const Ue="object"==typeof process&&process?process:{stdout:null,stderr:null},He=t=>!!t&&"object"==typeof t&&(t instanceof Ai||t instanceof s||Ge(t)||Ve(t)),Ge=t=>!!t&&"object"==typeof t&&t instanceof d.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==s.Writable.prototype.pipe,Ve=t=>!!t&&"object"==typeof t&&t instanceof d.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end,Ye=Symbol("EOF"),Ke=Symbol("maybeEmitEnd"),Qe=Symbol("emittedEnd"),Je=Symbol("emittingEnd"),Ze=Symbol("emittedError"),Xe=Symbol("closed"),ti=Symbol("read"),ei=Symbol("flush"),ii=Symbol("flushChunk"),ri=Symbol("encoding"),ni=Symbol("decoder"),si=Symbol("flowing"),oi=Symbol("paused"),ai=Symbol("resume"),li=Symbol("buffer"),ci=Symbol("pipes"),ui=Symbol("bufferLength"),hi=Symbol("bufferPush"),pi=Symbol("bufferShift"),di=Symbol("objectMode"),fi=Symbol("destroyed"),mi=Symbol("error"),gi=Symbol("emitData"),Di=Symbol("emitEnd"),bi=Symbol("emitEnd2"),yi=Symbol("async"),vi=Symbol("abort"),wi=Symbol("aborted"),xi=Symbol("signal"),Fi=Symbol("dataListeners"),Ei=Symbol("discarded"),_i=t=>Promise.resolve().then(t),Si=t=>t();class Ci{src;dest;opts;ondrain;constructor(t,e,i){this.src=t,this.dest=e,this.opts=i,this.ondrain=()=>t[ai](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class ki extends Ci{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,i){super(t,e,i),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class Ai extends d.EventEmitter{[si]=!1;[oi]=!1;[ci]=[];[li]=[];[di];[ri];[yi];[ni];[Ye]=!1;[Qe]=!1;[Je]=!1;[Xe]=!1;[Ze]=null;[ui]=0;[fi]=!1;[xi];[wi]=!1;[Fi]=0;[Ei]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");e.objectMode?(this[di]=!0,this[ri]=null):(t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding)(e)?(this[ri]=e.encoding,this[di]=!1):(this[di]=!1,this[ri]=null),this[yi]=!!e.async,this[ni]=this[ri]?new f.StringDecoder(this[ri]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[li]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[ci]});const{signal:i}=e;i&&(this[xi]=i,i.aborted?this[vi]():i.addEventListener("abort",(()=>this[vi]())))}get bufferLength(){return this[ui]}get encoding(){return this[ri]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[di]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[yi]}set async(t){this[yi]=this[yi]||!!t}[vi](){this[wi]=!0,this.emit("abort",this[xi]?.reason),this.destroy(this[xi]?.reason)}get aborted(){return this[wi]}set aborted(t){}write(t,e,i){if(this[wi])return!1;if(this[Ye])throw new Error("write after end");if(this[fi])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(i=e,e="utf8"),e||(e="utf8");const r=this[yi]?_i:Si;if(!this[di]&&!Buffer.isBuffer(t))if(n=t,!Buffer.isBuffer(n)&&ArrayBuffer.isView(n))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var n;return this[di]?(this[si]&&0!==this[ui]&&this[ei](!0),this[si]?this.emit("data",t):this[hi](t),0!==this[ui]&&this.emit("readable"),i&&r(i),this[si]):t.length?("string"!=typeof t||e===this[ri]&&!this[ni]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[ri]&&(t=this[ni].write(t)),this[si]&&0!==this[ui]&&this[ei](!0),this[si]?this.emit("data",t):this[hi](t),0!==this[ui]&&this.emit("readable"),i&&r(i),this[si]):(0!==this[ui]&&this.emit("readable"),i&&r(i),this[si])}read(t){if(this[fi])return null;if(this[Ei]=!1,0===this[ui]||0===t||t&&t>this[ui])return this[Ke](),null;this[di]&&(t=null),this[li].length>1&&!this[di]&&(this[li]=[this[ri]?this[li].join(""):Buffer.concat(this[li],this[ui])]);const e=this[ti](t||null,this[li][0]);return this[Ke](),e}[ti](t,e){if(this[di])this[pi]();else{const i=e;t===i.length||null===t?this[pi]():"string"==typeof i?(this[li][0]=i.slice(t),e=i.slice(0,t),this[ui]-=t):(this[li][0]=i.subarray(t),e=i.subarray(0,t),this[ui]-=t)}return this.emit("data",e),this[li].length||this[Ye]||this.emit("drain"),e}end(t,e,i){return"function"==typeof t&&(i=t,t=void 0),"function"==typeof e&&(i=e,e="utf8"),void 0!==t&&this.write(t,e),i&&this.once("end",i),this[Ye]=!0,this.writable=!1,!this[si]&&this[oi]||this[Ke](),this}[ai](){this[fi]||(this[Fi]||this[ci].length||(this[Ei]=!0),this[oi]=!1,this[si]=!0,this.emit("resume"),this[li].length?this[ei]():this[Ye]?this[Ke]():this.emit("drain"))}resume(){return this[ai]()}pause(){this[si]=!1,this[oi]=!0,this[Ei]=!1}get destroyed(){return this[fi]}get flowing(){return this[si]}get paused(){return this[oi]}[hi](t){this[di]?this[ui]+=1:this[ui]+=t.length,this[li].push(t)}[pi](){return this[di]?this[ui]-=1:this[ui]-=this[li][0].length,this[li].shift()}[ei](t=!1){do{}while(this[ii](this[pi]())&&this[li].length);t||this[li].length||this[Ye]||this.emit("drain")}[ii](t){return this.emit("data",t),this[si]}pipe(t,e){if(this[fi])return t;this[Ei]=!1;const i=this[Qe];return e=e||{},t===Ue.stdout||t===Ue.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,i?e.end&&t.end():(this[ci].push(e.proxyErrors?new ki(this,t,e):new Ci(this,t,e)),this[yi]?_i((()=>this[ai]())):this[ai]()),t}unpipe(t){const e=this[ci].find((e=>e.dest===t));e&&(1===this[ci].length?(this[si]&&0===this[Fi]&&(this[si]=!1),this[ci]=[]):this[ci].splice(this[ci].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const i=super.on(t,e);if("data"===t)this[Ei]=!1,this[Fi]++,this[ci].length||this[si]||this[ai]();else if("readable"===t&&0!==this[ui])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[Qe])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[Ze]){const t=e;this[yi]?_i((()=>t.call(this,this[Ze]))):t.call(this,this[Ze])}return i}removeListener(t,e){return this.off(t,e)}off(t,e){const i=super.off(t,e);return"data"===t&&(this[Fi]=this.listeners("data").length,0!==this[Fi]||this[Ei]||this[ci].length||(this[si]=!1)),i}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[Fi]=0,this[Ei]||this[ci].length||(this[si]=!1)),e}get emittedEnd(){return this[Qe]}[Ke](){this[Je]||this[Qe]||this[fi]||0!==this[li].length||!this[Ye]||(this[Je]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Xe]&&this.emit("close"),this[Je]=!1)}emit(t,...e){const i=e[0];if("error"!==t&&"close"!==t&&t!==fi&&this[fi])return!1;if("data"===t)return!(!this[di]&&!i)&&(this[yi]?(_i((()=>this[gi](i))),!0):this[gi](i));if("end"===t)return this[Di]();if("close"===t){if(this[Xe]=!0,!this[Qe]&&!this[fi])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[Ze]=i,super.emit(mi,i);const t=!(this[xi]&&!this.listeners("error").length)&&super.emit("error",i);return this[Ke](),t}if("resume"===t){const t=super.emit("resume");return this[Ke](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const r=super.emit(t,...e);return this[Ke](),r}[gi](t){for(const e of this[ci])!1===e.dest.write(t)&&this.pause();const e=!this[Ei]&&super.emit("data",t);return this[Ke](),e}[Di](){return!this[Qe]&&(this[Qe]=!0,this.readable=!1,this[yi]?(_i((()=>this[bi]())),!0):this[bi]())}[bi](){if(this[ni]){const t=this[ni].end();if(t){for(const e of this[ci])e.dest.write(t);this[Ei]||super.emit("data",t)}}for(const t of this[ci])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[di]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[di]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[di])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[ri]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(fi,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[Symbol.asyncIterator](){this[Ei]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const i=this.read();if(null!==i)return Promise.resolve({done:!1,value:i});if(this[Ye])return e();let r,n;const s=t=>{this.off("data",o),this.off("end",a),this.off(fi,l),e(),n(t)},o=t=>{this.off("error",s),this.off("end",a),this.off(fi,l),this.pause(),r({value:t,done:!!this[Ye]})},a=()=>{this.off("error",s),this.off("data",o),this.off(fi,l),e(),r({done:!0,value:void 0})},l=()=>s(new Error("stream destroyed"));return new Promise(((t,e)=>{n=e,r=t,this.once(fi,l),this.once("error",s),this.once("end",a),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Ei]=!1;let t=!1;const e=()=>(this.pause(),this.off(mi,e),this.off(fi,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(mi,e),this.once(fi,e),{next:()=>{if(t)return e();const i=this.read();return null===i?e():{done:!1,value:i}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[fi])return t?this.emit("error",t):this.emit(fi),this;this[fi]=!0,this[Ei]=!0,this[li].length=0,this[ui]=0;return"function"!=typeof this.close||this[Xe]||this.close(),t?this.emit("error",t):this.emit(fi),this}static get isStream(){return He}}const Ti=t.realpathSync.native,Oi={lstatSync:t.lstatSync,readdir:t.readdir,readdirSync:t.readdirSync,readlinkSync:t.readlinkSync,realpathSync:Ti,promises:{lstat:p.lstat,readdir:p.readdir,readlink:p.readlink,realpath:p.realpath}},ji=t=>t&&t!==Oi&&t!==E?{...Oi,...t,promises:{...Oi.promises,...t.promises||{}}}:Oi,Bi=/^\\\\\?\\([a-z]:)\\?$/i,Pi=/[\\\/]/,Ri=10,Li=15,Mi=-16,zi=128,$i=256,Ii=512,Wi=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?Ri:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,Ni=new Map,qi=t=>{const e=Ni.get(t);if(e)return e;const i=t.normalize("NFKD");return Ni.set(t,i),i},Ui=new Map,Hi=t=>{const e=Ui.get(t);if(e)return e;const i=qi(t.toLowerCase());return Ui.set(t,i),i};class Gi extends qe{constructor(){super({max:256})}}class Vi extends qe{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}const Yi=Symbol("PathScurry setAsCwd");class Ki{name;root;roots;parent;nocase;isCWD=!1;#ct;#ut;get dev(){return this.#ut}#ht;get mode(){return this.#ht}#pt;get nlink(){return this.#pt}#dt;get uid(){return this.#dt}#ft;get gid(){return this.#ft}#mt;get rdev(){return this.#mt}#gt;get blksize(){return this.#gt}#Dt;get ino(){return this.#Dt}#i;get size(){return this.#i}#bt;get blocks(){return this.#bt}#yt;get atimeMs(){return this.#yt}#vt;get mtimeMs(){return this.#vt}#wt;get ctimeMs(){return this.#wt}#xt;get birthtimeMs(){return this.#xt}#Ft;get atime(){return this.#Ft}#Et;get mtime(){return this.#Et}#_t;get ctime(){return this.#_t}#St;get birthtime(){return this.#St}#Ct;#kt;#At;#Tt;#Ot;#jt;#e;#Bt;#Pt;#Rt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,i,r,n,s,o){this.name=t,this.#Ct=n?Hi(t):qi(t),this.#e=1023&e,this.nocase=n,this.roots=r,this.root=i||this,this.#Bt=s,this.#At=o.fullpath,this.#Ot=o.relative,this.#jt=o.relativePosix,this.parent=o.parent,this.parent?this.#ct=this.parent.#ct:this.#ct=ji(o.fs)}depth(){return void 0!==this.#kt?this.#kt:this.parent?this.#kt=this.parent.depth()+1:this.#kt=0}childrenCache(){return this.#Bt}resolve(t){if(!t)return this;const e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#Lt(i):this.#Lt(i)}#Lt(t){let e=this;for(const i of t)e=e.child(i);return e}children(){const t=this.#Bt.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#Bt.set(this,e),this.#e&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const i=this.children(),r=this.nocase?Hi(t):qi(t);for(const t of i)if(t.#Ct===r)return t;const n=this.parent?this.sep:"",s=this.#At?this.#At+n+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:s});return this.canReaddir()||(o.#e|=zi),i.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Ot)return this.#Ot;const t=this.name,e=this.parent;if(!e)return this.#Ot=this.name;const i=e.relative();return i+(i&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#jt)return this.#jt;const t=this.name,e=this.parent;if(!e)return this.#jt=this.fullpathPosix();const i=e.relativePosix();return i+(i&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#At)return this.#At;const t=this.name,e=this.parent;if(!e)return this.#At=this.name;const i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#At=i}fullpathPosix(){if(void 0!==this.#Tt)return this.#Tt;if("/"===this.sep)return this.#Tt=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#Tt=`//?/${t}`:this.#Tt=t}const t=this.parent,e=t.fullpathPosix(),i=e+(e&&t.parent?"/":"")+this.name;return this.#Tt=i}isUnknown(){return!(this.#e&Li)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#e&Li)}isDirectory(){return 4==(this.#e&Li)}isCharacterDevice(){return 2==(this.#e&Li)}isBlockDevice(){return 6==(this.#e&Li)}isFIFO(){return 1==(this.#e&Li)}isSocket(){return 12==(this.#e&Li)}isSymbolicLink(){return(this.#e&Ri)===Ri}lstatCached(){return 32&this.#e?this:void 0}readlinkCached(){return this.#Pt}realpathCached(){return this.#Rt}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#Pt)return!0;if(!this.parent)return!1;const t=this.#e&Li;return!(0!==t&&t!==Ri||this.#e&$i||this.#e&zi)}calledReaddir(){return!!(16&this.#e)}isENOENT(){return!!(this.#e&zi)}isNamed(t){return this.nocase?this.#Ct===Hi(t):this.#Ct===qi(t)}async readlink(){const t=this.#Pt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#ct.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#Pt=e}catch(t){return void this.#Mt(t.code)}}readlinkSync(){const t=this.#Pt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#ct.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#Pt=e}catch(t){return void this.#Mt(t.code)}}#zt(t){this.#e|=16;for(let e=t.provisional;e<t.length;e++){const i=t[e];i&&i.#$t()}}#$t(){this.#e&zi||(this.#e=(this.#e|zi)&Mi,this.#It())}#It(){const t=this.children();t.provisional=0;for(const e of t)e.#$t()}#Wt(){this.#e|=Ii,this.#Nt()}#Nt(){if(64&this.#e)return;let t=this.#e;4==(t&Li)&&(t&=Mi),this.#e=64|t,this.#It()}#qt(t=""){"ENOTDIR"===t||"EPERM"===t?this.#Nt():"ENOENT"===t?this.#$t():this.children().provisional=0}#Ut(t=""){if("ENOTDIR"===t){this.parent.#Nt()}else"ENOENT"===t&&this.#$t()}#Mt(t=""){let e=this.#e;e|=$i,"ENOENT"===t&&(e|=zi),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=Mi),this.#e=e,"ENOTDIR"===t&&this.parent&&this.parent.#Nt()}#Ht(t,e){return this.#Gt(t,e)||this.#Vt(t,e)}#Vt(t,e){const i=Wi(t),r=this.newChild(t.name,i,{parent:this}),n=r.#e&Li;return 4!==n&&n!==Ri&&0!==n&&(r.#e|=64),e.unshift(r),e.provisional++,r}#Gt(t,e){for(let i=e.provisional;i<e.length;i++){const r=e[i];if((this.nocase?Hi(t.name):qi(t.name))===r.#Ct)return this.#Yt(t,r,i,e)}}#Yt(t,e,i,r){const n=e.name;return e.#e=e.#e&Mi|Wi(t),n!==t.name&&(e.name=t.name),i!==r.provisional&&(i===r.length-1?r.pop():r.splice(i,1),r.unshift(e)),r.provisional++,e}async lstat(){if(!(this.#e&zi))try{return this.#Kt(await this.#ct.promises.lstat(this.fullpath())),this}catch(t){this.#Ut(t.code)}}lstatSync(){if(!(this.#e&zi))try{return this.#Kt(this.#ct.lstatSync(this.fullpath())),this}catch(t){this.#Ut(t.code)}}#Kt(t){const{atime:e,atimeMs:i,birthtime:r,birthtimeMs:n,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:c,gid:u,ino:h,mode:p,mtime:d,mtimeMs:f,nlink:m,rdev:g,size:D,uid:b}=t;this.#Ft=e,this.#yt=i,this.#St=r,this.#xt=n,this.#gt=s,this.#bt=o,this.#_t=a,this.#wt=l,this.#ut=c,this.#ft=u,this.#Dt=h,this.#ht=p,this.#Et=d,this.#vt=f,this.#pt=m,this.#mt=g,this.#i=D,this.#dt=b;const y=Wi(t);this.#e=this.#e&Mi|y|32,0!==y&&4!==y&&y!==Ri&&(this.#e|=64)}#Qt=[];#Jt=!1;#Zt(t){this.#Jt=!1;const e=this.#Qt.slice();this.#Qt.length=0,e.forEach((e=>e(null,t)))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask((()=>t(null,[]))));const i=this.children();if(this.calledReaddir()){const r=i.slice(0,i.provisional);return void(e?t(null,r):queueMicrotask((()=>t(null,r))))}if(this.#Qt.push(t),this.#Jt)return;this.#Jt=!0;const r=this.fullpath();this.#ct.readdir(r,{withFileTypes:!0},((t,e)=>{if(t)this.#qt(t.code),i.provisional=0;else{for(const t of e)this.#Ht(t,i);this.#zt(i)}this.#Zt(i.slice(0,i.provisional))}))}#Xt;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#Xt)await this.#Xt;else{let i=()=>{};this.#Xt=new Promise((t=>i=t));try{for(const i of await this.#ct.promises.readdir(e,{withFileTypes:!0}))this.#Ht(i,t);this.#zt(t)}catch(e){this.#qt(e.code),t.provisional=0}this.#Xt=void 0,i()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const i of this.#ct.readdirSync(e,{withFileTypes:!0}))this.#Ht(i,t);this.#zt(t)}catch(e){this.#qt(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#e)return!1;const t=Li&this.#e;return 0===t||4===t||t===Ri}shouldWalk(t,e){return!(4&~this.#e)&&!(704&this.#e)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#Rt)return this.#Rt;if(!(896&this.#e))try{const t=await this.#ct.promises.realpath(this.fullpath());return this.#Rt=this.resolve(t)}catch(t){this.#Wt()}}realpathSync(){if(this.#Rt)return this.#Rt;if(!(896&this.#e))try{const t=this.#ct.realpathSync(this.fullpath());return this.#Rt=this.resolve(t)}catch(t){this.#Wt()}}[Yi](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let i=[],r=this;for(;r&&r.parent;)e.add(r),r.#Ot=i.join(this.sep),r.#jt=i.join("/"),r=r.parent,i.push("..");for(r=t;r&&r.parent&&!e.has(r);)r.#Ot=void 0,r.#jt=void 0,r=r.parent}}class Qi extends Ki{sep="\\";splitSep=Pi;constructor(t,e=0,i,r,n,s,o){super(t,e,i,r,n,s,o)}newChild(t,e=0,i={}){return new Qi(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(t){return h.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(Bi,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,i]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=i;return this.roots[t]=new Xi(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(Bi,"$1\\"))===e}}class Ji extends Ki{splitSep="/";sep="/";constructor(t,e=0,i,r,n,s,o){super(t,e,i,r,n,s,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,i={}){return new Ji(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}}class Zi{root;rootPath;roots;cwd;#te;#ee;#Bt;nocase;#ct;constructor(t=process.cwd(),e,i,{nocase:r,childrenCacheSize:n=16384,fs:s=Oi}={}){this.#ct=ji(s),(t instanceof URL||t.startsWith("file://"))&&(t=l.fileURLToPath(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#te=new Gi,this.#ee=new Gi,this.#Bt=new Vi(n);const a=o.substring(this.rootPath.length).split(i);if(1!==a.length||a[0]||a.pop(),void 0===r)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=r,this.root=this.newRoot(this.#ct),this.roots[this.rootPath]=this.root;let c=this.root,u=a.length-1;const h=e.sep;let p=this.rootPath,d=!1;for(const t of a){const e=u--;c=c.child(t,{relative:new Array(e).fill("..").join(h),relativePosix:new Array(e).fill("..").join("/"),fullpath:p+=(d?"":h)+t}),d=!0}this.cwd=c}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#Bt}resolve(...t){let e="";for(let i=t.length-1;i>=0;i--){const r=t[i];if(r&&"."!==r&&(e=e?`${r}/${e}`:r,this.isAbsolute(r)))break}const i=this.#te.get(e);if(void 0!==i)return i;const r=this.cwd.resolve(e).fullpath();return this.#te.set(e,r),r}resolvePosix(...t){let e="";for(let i=t.length-1;i>=0;i--){const r=t[i];if(r&&"."!==r&&(e=e?`${r}/${e}`:r,this.isAbsolute(r)))break}const i=this.#ee.get(e);if(void 0!==i)return i;const r=this.cwd.resolve(e).fullpathPosix();return this.#ee.set(e,r),r}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd);const{withFileTypes:i}=e;if(t.canReaddir()){const e=await t.readdir();return i?e:e.map((t=>t.name))}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd);const{withFileTypes:i=!0}=e;return t.canReaddir()?i?t.readdirSync():t.readdirSync().map((t=>t.name)):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t.withFileTypes,t=this.cwd);const i=await t.readlink();return e?i:i?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t.withFileTypes,t=this.cwd);const i=t.readlinkSync();return e?i:i?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t.withFileTypes,t=this.cwd);const i=await t.realpath();return e?i:i?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t.withFileTypes,t=this.cwd);const i=t.realpathSync();return e?i:i?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:s}=e,o=[];n&&!n(t)||o.push(i?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB(((t,c)=>{if(t)return e(t);let u=c.length;if(!u)return e();const h=()=>{0==--u&&e()};for(const t of c)n&&!n(t)||o.push(i?t:t.fullpath()),r&&t.isSymbolicLink()?t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(a,s)?l(t,h):h())):t.shouldWalk(a,s)?l(t,h):h()}),!0)},c=t;return new Promise(((t,e)=>{l(c,(i=>{if(i)return e(i);t(o)}))}))}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:s}=e,o=[];n&&!n(t)||o.push(i?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){n&&!n(t)||o.push(i?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!r||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:s}=e;n&&!n(t)||(yield i?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){n&&!n(t)||(yield i?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!r||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:s}=e,o=new Ai({objectMode:!0});n&&!n(t)||o.write(i?t:t.fullpath());const a=new Set,l=[t];let c=0;const u=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const h=(e,d,f=!1)=>{if(e)return o.emit("error",e);if(r&&!f){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then((t=>t?.isUnknown()?t.lstat():t)));if(t.length)return void Promise.all(t).then((()=>h(null,d,!0)))}for(const e of d)!e||n&&!n(e)||o.write(i?e:e.fullpath())||(t=!0);c--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",u):p||u()};let p=!0;e.readdirCB(h,!0),p=!1}};return u(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof Ki||(e=t,t=this.cwd);const{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:s}=e,o=new Ai({objectMode:!0}),a=new Set;n&&!n(t)||o.write(i?t:t.fullpath());const l=[t];let c=0;const u=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const u=e.readdirSync();for(const e of u)n&&!n(e)||o.write(i?e:e.fullpath())||(t=!0);c--;for(const t of u){let e=t;if(t.isSymbolicLink()){if(!r||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",u)};return u(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[Yi](e)}}class Xi extends Zi{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:i=!0}=e;super(t,h.win32,"\\",{...e,nocase:i}),this.nocase=i;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return h.win32.parse(t).root.toUpperCase()}newRoot(t){return new Qi(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}class tr extends Zi{sep="/";constructor(t=process.cwd(),e={}){const{nocase:i=!1}=e;super(t,h.posix,"/",{...e,nocase:i}),this.nocase=i}parseRootPath(t){return"/"}newRoot(t){return new Ji(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}class er extends tr{constructor(t=process.cwd(),e={}){const{nocase:i=!0}=e;super(t,{...e,nocase:i})}}process.platform;const ir="win32"===process.platform?Xi:"darwin"===process.platform?er:tr;class rr{#ie;#re;#ne;length;#se;#oe;#ae;#le;#ce;#ue;#he=!0;constructor(t,e,i,r){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,i<0||i>=this.length)throw new TypeError("index out of range");if(this.#ie=t,this.#re=e,this.#ne=i,this.#se=r,0===this.#ne)if(this.isUNC()){const[t,e,i,r,...n]=this.#ie,[s,o,a,l,...c]=this.#re;""===n[0]&&(n.shift(),c.shift());const u=[t,e,i,r,""].join("/"),h=[s,o,a,l,""].join("/");this.#ie=[u,...n],this.#re=[h,...c],this.length=this.#ie.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#ie,[i,...r]=this.#re;""===e[0]&&(e.shift(),r.shift());const n=t+"/",s=i+"/";this.#ie=[n,...e],this.#re=[s,...r],this.length=this.#ie.length}}pattern(){return this.#ie[this.#ne]}isString(){return"string"==typeof this.#ie[this.#ne]}isGlobstar(){return this.#ie[this.#ne]===ke}isRegExp(){return this.#ie[this.#ne]instanceof RegExp}globString(){return this.#ae=this.#ae||(0===this.#ne?this.isAbsolute()?this.#re[0]+this.#re.slice(1).join("/"):this.#re.join("/"):this.#re.slice(this.#ne).join("/"))}hasMore(){return this.length>this.#ne+1}rest(){return void 0!==this.#oe?this.#oe:this.hasMore()?(this.#oe=new rr(this.#ie,this.#re,this.#ne+1,this.#se),this.#oe.#ue=this.#ue,this.#oe.#ce=this.#ce,this.#oe.#le=this.#le,this.#oe):this.#oe=null}isUNC(){const t=this.#ie;return void 0!==this.#ce?this.#ce:this.#ce="win32"===this.#se&&0===this.#ne&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#ie;return void 0!==this.#le?this.#le:this.#le="win32"===this.#se&&0===this.#ne&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#ie;return void 0!==this.#ue?this.#ue:this.#ue=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#ie[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#ne?t:""}checkFollowGlobstar(){return!(0===this.#ne||!this.isGlobstar()||!this.#he)}markFollowGlobstar(){return!(0===this.#ne||!this.isGlobstar()||!this.#he)&&(this.#he=!1,!0)}}const nr="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class sr{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:i,noext:r,noglobstar:n,platform:s=nr}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=s,this.mmopts={dot:!0,nobrace:e,nocase:i,noext:r,noglobstar:n,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new je(t,this.mmopts);for(let t=0;t<e.set.length;t++){const i=e.set[t],r=e.globParts[t];if(!i||!r)throw new Error("invalid pattern object");for(;"."===i[0]&&"."===r[0];)i.shift(),r.shift();const n=new rr(i,r,0,this.platform),s=new je(n.globString(),this.mmopts),o="**"===r[r.length-1],a=n.isAbsolute();a?this.absolute.push(s):this.relative.push(s),o&&(a?this.absoluteChildren.push(s):this.relativeChildren.push(s))}}ignored(t){const e=t.fullpath(),i=`${e}/`,r=t.relative()||".",n=`${r}/`;for(const t of this.relative)if(t.match(r)||t.match(n))return!0;for(const t of this.absolute)if(t.match(e)||t.match(i))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",i=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(i))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}}class or{store;constructor(t=new Map){this.store=t}copy(){return new or(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const i=t.fullpath(),r=this.store.get(i);r?r.add(e.globString()):this.store.set(i,new Set([e.globString()]))}}class ar{store=new Map;add(t,e,i){const r=(e?2:0)|(i?1:0),n=this.store.get(t);this.store.set(t,void 0===n?r:r&n)}entries(){return[...this.store.entries()].map((([t,e])=>[t,!!(2&e),!!(1&e)]))}}class lr{store=new Map;add(t,e){if(!t.canReaddir())return;const i=this.store.get(t);i?i.find((t=>t.globString()===e.globString()))||i.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}class cr{hasWalkedCache;matches=new ar;subwalks=new lr;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new or}processPatterns(t,e){this.patterns=e;const i=e.map((e=>[t,e]));for(let[t,e]of i){this.hasWalkedCache.storeWalked(t,e);const i=e.root(),r=e.isAbsolute()&&!1!==this.opts.absolute;if(i){t=t.resolve("/"===i&&void 0!==this.opts.root?this.opts.root:i);const r=e.rest();if(!r){this.matches.add(t,!0,!1);continue}e=r}if(t.isENOENT())continue;let n,s,o=!1;for(;"string"==typeof(n=e.pattern())&&(s=e.rest());){const i=t.resolve(n);t=i,e=s,o=!0}if(n=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"!=typeof n)if(n===ke){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const i=s?.pattern(),n=s?.rest();if(s&&(""!==i&&"."!==i||n)){if(".."===i){const e=t.parent||t;n?this.hasWalkedCache.hasWalked(e,n)||this.subwalks.add(e,n):this.matches.add(e,r,!0)}}else this.matches.add(t,r,""===i||"."===i)}else n instanceof RegExp&&this.subwalks.add(t,e);else{const e=".."===n||""===n||"."===n;this.matches.add(t.resolve(n),r,e)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new cr(this.opts,this.hasWalkedCache)}filterEntries(t,e){const i=this.subwalks.get(t),r=this.child();for(const t of e)for(const e of i){const i=e.isAbsolute(),n=e.pattern(),s=e.rest();n===ke?r.testGlobstar(t,e,s,i):n instanceof RegExp?r.testRegExp(t,n,s,i):r.testString(t,n,s,i)}return r}testGlobstar(t,e,i,r){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,r,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(i&&e.checkFollowGlobstar()?this.subwalks.add(t,i):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),i){const e=i.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,i.rest(),r);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,i)}else e instanceof RegExp&&this.testRegExp(t,e,i.rest(),r)}}testRegExp(t,e,i,r){e.test(t.name)&&(i?this.subwalks.add(t,i):this.matches.add(t,r,!1))}testString(t,e,i,r){t.isNamed(e)&&(i?this.subwalks.add(t,i):this.matches.add(t,r,!1))}}class ur{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#pe=[];#de;#fe;signal;maxDepth;includeChildMatches;constructor(t,e,i){if(this.patterns=t,this.path=e,this.opts=i,this.#fe=i.posix||"win32"!==i.platform?"/":"\\",this.includeChildMatches=!1!==i.includeChildMatches,(i.ignore||!this.includeChildMatches)&&(this.#de=((t,e)=>"string"==typeof t?new sr([t],e):Array.isArray(t)?new sr(t,e):t)(i.ignore??[],i),!this.includeChildMatches&&"function"!=typeof this.#de.add)){throw new Error("cannot ignore child matches, ignore lacks add() method.")}this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",(()=>{this.#pe.length=0})))}#me(t){return this.seen.has(t)||!!this.#de?.ignored?.(t)}#ge(t){return!!this.#de?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#pe.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#pe.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||await t.realpath(),!i)return;t=i}const r=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){const t=await r.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(r,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#me(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||t.realpathSync(),!i)return;t=i}const r=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){const t=r.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(r,e)}matchFinish(t,e){if(this.#me(t))return;if(!this.includeChildMatches&&this.#de?.add){const e=`${t.relativePosix()}/**`;this.#de.add(e)}const i=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const r=this.opts.mark&&t.isDirectory()?this.#fe:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(i){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+r)}else{const e=this.opts.posix?t.relativePosix():t.relative(),i=this.opts.dotRelative&&!e.startsWith(".."+this.#fe)?"."+this.#fe:"";this.matchEmit(e?i+e+r:"."+r)}}async match(t,e,i){const r=await this.matchCheck(t,i);r&&this.matchFinish(r,e)}matchSync(t,e,i){const r=this.matchCheckSync(t,i);r&&this.matchFinish(r,e)}walkCB(t,e,i){this.signal?.aborted&&i(),this.walkCB2(t,e,new cr(this.opts),i)}walkCB2(t,e,i,r){if(this.#ge(t))return r();if(this.signal?.aborted&&r(),this.paused)return void this.onResume((()=>this.walkCB2(t,e,i,r)));i.processPatterns(t,e);let n=1;const s=()=>{0==--n&&r()};for(const[t,e,r]of i.matches.entries())this.#me(t)||(n++,this.match(t,e,r).then((()=>s())));for(const t of i.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,i,s):t.readdirCB(((e,r)=>this.walkCB3(t,r,i,s)),!0)}s()}walkCB3(t,e,i,r){i=i.filterEntries(t,e);let n=1;const s=()=>{0==--n&&r()};for(const[t,e,r]of i.matches.entries())this.#me(t)||(n++,this.match(t,e,r).then((()=>s())));for(const[t,e]of i.subwalks.entries())n++,this.walkCB2(t,e,i.child(),s);s()}walkCBSync(t,e,i){this.signal?.aborted&&i(),this.walkCB2Sync(t,e,new cr(this.opts),i)}walkCB2Sync(t,e,i,r){if(this.#ge(t))return r();if(this.signal?.aborted&&r(),this.paused)return void this.onResume((()=>this.walkCB2Sync(t,e,i,r)));i.processPatterns(t,e);let n=1;const s=()=>{0==--n&&r()};for(const[t,e,r]of i.matches.entries())this.#me(t)||this.matchSync(t,e,r);for(const t of i.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirSync();this.walkCB3Sync(t,e,i,s)}s()}walkCB3Sync(t,e,i,r){i=i.filterEntries(t,e);let n=1;const s=()=>{0==--n&&r()};for(const[t,e,r]of i.matches.entries())this.#me(t)||this.matchSync(t,e,r);for(const[t,e]of i.subwalks.entries())n++,this.walkCB2Sync(t,e,i.child(),s);s()}}class hr extends ur{matches=new Set;constructor(t,e,i){super(t,e,i)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((t,e)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}}class pr extends ur{results;constructor(t,e,i){super(t,e,i),this.results=new Ai({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))})):this.walkCB(t,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}const dr="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class fr{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=l.fileURLToPath(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map((t=>t.replace(/\\/g,"/")))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map((t=>t.includes("/")?t:`./**/${t}`))}if(this.pattern=t,this.platform=e.platform||dr,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?Xi:"darwin"===e.platform?er:e.platform?tr:ir;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const i="darwin"===this.platform||"win32"===this.platform,r={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map((t=>new je(t,r))),[s,o]=n.reduce(((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t)),[[],[]]);this.patterns=s.map(((t,e)=>{const i=o[e];if(!i)throw new Error("invalid pattern object");return new rr(t,i,0,this.platform)}))}async walk(){return[...await new hr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new hr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new pr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new pr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}function mr(t,e={}){return new fr(t,e).streamSync()}function gr(t,e={}){return new fr(t,e).stream()}function Dr(t,e={}){return new fr(t,e).walkSync()}async function br(t,e={}){return new fr(t,e).walk()}function yr(t,e={}){return new fr(t,e).iterateSync()}function vr(t,e={}){return new fr(t,e).iterate()}const wr=mr,xr=Object.assign(gr,{sync:mr}),Fr=yr,Er=Object.assign(vr,{sync:yr}),_r=Object.assign(Dr,{stream:mr,iterate:yr}),Sr=Object.assign(br,{glob:br,globSync:Dr,sync:_r,globStream:gr,stream:xr,globStreamSync:mr,streamSync:wr,globIterate:vr,iterate:Er,globIterateSync:yr,iterateSync:Fr,Glob:fr,hasMagic:(t,e={})=>{Array.isArray(t)||(t=[t]);for(const i of t)if(new je(i,e).hasMagic())return!0;return!1},escape:se,unescape:Vt});Sr.glob=Sr;const Cr={"application/prs.cww":["cww"],"application/prs.xsf+xml":["xsf"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["*xfdf"],"application/vnd.age":["age"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["*fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["*mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.pwg-xhtml-print+xml":["xhtm"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml","uo"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["*prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["*sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["*aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif","btf"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.cld":["cld"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.pytha.pyox":["pyo","pyox"],"model/vnd.sap.vds":["vds"],"model/vnd.usda":["usda"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.familysearch.gedcom":["ged"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};Object.freeze(Cr);const kr={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(kr);var Ar,Tr,Or,jr=function(t,e,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:e.get(t)};Ar=new WeakMap,Tr=new WeakMap,Or=new WeakMap;var Br=new class{constructor(...t){Ar.set(this,new Map),Tr.set(this,new Map),Or.set(this,new Map);for(const e of t)this.define(e)}define(t,e=!1){for(let[i,r]of Object.entries(t)){i=i.toLowerCase(),r=r.map((t=>t.toLowerCase())),jr(this,Or,"f").has(i)||jr(this,Or,"f").set(i,new Set);const t=jr(this,Or,"f").get(i);let n=!0;for(let s of r){const r=s.startsWith("*");if(s=r?s.slice(1):s,t?.add(s),n&&jr(this,Tr,"f").set(i,s),n=!1,r)continue;const o=jr(this,Ar,"f").get(s);if(o&&o!=i&&!e)throw new Error(`"${i} -> ${s}" conflicts with "${o} -> ${s}". Pass \`force=true\` to override this definition.`);jr(this,Ar,"f").set(s,i)}}return this}getType(t){if("string"!=typeof t)return null;const e=t.replace(/^.*[/\\]/,"").toLowerCase(),i=e.replace(/^.*\./,"").toLowerCase(),r=e.length<t.length;return!(i.length<e.length-1)&&r?null:jr(this,Ar,"f").get(i)??null}getExtension(t){return"string"!=typeof t?null:(t=t?.split?.(";")[0],(t&&jr(this,Tr,"f").get(t.trim().toLowerCase()))??null)}getAllExtensions(t){return"string"!=typeof t?null:jr(this,Or,"f").get(t.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(const t of jr(this,Or,"f").values())Object.freeze(t);return this}_getTestState(){return{types:jr(this,Ar,"f"),extensions:jr(this,Tr,"f")}}}(kr,Cr)._freeze();class Pr extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,Pr)}}let Rr,Lr=[];function Mr(t,e,i,r){Rr=r;let n={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if("string"!=typeof t.extends)return n;const r=/\.json|\..*rc$/.test(t.extends);let s=null;if(r)s=function(t,e){return Rr.path.resolve(t,e)}(e,t.extends);else try{s=require.resolve(t.extends)}catch(e){return t}!function(t){if(Lr.indexOf(t)>-1)throw new Pr(`Circular extended configurations: '${t}'.`)}(s),Lr.push(s),n=r?JSON.parse(Rr.readFileSync(s,"utf8")):require(t.extends),delete t.extends,n=Mr(n,Rr.path.dirname(s),i,Rr)}return Lr=[],i?zr(n,t):Object.assign({},n,t)}function zr(t,e){const i={};function r(t){return t&&"object"==typeof t&&!Array.isArray(t)}Object.assign(i,t);for(const n of Object.keys(e))r(e[n])&&r(i[n])?i[n]=zr(t[n],e[n]):i[n]=e[n];return i}function $r(){return process.versions.electron&&!process.defaultApp?0:1}
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
function Ir(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),-1===t.indexOf("-")&&-1===t.indexOf("_"))return t;{let e="",i=!1;const r=t.match(/^-+/);for(let n=r?r[0].length:0;n<t.length;n++){let r=t.charAt(n);i&&(i=!1,r=r.toUpperCase()),0===n||"-"!==r&&"_"!==r?"-"!==r&&"_"!==r&&(e+=r):i=!0}return e}}function Wr(t,e){const i=t.toLowerCase();e=e||"-";let r="";for(let n=0;n<t.length;n++){const s=i.charAt(n),o=t.charAt(n);r+=s!==o&&n>0?`${e}${i.charAt(n)}`:o}return r}function Nr(t){return null!=t&&("number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||!/^0[^.]/.test(t)&&/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)))}
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
var qr;
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
let Ur;!function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"}(qr||(qr={}));function Hr(t){return void 0!==t?t+1:1}function Gr(t){return"__proto__"===t?"___proto___":t}
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
var Vr,Yr,Kr;const Qr=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Jr=null!==(Yr=null===(Vr=null===process||void 0===process?void 0:process.versions)||void 0===Vr?void 0:Vr.node)&&void 0!==Yr?Yr:null===(Kr=null===process||void 0===process?void 0:process.version)||void 0===Kr?void 0:Kr.slice(1);if(Jr){if(Number(Jr.match(/^([^.]+)/)[1])<Qr)throw Error(`yargs parser supports a minimum Node.js version of ${Qr}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`)}const Zr=process?process.env:{},Xr=new class{constructor(t){Ur=t}parse(t,e){const i=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},e),r=function(t){if(Array.isArray(t))return t.map((t=>"string"!=typeof t?t+"":t));t=t.trim();let e=0,i=null,r=null,n=null;const s=[];for(let o=0;o<t.length;o++)i=r,r=t.charAt(o)," "!==r||n?(r===n?n=null:"'"!==r&&'"'!==r||n||(n=r),s[e]||(s[e]=""),s[e]+=r):" "!==i&&e++;return s}(t),n="string"==typeof t,s=function(t){const e=[],i=Object.create(null);let r=!0;Object.keys(t).forEach((function(i){e.push([].concat(t[i],i))}));for(;r;){r=!1;for(let t=0;t<e.length;t++)for(let i=t+1;i<e.length;i++){if(e[t].filter((function(t){return-1!==e[i].indexOf(t)})).length){e[t]=e[t].concat(e[i]),e.splice(i,1),r=!0;break}}}return e.forEach((function(t){t=t.filter((function(t,e,i){return i.indexOf(t)===e}));const e=t.pop();void 0!==e&&"string"==typeof e&&(i[e]=t)})),i}(Object.assign(Object.create(null),i.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},i.configuration),a=Object.assign(Object.create(null),i.default),l=i.configObjects||[],c=i.envPrefix,u=o["populate--"],h=u?"--":"_",p=Object.create(null),d=Object.create(null),f=i.__||Ur.format,m={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},g=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,D=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(i.array||[]).filter(Boolean).forEach((function(t){const e="object"==typeof t?t.key:t,i=Object.keys(t).map((function(t){return{boolean:"bools",string:"strings",number:"numbers"}[t]})).filter(Boolean).pop();i&&(m[i][e]=!0),m.arrays[e]=!0,m.keys.push(e)})),[].concat(i.boolean||[]).filter(Boolean).forEach((function(t){m.bools[t]=!0,m.keys.push(t)})),[].concat(i.string||[]).filter(Boolean).forEach((function(t){m.strings[t]=!0,m.keys.push(t)})),[].concat(i.number||[]).filter(Boolean).forEach((function(t){m.numbers[t]=!0,m.keys.push(t)})),[].concat(i.count||[]).filter(Boolean).forEach((function(t){m.counts[t]=!0,m.keys.push(t)})),[].concat(i.normalize||[]).filter(Boolean).forEach((function(t){m.normalize[t]=!0,m.keys.push(t)})),"object"==typeof i.narg&&Object.entries(i.narg).forEach((([t,e])=>{"number"==typeof e&&(m.nargs[t]=e,m.keys.push(t))})),"object"==typeof i.coerce&&Object.entries(i.coerce).forEach((([t,e])=>{"function"==typeof e&&(m.coercions[t]=e,m.keys.push(t))})),void 0!==i.config&&(Array.isArray(i.config)||"string"==typeof i.config?[].concat(i.config).filter(Boolean).forEach((function(t){m.configs[t]=!0})):"object"==typeof i.config&&Object.entries(i.config).forEach((([t,e])=>{"boolean"!=typeof e&&"function"!=typeof e||(m.configs[t]=e)}))),function(...t){t.forEach((function(t){Object.keys(t||{}).forEach((function(t){m.aliases[t]||(m.aliases[t]=[].concat(s[t]||[]),m.aliases[t].concat(t).forEach((function(e){if(/-/.test(e)&&o["camel-case-expansion"]){const i=Ir(e);i!==t&&-1===m.aliases[t].indexOf(i)&&(m.aliases[t].push(i),p[i]=!0)}})),m.aliases[t].concat(t).forEach((function(e){if(e.length>1&&/[A-Z]/.test(e)&&o["camel-case-expansion"]){const i=Wr(e,"-");i!==t&&-1===m.aliases[t].indexOf(i)&&(m.aliases[t].push(i),p[i]=!0)}})),m.aliases[t].forEach((function(e){m.aliases[e]=[t].concat(m.aliases[t].filter((function(t){return e!==t})))})))}))}))}(i.key,s,i.default,m.arrays),Object.keys(a).forEach((function(t){(m.aliases[t]||[]).forEach((function(e){a[e]=a[t]}))}));let b=null;Object.keys(m.counts).find((t=>P(t,m.arrays)?(b=Error(f("Invalid configuration: %s, opts.count excludes opts.array.",t)),!0):!!P(t,m.nargs)&&(b=Error(f("Invalid configuration: %s, opts.count excludes opts.narg.",t)),!0)));let y=[];const v=Object.assign(Object.create(null),{_:[]}),w={};for(let t=0;t<r.length;t++){const e=r[t],i=e.replace(/^-{3,}/,"---");let n,s,a,l,c,u;if("--"!==e&&/^-/.test(e)&&L(e))x(e);else{if(i.match(/^---+(=|$)/)){x(e);continue}if(e.match(/^--.+=/)||!o["short-option-groups"]&&e.match(/^-.+=/))l=e.match(/^--?([^=]+)=([\s\S]*)$/),null!==l&&Array.isArray(l)&&l.length>=3&&(P(l[1],m.arrays)?t=E(t,l[1],r,l[2]):!1!==P(l[1],m.nargs)?t=F(t,l[1],r,l[2]):_(l[1],l[2],!0));else if(e.match(D)&&o["boolean-negation"])l=e.match(D),null!==l&&Array.isArray(l)&&l.length>=2&&(s=l[1],_(s,!!P(s,m.arrays)&&[!1]));else if(e.match(/^--.+/)||!o["short-option-groups"]&&e.match(/^-[^-]+/))l=e.match(/^--?(.+)/),null!==l&&Array.isArray(l)&&l.length>=2&&(s=l[1],P(s,m.arrays)?t=E(t,s,r):!1!==P(s,m.nargs)?t=F(t,s,r):(c=r[t+1],void 0===c||c.match(/^-/)&&!c.match(g)||P(s,m.bools)||P(s,m.counts)?/^(true|false)$/.test(c)?(_(s,c),t++):_(s,M(s)):(_(s,c),t++)));else if(e.match(/^-.\..+=/))l=e.match(/^-([^=]+)=([\s\S]*)$/),null!==l&&Array.isArray(l)&&l.length>=3&&_(l[1],l[2]);else if(e.match(/^-.\..+/)&&!e.match(g))c=r[t+1],l=e.match(/^-(.\..+)/),null!==l&&Array.isArray(l)&&l.length>=2&&(s=l[1],void 0===c||c.match(/^-/)||P(s,m.bools)||P(s,m.counts)?_(s,M(s)):(_(s,c),t++));else if(e.match(/^-[^-]+/)&&!e.match(g)){a=e.slice(1,-1).split(""),n=!1;for(let i=0;i<a.length;i++){if(c=e.slice(i+2),a[i+1]&&"="===a[i+1]){u=e.slice(i+3),s=a[i],P(s,m.arrays)?t=E(t,s,r,u):!1!==P(s,m.nargs)?t=F(t,s,r,u):_(s,u),n=!0;break}if("-"!==c){if(/[A-Za-z]/.test(a[i])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(c)&&!1===P(c,m.bools)){_(a[i],c),n=!0;break}if(a[i+1]&&a[i+1].match(/\W/)){_(a[i],c),n=!0;break}_(a[i],M(a[i]))}else _(a[i],c)}s=e.slice(-1)[0],n||"-"===s||(P(s,m.arrays)?t=E(t,s,r):!1!==P(s,m.nargs)?t=F(t,s,r):(c=r[t+1],void 0===c||/^(-|--)[^-]/.test(c)&&!c.match(g)||P(s,m.bools)||P(s,m.counts)?/^(true|false)$/.test(c)?(_(s,c),t++):_(s,M(s)):(_(s,c),t++)))}else if(e.match(/^-[0-9]$/)&&e.match(g)&&P(e.slice(1),m.bools))s=e.slice(1),_(s,M(s));else{if("--"===e){y=r.slice(t+1);break}if(o["halt-at-non-option"]){y=r.slice(t);break}x(e)}}}function x(t){const e=k("_",t);"string"!=typeof e&&"number"!=typeof e||v._.push(e)}function F(t,e,i,r){let n,s=P(e,m.nargs);if(s="number"!=typeof s||isNaN(s)?1:s,0===s)return z(r)||(b=Error(f("Argument unexpected for: %s",e))),_(e,M(e)),t;let a=z(r)?0:1;if(o["nargs-eats-options"])i.length-(t+1)+a<s&&(b=Error(f("Not enough arguments following: %s",e))),a=s;else{for(n=t+1;n<i.length&&(!i[n].match(/^-[^0-9]/)||i[n].match(g)||L(i[n]));n++)a++;a<s&&(b=Error(f("Not enough arguments following: %s",e)))}let l=Math.min(a,s);for(!z(r)&&l>0&&(_(e,r),l--),n=t+1;n<l+t+1;n++)_(e,i[n]);return t+l}function E(t,e,i,r){let s=[],l=r||i[t+1];const c=P(e,m.nargs);if(P(e,m.bools)&&!/^(true|false)$/.test(l))s.push(!0);else if(z(l)||z(r)&&/^-/.test(l)&&!g.test(l)&&!L(l)){if(void 0!==a[e]){const t=a[e];s=Array.isArray(t)?t:[t]}}else{z(r)||s.push(C(e,r,!0));for(let r=t+1;r<i.length&&!(!o["greedy-arrays"]&&s.length>0||c&&"number"==typeof c&&s.length>=c)&&(l=i[r],!/^-/.test(l)||g.test(l)||L(l));r++)t=r,s.push(C(e,l,n))}return"number"==typeof c&&(c&&s.length<c||isNaN(c)&&0===s.length)&&(b=Error(f("Not enough arguments following: %s",e))),_(e,s),t}function _(t,e,i=n){if(/-/.test(t)&&o["camel-case-expansion"]){const e=t.split(".").map((function(t){return Ir(t)})).join(".");S(t,e)}const r=C(t,e,i),s=t.split(".");if(B(v,s,r),m.aliases[t]&&m.aliases[t].forEach((function(t){const e=t.split(".");B(v,e,r)})),s.length>1&&o["dot-notation"]&&(m.aliases[s[0]]||[]).forEach((function(e){let i=e.split(".");const n=[].concat(s);n.shift(),i=i.concat(n),(m.aliases[t]||[]).includes(i.join("."))||B(v,i,r)})),P(t,m.normalize)&&!P(t,m.arrays)){[t].concat(m.aliases[t]||[]).forEach((function(t){Object.defineProperty(w,t,{enumerable:!0,get:()=>e,set(t){e="string"==typeof t?Ur.normalize(t):t}})}))}}function S(t,e){m.aliases[t]&&m.aliases[t].length||(m.aliases[t]=[e],p[e]=!0),m.aliases[e]&&m.aliases[e].length||S(e,t)}function C(t,e,i){i&&(e=function(t){return"string"!=typeof t||"'"!==t[0]&&'"'!==t[0]||t[t.length-1]!==t[0]?t:t.substring(1,t.length-1)}(e)),(P(t,m.bools)||P(t,m.counts))&&"string"==typeof e&&(e="true"===e);let r=Array.isArray(e)?e.map((function(e){return k(t,e)})):k(t,e);return P(t,m.counts)&&(z(r)||"boolean"==typeof r)&&(r=Hr()),P(t,m.normalize)&&P(t,m.arrays)&&(r=Array.isArray(e)?e.map((t=>Ur.normalize(t))):Ur.normalize(e)),r}function k(t,e){if(!o["parse-positional-numbers"]&&"_"===t)return e;if(!P(t,m.strings)&&!P(t,m.bools)&&!Array.isArray(e)){(Nr(e)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${e}`)))||!z(e)&&P(t,m.numbers))&&(e=Number(e))}return e}function A(t,e){Object.keys(t).forEach((function(i){const r=t[i],n=e?e+"."+i:i;"object"==typeof r&&null!==r&&!Array.isArray(r)&&o["dot-notation"]?A(r,n):(!j(v,n.split("."))||P(n,m.arrays)&&o["combine-arrays"])&&_(n,r)}))}function T(t,e){if(void 0===c)return;const i="string"==typeof c?c:"",r=Ur.env();Object.keys(r).forEach((function(n){if(""===i||0===n.lastIndexOf(i,0)){const s=n.split("__").map((function(t,e){return 0===e&&(t=t.substring(i.length)),Ir(t)}));(e&&m.configs[s.join(".")]||!e)&&!j(t,s)&&_(s.join("."),r[n])}}))}function O(t,e,i,r=!1){Object.keys(i).forEach((function(n){j(t,n.split("."))||(B(t,n.split("."),i[n]),r&&(d[n]=!0),(e[n]||[]).forEach((function(e){j(t,e.split("."))||B(t,e.split("."),i[n])})))}))}function j(t,e){let i=t;o["dot-notation"]||(e=[e.join(".")]),e.slice(0,-1).forEach((function(t){i=i[t]||{}}));const r=e[e.length-1];return"object"==typeof i&&r in i}function B(t,e,i){let r=t;o["dot-notation"]||(e=[e.join(".")]),e.slice(0,-1).forEach((function(t){t=Gr(t),"object"==typeof r&&void 0===r[t]&&(r[t]={}),"object"!=typeof r[t]||Array.isArray(r[t])?(Array.isArray(r[t])?r[t].push({}):r[t]=[r[t],{}],r=r[t][r[t].length-1]):r=r[t]}));const n=Gr(e[e.length-1]),s=P(e.join("."),m.arrays),a=Array.isArray(i);let l=o["duplicate-arguments-array"];!l&&P(n,m.nargs)&&(l=!0,(!z(r[n])&&1===m.nargs[n]||Array.isArray(r[n])&&r[n].length===m.nargs[n])&&(r[n]=void 0)),i===Hr()?r[n]=Hr(r[n]):Array.isArray(r[n])?l&&s&&a?r[n]=o["flatten-duplicate-arrays"]?r[n].concat(i):(Array.isArray(r[n][0])?r[n]:[r[n]]).concat([i]):l||Boolean(s)!==Boolean(a)?r[n]=r[n].concat([i]):r[n]=i:void 0===r[n]&&s?r[n]=a?i:[i]:!l||void 0===r[n]||P(n,m.counts)||P(n,m.bools)?r[n]=i:r[n]=[r[n],i]}function P(t,e){const i=[].concat(m.aliases[t]||[],t),r=Object.keys(e),n=i.find((t=>r.includes(t)));return!!n&&e[n]}function R(t){const e=Object.keys(m);return[].concat(e.map((t=>m[t]))).some((function(e){return Array.isArray(e)?e.includes(t):e[t]}))}function L(t){return o["unknown-options-as-args"]&&function(t){if(t=t.replace(/^-{3,}/,"--"),t.match(g))return!1;if(function(t){if(t.match(g)||!t.match(/^-[^-]+/))return!1;let e,i=!0;const r=t.slice(1).split("");for(let n=0;n<r.length;n++){if(e=t.slice(n+2),!R(r[n])){i=!1;break}if(r[n+1]&&"="===r[n+1]||"-"===e||/[A-Za-z]/.test(r[n])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(e)||r[n+1]&&r[n+1].match(/\W/))break}return i}(t))return!1;return!function(t,...e){return[].concat(...e).some((function(e){const i=t.match(e);return i&&R(i[1])}))}(t,/^-+([^=]+?)=[\s\S]*$/,D,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}(t)}function M(t){return P(t,m.bools)||P(t,m.counts)||!(`${t}`in a)?(e=function(t){let e=qr.BOOLEAN;return P(t,m.strings)?e=qr.STRING:P(t,m.numbers)?e=qr.NUMBER:P(t,m.bools)?e=qr.BOOLEAN:P(t,m.arrays)&&(e=qr.ARRAY),e}(t),{[qr.BOOLEAN]:!0,[qr.STRING]:"",[qr.NUMBER]:void 0,[qr.ARRAY]:[]}[e]):a[t];var e}function z(t){return void 0===t}return T(v,!0),T(v,!1),function(t){const e=Object.create(null);O(e,m.aliases,a),Object.keys(m.configs).forEach((function(i){const r=t[i]||e[i];if(r)try{let t=null;const e=Ur.resolve(Ur.cwd(),r),n=m.configs[i];if("function"==typeof n){try{t=n(e)}catch(e){t=e}if(t instanceof Error)return void(b=t)}else t=Ur.require(e);A(t)}catch(e){"PermissionDenied"===e.name?b=e:t[i]&&(b=Error(f("Invalid JSON config file: %s",r)))}}))}(v),void 0!==l&&l.forEach((function(t){A(t)})),O(v,m.aliases,a,!0),function(t){let e;const i=new Set;Object.keys(t).forEach((function(r){if(!i.has(r)&&(e=P(r,m.coercions),"function"==typeof e))try{const n=k(r,e(t[r]));[].concat(m.aliases[r]||[],r).forEach((e=>{i.add(e),t[e]=n}))}catch(t){b=t}}))}(v),o["set-placeholder-key"]&&function(t){m.keys.forEach((e=>{~e.indexOf(".")||void 0===t[e]&&(t[e]=void 0)}))}(v),Object.keys(m.counts).forEach((function(t){j(v,t.split("."))||_(t,0)})),u&&y.length&&(v[h]=[]),y.forEach((function(t){v[h].push(t)})),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(v).filter((t=>"--"!==t&&t.includes("-"))).forEach((t=>{delete v[t]})),o["strip-aliased"]&&[].concat(...Object.keys(s).map((t=>s[t]))).forEach((t=>{o["camel-case-expansion"]&&t.includes("-")&&delete v[t.split(".").map((t=>Ir(t))).join(".")],delete v[t]})),{aliases:Object.assign({},m.aliases),argv:Object.assign(w,v),configuration:o,defaulted:Object.assign({},d),error:b,newAliases:Object.assign({},p)}}}({cwd:process.cwd,env:()=>Zr,format:m.format,normalize:e.normalize,resolve:e.resolve,require:e=>{if("undefined"!=typeof require)return require(e);if(e.match(/\.json$/))return JSON.parse(t.readFileSync(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),tn=function(t,e){return Xr.parse(t.slice(),e).argv};tn.detailed=function(t,e){return Xr.parse(t.slice(),e)},tn.camelCase=Ir,tn.decamelize=Wr,tn.looksLikeNumber=Nr;const en={right:function(t,e){t=t.trim();const i=sn.stringWidth(t);if(i<e)return" ".repeat(e-i)+t;return t},center:function(t,e){t=t.trim();const i=sn.stringWidth(t);if(i>=e)return t;return" ".repeat(e-i>>1)+t}};class rn{constructor(t){var e;this.width=t.width,this.wrap=null===(e=t.wrap)||void 0===e||e,this.rows=[]}span(...t){this.div(...t).span=!0}resetOutput(){this.rows=[]}div(...t){if(0===t.length&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&"string"==typeof t[0])return this.applyLayoutDSL(t[0]);const e=t.map((t=>"string"==typeof t?this.colFromString(t):t));return this.rows.push(e),e}shouldApplyLayoutDSL(...t){return 1===t.length&&"string"==typeof t[0]&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){const e=t.split("\n").map((t=>t.split("\t")));let i=0;return e.forEach((t=>{t.length>1&&sn.stringWidth(t[0])>i&&(i=Math.min(Math.floor(.5*this.width),sn.stringWidth(t[0])))})),e.forEach((t=>{this.div(...t.map(((e,r)=>({text:e.trim(),padding:this.measurePadding(e),width:0===r&&t.length>1?i:void 0}))))})),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){const e=sn.stripAnsi(t);return[0,e.match(/\s*$/)[0].length,0,e.match(/^\s*/)[0].length]}toString(){const t=[];return this.rows.forEach((e=>{this.rowToString(e,t)})),t.filter((t=>!t.hidden)).map((t=>t.text)).join("\n")}rowToString(t,e){return this.rasterize(t).forEach(((i,r)=>{let n="";i.forEach(((i,s)=>{const{width:o}=t[s],a=this.negatePadding(t[s]);let l=i;if(a>sn.stringWidth(i)&&(l+=" ".repeat(a-sn.stringWidth(i))),t[s].align&&"left"!==t[s].align&&this.wrap){l=(0,en[t[s].align])(l,a),sn.stringWidth(l)<a&&(l+=" ".repeat((o||0)-sn.stringWidth(l)-1))}const c=t[s].padding||[0,0,0,0];c[3]&&(n+=" ".repeat(c[3])),n+=nn(t[s],l,"| "),n+=l,n+=nn(t[s],l," |"),c[1]&&(n+=" ".repeat(c[1])),0===r&&e.length>0&&(n=this.renderInline(n,e[e.length-1]))})),e.push({text:n.replace(/ +$/,""),span:t.span})})),e}renderInline(t,e){const i=t.match(/^ */),r=i?i[0].length:0,n=e.text,s=sn.stringWidth(n.trimRight());return e.span?this.wrap?r<s?t:(e.hidden=!0,n.trimRight()+" ".repeat(r-s)+t.trimLeft()):(e.hidden=!0,n+t):t}rasterize(t){const e=[],i=this.columnWidths(t);let r;return t.forEach(((t,n)=>{t.width=i[n],r=this.wrap?sn.wrap(t.text,this.negatePadding(t),{hard:!0}).split("\n"):t.text.split("\n"),t.border&&(r.unshift("."+"-".repeat(this.negatePadding(t)+2)+"."),r.push("'"+"-".repeat(this.negatePadding(t)+2)+"'")),t.padding&&(r.unshift(...new Array(t.padding[0]||0).fill("")),r.push(...new Array(t.padding[2]||0).fill(""))),r.forEach(((t,i)=>{e[i]||e.push([]);const r=e[i];for(let t=0;t<n;t++)void 0===r[t]&&r.push("");r.push(t)}))})),e}negatePadding(t){let e=t.width||0;return t.padding&&(e-=(t.padding[3]||0)+(t.padding[1]||0)),t.border&&(e-=4),e}columnWidths(t){if(!this.wrap)return t.map((t=>t.width||sn.stringWidth(t.text)));let e=t.length,i=this.width;const r=t.map((t=>{if(t.width)return e--,i-=t.width,t.width})),n=e?Math.floor(i/e):0;return r.map(((e,i)=>void 0===e?Math.max(n,function(t){const e=t.padding||[],i=1+(e[3]||0)+(e[1]||0);if(t.border)return i+4;return i}(t[i])):e))}}function nn(t,e,i){return t.border?/[.']-+[.']/.test(e)?"":0!==e.trim().length?i:"  ":""}let sn;const on=new RegExp("(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function an(t){return t.replace(on,"")}function ln(t,e){const[i,r]=t.match(on)||["",""];t=an(t);let n="";for(let i=0;i<t.length;i++)0!==i&&i%e==0&&(n+="\n"),n+=t.charAt(i);return i&&r&&(n=`${i}${n}${r}`),n}var cn={fs:{readFileSync:t.readFileSync,writeFile:t.writeFile},format:m.format,resolve:e.resolve,exists:e=>{try{return t.statSync(e).isFile()}catch(t){return!1}}};let un;class hn{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles="boolean"!=typeof t.updateFiles||t.updateFiles,this.locale=t.locale||"en",this.fallbackToLanguage="boolean"!=typeof t.fallbackToLanguage||t.fallbackToLanguage,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if("string"!=typeof arguments[0])return this._taggedLiteral(arguments[0],...arguments);const e=t.shift();let i=function(){};return"function"==typeof t[t.length-1]&&(i=t.pop()),i=i||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]=e,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i(),un.format.apply(un.format,[this.cache[this.locale][e]||e].concat(t))}__n(){const t=Array.prototype.slice.call(arguments),e=t.shift(),i=t.shift(),r=t.shift();let n=function(){};"function"==typeof t[t.length-1]&&(n=t.pop()),this.cache[this.locale]||this._readLocaleFile();let s=1===r?e:i;if(this.cache[this.locale][e]){s=this.cache[this.locale][e][1===r?"one":"other"]}!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]={one:e,other:i},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n();const o=[s];return~s.indexOf("%d")&&o.push(r),un.format.apply(un.format,o.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.cache[this.locale][e]=t[e])}_taggedLiteral(t,...e){let i="";return t.forEach((function(t,r){const n=e[r+1];i+=t,void 0!==n&&(i+="%s")})),this.__.apply(this,[i].concat([].slice.call(e,1)))}_enqueueWrite(t){this.writeQueue.push(t),1===this.writeQueue.length&&this._processWriteQueue()}_processWriteQueue(){const t=this,e=this.writeQueue[0],i=e.directory,r=e.locale,n=e.cb,s=this._resolveLocaleFile(i,r),o=JSON.stringify(this.cache[r],null,2);un.fs.writeFile(s,o,"utf-8",(function(e){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),n(e)}))}_readLocaleFile(){let t={};const e=this._resolveLocaleFile(this.directory,this.locale);try{un.fs.readFileSync&&(t=JSON.parse(un.fs.readFileSync(e,"utf-8")))}catch(i){if(i instanceof SyntaxError&&(i.message="syntax error in "+e),"ENOENT"!==i.code)throw i;t={}}this.cache[this.locale]=t}_resolveLocaleFile(t,e){let i=un.resolve(t,"./",e+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(i)&&~e.lastIndexOf("_")){const r=un.resolve(t,"./",e.split("_")[0]+".json");this._fileExistsSync(r)&&(i=r)}return i}_fileExistsSync(t){return un.exists(t)}}const pn="loading a directory of commands is not supported yet for ESM";let dn;try{dn=D.fileURLToPath("undefined"==typeof document?require("url").pathToFileURL(__filename).href:x&&x.src||new URL("cli.js",document.baseURI).href)}catch($){dn=process.cwd()}const fn=dn.substring(0,dn.lastIndexOf("node_modules"));var mn,gn={assert:{notStrictEqual:g.notStrictEqual,strictEqual:g.strictEqual},cliui:function(t){return function(t,e){return sn=e,new rn({width:(null==t?void 0:t.width)||("object"==typeof process&&process.stdout&&process.stdout.columns?process.stdout.columns:80),wrap:null==t?void 0:t.wrap})}(t,{stringWidth:t=>[...t].length,stripAnsi:an,wrap:ln})},findUp:function(i,r){let n,s=e.resolve(".",i);for(t.statSync(s).isDirectory()||(s=e.dirname(s));;){if(n=r(s,t.readdirSync(s)),n)return e.resolve(s,n);if(s=e.dirname(n=s),n===s)break}},getEnv:t=>process.env[t],inspect:m.inspect,getCallerFile:()=>{throw new Pr(pn)},getProcessArgvBin:function(){return process.argv[$r()]},mainFilename:fn||process.cwd(),Parser:tn,path:{basename:e.basename,dirname:e.dirname,extname:e.extname,relative:e.relative,resolve:e.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:void 0!==process.stdout.columns?process.stdout.columns:null},readFileSync:t.readFileSync,require:()=>{throw new Pr("require is not supported by ESM")},requireDirectory:()=>{throw new Pr(pn)},stringWidth:t=>[...t].length,y18n:(mn={directory:e.resolve(dn,"../../../locales"),updateFiles:!1},function(t,e){un=e;const i=new hn(t);return{__:i.__.bind(i),__n:i.__n.bind(i),setLocale:i.setLocale.bind(i),getLocale:i.getLocale.bind(i),updateLocale:i.updateLocale.bind(i),locale:i.locale}}(mn,cn))};const Dn="[",bn="]",yn="",vn=";",wn="undefined"!=typeof window&&void 0!==window.document,xn=!wn&&"Apple_Terminal"===b.env.TERM_PROGRAM,Fn=!wn&&"win32"===b.platform,En=wn?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:b.cwd,_n={cursorTo:(t,e)=>{if("number"!=typeof t)throw new TypeError("The `x` argument is required");return"number"!=typeof e?Dn+(t+1)+"G":Dn+(e+1)+vn+(t+1)+"H"},cursorMove:(t,e)=>{if("number"!=typeof t)throw new TypeError("The `x` argument is required");let i="";return t<0?i+=Dn+-t+"D":t>0&&(i+=Dn+t+"C"),e<0?i+=Dn+-e+"A":e>0&&(i+=Dn+e+"B"),i},cursorUp:(t=1)=>Dn+t+"A",cursorDown:(t=1)=>Dn+t+"B",cursorForward:(t=1)=>Dn+t+"C",cursorBackward:(t=1)=>Dn+t+"D",cursorLeft:"[G"};_n.cursorSavePosition=xn?"7":"[s",_n.cursorRestorePosition=xn?"8":"[u",_n.cursorGetPosition="[6n",_n.cursorNextLine="[E",_n.cursorPrevLine="[F",_n.cursorHide="[?25l",_n.cursorShow="[?25h",_n.eraseLines=t=>{let e="";for(let i=0;i<t;i++)e+=_n.eraseLine+(i<t-1?_n.cursorUp():"");return t&&(e+=_n.cursorLeft),e},_n.eraseEndLine="[K",_n.eraseStartLine="[1K",_n.eraseLine="[2K",_n.eraseDown="[J",_n.eraseUp="[1J",_n.eraseScreen="[2J",_n.scrollUp="[S",_n.scrollDown="[T",_n.clearScreen="c",_n.clearTerminal=Fn?`${_n.eraseScreen}${Dn}0f`:`${_n.eraseScreen}${Dn}3J${Dn}H`,_n.enterAlternativeScreen="[?1049h",_n.exitAlternativeScreen="[?1049l",_n.beep=yn,_n.link=(t,e)=>[bn,"8",vn,vn,e,yn,t,bn,"8",vn,vn,yn].join(""),_n.image=(t,e={})=>{let i=`${bn}1337;File=inline=1`;return e.width&&(i+=`;width=${e.width}`),e.height&&(i+=`;height=${e.height}`),!1===e.preserveAspectRatio&&(i+=";preserveAspectRatio=0"),i+":"+t.toString("base64")+yn},_n.iTerm={setCwd:(t=En())=>`${bn}50;CurrentDir=${t}${yn}`,annotation(t,e={}){let i=`${bn}1337;`;const r=void 0!==e.x,n=void 0!==e.y;if((r||n)&&(!r||!n||void 0===e.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return t=t.replace(/\|/g,""),i+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?i+=(r?[t,e.length,e.x,e.y]:[e.length,t]).join("|"):i+=t,i+yn}};var Sn={exports:{}},Cn={exports:{}};const kn=(t,e)=>{for(const i of Reflect.ownKeys(e))Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i));return t};Cn.exports=kn,Cn.exports.default=kn;const An=Cn.exports,Tn=new WeakMap,On=(t,e={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let i,r=0;const n=t.displayName||t.name||"<anonymous>",s=function(...o){if(Tn.set(s,++r),1===r)i=t.apply(this,o),t=null;else if(!0===e.throw)throw new Error(`Function \`${n}\` can only be called once`);return i};return An(s,t),Tn.set(s,r),s};Sn.exports=On,Sn.exports.default=On,Sn.exports.callCount=t=>{if(!Tn.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Tn.get(t)};var jn,Bn=S(Sn.exports),Pn={exports:{}},Rn={exports:{}};var Ln=_.process;const Mn=function(t){return t&&"object"==typeof t&&"function"==typeof t.removeListener&&"function"==typeof t.emit&&"function"==typeof t.reallyExit&&"function"==typeof t.listeners&&"function"==typeof t.kill&&"number"==typeof t.pid&&"function"==typeof t.on};if(Mn(Ln)){var zn,$n=g,In=(jn||(jn=1,(Zn=Rn).exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&Zn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&Zn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")),Rn.exports),Wn=/^win/i.test(Ln.platform),Nn=y;"function"!=typeof Nn&&(Nn=Nn.EventEmitter),Ln.__signal_exit_emitter__?zn=Ln.__signal_exit_emitter__:((zn=Ln.__signal_exit_emitter__=new Nn).count=0,zn.emitted={}),zn.infinite||(zn.setMaxListeners(1/0),zn.infinite=!0),Pn.exports=function(t,e){if(!Mn(_.process))return function(){};$n.equal(typeof t,"function","a callback must be provided for exit handler"),!1===Gn&&Vn();var i="exit";e&&e.alwaysLast&&(i="afterexit");return zn.on(i,t),function(){zn.removeListener(i,t),0===zn.listeners("exit").length&&0===zn.listeners("afterexit").length&&qn()}};var qn=function(){Gn&&Mn(_.process)&&(Gn=!1,In.forEach((function(t){try{Ln.removeListener(t,Hn[t])}catch(t){}})),Ln.emit=Qn,Ln.reallyExit=Yn,zn.count-=1)};Pn.exports.unload=qn;var Un=function(t,e,i){zn.emitted[t]||(zn.emitted[t]=!0,zn.emit(t,e,i))},Hn={};In.forEach((function(t){Hn[t]=function(){Mn(_.process)&&(Ln.listeners(t).length===zn.count&&(qn(),Un("exit",null,t),Un("afterexit",null,t),Wn&&"SIGHUP"===t&&(t="SIGINT"),Ln.kill(Ln.pid,t)))}})),Pn.exports.signals=function(){return In};var Gn=!1,Vn=function(){!Gn&&Mn(_.process)&&(Gn=!0,zn.count+=1,In=In.filter((function(t){try{return Ln.on(t,Hn[t]),!0}catch(t){return!1}})),Ln.emit=Jn,Ln.reallyExit=Kn)};Pn.exports.load=Vn;var Yn=Ln.reallyExit,Kn=function(t){Mn(_.process)&&(Ln.exitCode=t||0,Un("exit",Ln.exitCode,null),Un("afterexit",Ln.exitCode,null),Yn.call(Ln,Ln.exitCode))},Qn=Ln.emit,Jn=function(t,e){if("exit"===t&&Mn(_.process)){void 0!==e&&(Ln.exitCode=e);var i=Qn.apply(this,arguments);return Un("exit",Ln.exitCode,null),Un("afterexit",Ln.exitCode,null),i}return Qn.apply(this,arguments)}}else Pn.exports=function(){return function(){}};var Zn,Xn=S(Pn.exports);const ts=Bn((()=>{Xn((()=>{b.stderr.write("[?25h")}),{alwaysLast:!0})}));let es=!1;const is={};is.show=(t=b.stderr)=>{t.isTTY&&(es=!1,t.write("[?25h"))},is.hide=(t=b.stderr)=>{t.isTTY&&(ts(),es=!0,t.write("[?25l"))},is.toggle=(t,e)=>{void 0!==t&&(es=t),es?is.show(e):is.hide(e)};const rs=function({onlyFirst:t=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}();function ns(t){if("string"!=typeof t)throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(rs,"")}function ss(t,{ambiguousAsWide:e=!1}={}){return function(t){if(!Number.isSafeInteger(t))throw new TypeError(`Expected a code point, got \`${typeof t}\`.`)}(t),function(t){return 12288===t||t>=65281&&t<=65376||t>=65504&&t<=65510}(t)||function(t){return t>=4352&&t<=4447||8986===t||8987===t||9001===t||9002===t||t>=9193&&t<=9196||9200===t||9203===t||9725===t||9726===t||9748===t||9749===t||t>=9800&&t<=9811||9855===t||9875===t||9889===t||9898===t||9899===t||9917===t||9918===t||9924===t||9925===t||9934===t||9940===t||9962===t||9970===t||9971===t||9973===t||9978===t||9981===t||9989===t||9994===t||9995===t||10024===t||10060===t||10062===t||t>=10067&&t<=10069||10071===t||t>=10133&&t<=10135||10160===t||10175===t||11035===t||11036===t||11088===t||11093===t||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12771||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||94192===t||94193===t||t>=94208&&t<=100343||t>=100352&&t<=101589||t>=101632&&t<=101640||t>=110576&&t<=110579||t>=110581&&t<=110587||110589===t||110590===t||t>=110592&&t<=110882||110898===t||t>=110928&&t<=110930||110933===t||t>=110948&&t<=110951||t>=110960&&t<=111355||126980===t||127183===t||127374===t||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||127568===t||127569===t||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||127988===t||t>=127992&&t<=128062||128064===t||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||128378===t||128405===t||128406===t||128420===t||t>=128507&&t<=128591||t>=128640&&t<=128709||128716===t||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||128747===t||128748===t||t>=128756&&t<=128764||t>=128992&&t<=129003||129008===t||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129672||t>=129680&&t<=129725||t>=129727&&t<=129733||t>=129742&&t<=129755||t>=129760&&t<=129768||t>=129776&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141}(t)||e&&function(t){return 161===t||164===t||167===t||168===t||170===t||173===t||174===t||t>=176&&t<=180||t>=182&&t<=186||t>=188&&t<=191||198===t||208===t||215===t||216===t||t>=222&&t<=225||230===t||t>=232&&t<=234||236===t||237===t||240===t||242===t||243===t||t>=247&&t<=250||252===t||254===t||257===t||273===t||275===t||283===t||294===t||295===t||299===t||t>=305&&t<=307||312===t||t>=319&&t<=322||324===t||t>=328&&t<=331||333===t||338===t||339===t||358===t||359===t||363===t||462===t||464===t||466===t||468===t||470===t||472===t||474===t||476===t||593===t||609===t||708===t||711===t||t>=713&&t<=715||717===t||720===t||t>=728&&t<=731||733===t||735===t||t>=768&&t<=879||t>=913&&t<=929||t>=931&&t<=937||t>=945&&t<=961||t>=963&&t<=969||1025===t||t>=1040&&t<=1103||1105===t||8208===t||t>=8211&&t<=8214||8216===t||8217===t||8220===t||8221===t||t>=8224&&t<=8226||t>=8228&&t<=8231||8240===t||8242===t||8243===t||8245===t||8251===t||8254===t||8308===t||8319===t||t>=8321&&t<=8324||8364===t||8451===t||8453===t||8457===t||8467===t||8470===t||8481===t||8482===t||8486===t||8491===t||8531===t||8532===t||t>=8539&&t<=8542||t>=8544&&t<=8555||t>=8560&&t<=8569||8585===t||t>=8592&&t<=8601||8632===t||8633===t||8658===t||8660===t||8679===t||8704===t||8706===t||8707===t||8711===t||8712===t||8715===t||8719===t||8721===t||8725===t||8730===t||t>=8733&&t<=8736||8739===t||8741===t||t>=8743&&t<=8748||8750===t||t>=8756&&t<=8759||8764===t||8765===t||8776===t||8780===t||8786===t||8800===t||8801===t||t>=8804&&t<=8807||8810===t||8811===t||8814===t||8815===t||8834===t||8835===t||8838===t||8839===t||8853===t||8857===t||8869===t||8895===t||8978===t||t>=9312&&t<=9449||t>=9451&&t<=9547||t>=9552&&t<=9587||t>=9600&&t<=9615||t>=9618&&t<=9621||9632===t||9633===t||t>=9635&&t<=9641||9650===t||9651===t||9654===t||9655===t||9660===t||9661===t||9664===t||9665===t||t>=9670&&t<=9672||9675===t||t>=9678&&t<=9681||t>=9698&&t<=9701||9711===t||9733===t||9734===t||9737===t||9742===t||9743===t||9756===t||9758===t||9792===t||9794===t||9824===t||9825===t||t>=9827&&t<=9829||t>=9831&&t<=9834||9836===t||9837===t||9839===t||9886===t||9887===t||9919===t||t>=9926&&t<=9933||t>=9935&&t<=9939||t>=9941&&t<=9953||9955===t||9960===t||9961===t||t>=9963&&t<=9969||9972===t||t>=9974&&t<=9977||9979===t||9980===t||9982===t||9983===t||10045===t||t>=10102&&t<=10111||t>=11094&&t<=11097||t>=12872&&t<=12879||t>=57344&&t<=63743||t>=65024&&t<=65039||65533===t||t>=127232&&t<=127242||t>=127248&&t<=127277||t>=127280&&t<=127337||t>=127344&&t<=127373||127375===t||127376===t||t>=127387&&t<=127404||t>=917760&&t<=917999||t>=983040&&t<=1048573||t>=1048576&&t<=1114109}(t)?2:1}const os=new Intl.Segmenter,as=/^\p{Default_Ignorable_Code_Point}$/u;function ls(t,e={}){if("string"!=typeof t||0===t.length)return 0;const{ambiguousIsNarrow:i=!0,countAnsiEscapeCodes:r=!1}=e;if(r||(t=ns(t)),0===t.length)return 0;let n=0;const s={ambiguousAsWide:!i};for(const{segment:e}of os.segment(t)){const t=e.codePointAt(0);t<=31||t>=127&&t<=159||(t>=8203&&t<=8207||65279===t||t>=768&&t<=879||t>=6832&&t<=6911||t>=7616&&t<=7679||t>=8400&&t<=8447||t>=65056&&t<=65071||t>=55296&&t<=57343||t>=65024&&t<=65039||as.test(e)||(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g.test(e)?n+=2:n+=ss(t,s)))}return n}const cs=(t=0)=>e=>`[${e+t}m`,us=(t=0)=>e=>`[${38+t};5;${e}m`,hs=(t=0)=>(e,i,r)=>`[${38+t};2;${e};${i};${r}m`,ps={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(ps.modifier);Object.keys(ps.color),Object.keys(ps.bgColor);const ds=function(){const t=new Map;for(const[e,i]of Object.entries(ps)){for(const[e,r]of Object.entries(i))ps[e]={open:`[${r[0]}m`,close:`[${r[1]}m`},i[e]=ps[e],t.set(r[0],r[1]);Object.defineProperty(ps,e,{value:i,enumerable:!1})}return Object.defineProperty(ps,"codes",{value:t,enumerable:!1}),ps.color.close="[39m",ps.bgColor.close="[49m",ps.color.ansi=cs(),ps.color.ansi256=us(),ps.color.ansi16m=hs(),ps.bgColor.ansi=cs(10),ps.bgColor.ansi256=us(10),ps.bgColor.ansi16m=hs(10),Object.defineProperties(ps,{rgbToAnsi256:{value:(t,e,i)=>t===e&&e===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:t=>{const e=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!e)return[0,0,0];let[i]=e;3===i.length&&(i=[...i].map((t=>t+t)).join(""));const r=Number.parseInt(i,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:t=>ps.rgbToAnsi256(...ps.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return t-8+90;let e,i,r;if(t>=232)e=(10*(t-232)+8)/255,i=e,r=e;else{const n=(t-=16)%36;e=Math.floor(t/36)/5,i=Math.floor(n/6)/5,r=n%6/5}const n=2*Math.max(e,i,r);if(0===n)return 30;let s=30+(Math.round(r)<<2|Math.round(i)<<1|Math.round(e));return 2===n&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(t,e,i)=>ps.ansi256ToAnsi(ps.rgbToAnsi256(t,e,i)),enumerable:!1},hexToAnsi:{value:t=>ps.ansi256ToAnsi(ps.hexToAnsi256(t)),enumerable:!1}}),ps}(),fs=new Set(["",""]),ms="]8;;",gs=t=>`${fs.values().next().value}[${t}m`,Ds=t=>`${fs.values().next().value}${ms}${t}`,bs=(t,e,i)=>{const r=[...e];let n=!1,s=!1,o=ls(ns(t.at(-1)));for(const[e,a]of r.entries()){const l=ls(a);if(o+l<=i?t[t.length-1]+=a:(t.push(a),o=0),fs.has(a)){n=!0;s=r.slice(e+1,e+1+4).join("")===ms}n?s?""===a&&(n=!1,s=!1):"m"===a&&(n=!1):(o+=l,o===i&&e<r.length-1&&(t.push(""),o=0))}!o&&t.at(-1).length>0&&t.length>1&&(t[t.length-2]+=t.pop())},ys=(t,e,i={})=>{if(!1!==i.trim&&""===t.trim())return"";let r,n,s="";const o=(t=>t.split(" ").map((t=>ls(t))))(t);let a=[""];for(const[r,n]of t.split(" ").entries()){!1!==i.trim&&(a[a.length-1]=a.at(-1).trimStart());let t=ls(a.at(-1));if(0!==r&&(t>=e&&(!1===i.wordWrap||!1===i.trim)&&(a.push(""),t=0),(t>0||!1===i.trim)&&(a[a.length-1]+=" ",t++)),i.hard&&o[r]>e){const i=e-t,s=1+Math.floor((o[r]-i-1)/e);Math.floor((o[r]-1)/e)<s&&a.push(""),bs(a,n,e)}else{if(t+o[r]>e&&t>0&&o[r]>0){if(!1===i.wordWrap&&t<e){bs(a,n,e);continue}a.push("")}t+o[r]>e&&!1===i.wordWrap?bs(a,n,e):a[a.length-1]+=n}}!1!==i.trim&&(a=a.map((t=>(t=>{const e=t.split(" ");let i=e.length;for(;i>0&&!(ls(e[i-1])>0);)i--;return i===e.length?t:e.slice(0,i).join(" ")+e.slice(i).join("")})(t))));const l=a.join("\n"),c=[...l];let u=0;for(const[t,e]of c.entries()){if(s+=e,fs.has(e)){const{groups:t}=new RegExp(`(?:\\[(?<code>\\d+)m|\\${ms}(?<uri>.*))`).exec(l.slice(u))||{groups:{}};if(void 0!==t.code){const e=Number.parseFloat(t.code);r=39===e?void 0:e}else void 0!==t.uri&&(n=0===t.uri.length?void 0:t.uri)}const i=ds.codes.get(Number(r));"\n"===c[t+1]?(n&&(s+=Ds("")),r&&i&&(s+=gs(i))):"\n"===e&&(r&&i&&(s+=gs(r)),n&&(s+=Ds(n))),u+=e.length}return s};function vs(t){return!!Number.isInteger(t)&&2===ss(t)}const ws=new Set([27,155]),xs="0".codePointAt(0),Fs="9".codePointAt(0),Es=new Set,_s=new Map;for(const[t,e]of ds.codes)Es.add(ds.color.ansi(e)),_s.set(ds.color.ansi(t),ds.color.ansi(e));function Ss(t){if(Es.has(t))return t;if(_s.has(t))return _s.get(t);(t=t.slice(2)).includes(";")&&(t=t[0]+"0");const e=ds.codes.get(Number.parseInt(t,10));return e?ds.color.ansi(e):ds.reset.open}function Cs(t,e){const i=function(t){for(let e=0;e<t.length;e++){const i=t.codePointAt(e);if(i>=xs&&i<=Fs)return e}return-1}(t=t.slice(e,e+19));if(-1!==i){let e=t.indexOf("m",i);return-1===e&&(e=t.length),t.slice(0,e+1)}}function ks(t){let e=[];for(const i of t)i.code===ds.reset.open?e=[]:Es.has(i.code)?e=e.filter((t=>t.endCode!==i.code)):(e=e.filter((t=>t.endCode!==i.endCode)),e.push(i));return e}function As(t,e,i){const r=function(t,e=Number.POSITIVE_INFINITY){const i=[];let r=0,n=0;for(;r<t.length;){const s=t.codePointAt(r);if(ws.has(s)){const e=Cs(t,r);if(e){i.push({type:"ansi",code:e,endCode:Ss(e)}),r+=e.length;continue}}const o=vs(s),a=String.fromCodePoint(s);if(i.push({type:"character",value:a,isFullWidth:o}),r+=a.length,n+=o?2:a.length,n>=e)break}return i}(t,i);let n=[],s=0,o="",a=!1;for(const t of r){if(void 0!==i&&s>=i)break;"ansi"===t.type?(n.push(t),a&&(o+=t.code)):(!a&&s>=e&&(a=!0,n=ks(n),o=n.map((({code:t})=>t)).join("")),a&&(o+=t.value),s+=t.isFullWidth?2:t.value.length)}return o+=ks(n).map((({endCode:t})=>t)).reverse().join(""),o}const Ts=t=>{const{columns:e}=t;return e||80};function Os(t,{showCursor:e=!1}={}){let i=0,r=Ts(t),n="";const s=(...s)=>{e||is.hide();let o=s.join(" ")+"\n";o=((t,e)=>{const i=t.rows??24,r=e.split("\n"),n=r.length-i;return n<=0?e:As(e,ns(r.slice(0,n).join("\n")).length+1)})(t,o);const a=Ts(t);var l,c;o===n&&r===a||(n=o,r=a,l=a,c={trim:!1,hard:!0,wordWrap:!1},o=String(o).normalize().replaceAll("\r\n","\n").split("\n").map((t=>ys(t,l,c))).join("\n"),t.write(_n.eraseLines(i)+o),i=o.split("\n").length)};return s.clear=()=>{t.write(_n.eraseLines(i)),n="",r=Ts(t),i=0},s.done=()=>{n="",r=Ts(t),i=0,e||is.show()},s}const js=Os(b.stdout);function Bs(t,e,i,r){i.assert.notStrictEqual(t,e,r)}function Ps(t,e){e.assert.strictEqual(typeof t,"string")}function Rs(t){return Object.keys(t)}function Ls(t){return!!t&&!!t.then&&"function"==typeof t.then}function Ms(t){const e=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),i=/\.*[\][<>]/g,r=e.shift();if(!r)throw new Error(`No command found in: ${t}`);const n={cmd:r.replace(i,""),demanded:[],optional:[]};return e.forEach(((t,r)=>{let s=!1;t=t.replace(/\s/g,""),/\.+[\]>]/.test(t)&&r===e.length-1&&(s=!0),/^\[/.test(t)?n.optional.push({cmd:t.replace(i,"").split("|"),variadic:s}):n.demanded.push({cmd:t.replace(i,"").split("|"),variadic:s})})),n}Os(b.stderr);const zs=["first","second","third","fourth","fifth","sixth"];function $s(t,e,i){try{let r=0;const[n,s,o]="object"==typeof t?[{demanded:[],optional:[]},t,e]:[Ms(`cmd ${t}`),e,i],a=[].slice.call(s);for(;a.length&&void 0===a[a.length-1];)a.pop();const l=o||a.length;if(l<n.demanded.length)throw new Pr(`Not enough arguments provided. Expected ${n.demanded.length} but received ${a.length}.`);const c=n.demanded.length+n.optional.length;if(l>c)throw new Pr(`Too many arguments provided. Expected max ${c} but received ${l}.`);n.demanded.forEach((t=>{const e=Is(a.shift());0===t.cmd.filter((t=>t===e||"*"===t)).length&&Ws(e,t.cmd,r),r+=1})),n.optional.forEach((t=>{if(0===a.length)return;const e=Is(a.shift());0===t.cmd.filter((t=>t===e||"*"===t)).length&&Ws(e,t.cmd,r),r+=1}))}catch(t){console.warn(t.stack)}}function Is(t){return Array.isArray(t)?"array":null===t?"null":typeof t}function Ws(t,e,i){throw new Pr(`Invalid ${zs[i]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}class Ns{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,e,i=!0,r=!1){if($s("<array|function> [boolean] [boolean] [boolean]",[t,e,i],arguments.length),Array.isArray(t)){for(let r=0;r<t.length;r++){if("function"!=typeof t[r])throw Error("middleware must be a function");const n=t[r];n.applyBeforeValidation=e,n.global=i}Array.prototype.push.apply(this.globalMiddleware,t)}else if("function"==typeof t){const n=t;n.applyBeforeValidation=e,n.global=i,n.mutates=r,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,e){const i=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter((t=>{const r=[...i[e]||[],e];return!t.option||!r.includes(t.option)})),t.option=e,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){const t=this.frozens.pop();void 0!==t&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter((t=>t.global))}}function qs(t,e,i,r){return i.reduce(((t,i)=>{if(i.applyBeforeValidation!==r)return t;if(i.mutates){if(i.applied)return t;i.applied=!0}if(Ls(t))return t.then((t=>Promise.all([t,i(t,e)]))).then((([t,e])=>Object.assign(t,e)));{const r=i(t,e);return Ls(r)?r.then((e=>Object.assign(t,e))):Object.assign(t,r)}}),t)}function Us(t,e,i=(t=>{throw t})){try{const i="function"==typeof t?t():t;return Ls(i)?i.then((t=>e(t))):e(i)}catch(t){return i(t)}}const Hs=/(^\*)|(^\$0)/;class Gs{constructor(t,e,i,r){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=r,this.usage=t,this.globalMiddleware=i,this.validation=e}addDirectory(t,e,i,r){"boolean"!=typeof(r=r||{}).recurse&&(r.recurse=!1),Array.isArray(r.extensions)||(r.extensions=["js"]);const n="function"==typeof r.visit?r.visit:t=>t;r.visit=(t,e,i)=>{const r=n(t,e,i);if(r){if(this.requireCache.has(e))return r;this.requireCache.add(e),this.addHandler(r)}return r},this.shim.requireDirectory({require:e,filename:i},t,r)}addHandler(t,e,i,r,n,s){let o=[];const a=function(t){return t?t.map((t=>(t.applyBeforeValidation=!1,t))):[]}(n);if(r=r||(()=>{}),Array.isArray(t))if(function(t){return t.every((t=>"string"==typeof t))}(t))[t,...o]=t;else for(const e of t)this.addHandler(e);else{if(function(t){return"object"==typeof t&&!Array.isArray(t)}(t)){let e=Array.isArray(t.command)||"string"==typeof t.command?t.command:this.moduleName(t);return t.aliases&&(e=[].concat(e).concat(t.aliases)),void this.addHandler(e,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated)}if(Vs(i))return void this.addHandler([t].concat(o),e,i.builder,i.handler,i.middlewares,i.deprecated)}if("string"==typeof t){const n=Ms(t);o=o.map((t=>Ms(t).cmd));let l=!1;const c=[n.cmd].concat(o).filter((t=>!Hs.test(t)||(l=!0,!1)));0===c.length&&l&&c.push("$0"),l&&(n.cmd=c[0],o=c.slice(1),t=t.replace(Hs,n.cmd)),o.forEach((t=>{this.aliasMap[t]=n.cmd})),!1!==e&&this.usage.command(t,e,l,o,s),this.handlers[n.cmd]={original:t,description:e,handler:r,builder:i||{},middlewares:a,deprecated:s,demanded:n.demanded,optional:n.optional},l&&(this.defaultCommand=this.handlers[n.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,e,i,r,n,s){const o=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,a=e.getInternalMethods().getContext(),l=a.commands.slice(),c=!t;t&&(a.commands.push(t),a.fullCommands.push(o.original));const u=this.applyBuilderUpdateUsageAndParse(c,o,e,i.aliases,l,r,n,s);return Ls(u)?u.then((t=>this.applyMiddlewareAndGetResult(c,o,t.innerArgv,a,n,t.aliases,e))):this.applyMiddlewareAndGetResult(c,o,u.innerArgv,a,n,u.aliases,e)}applyBuilderUpdateUsageAndParse(t,e,i,r,n,s,o,a){const l=e.builder;let c=i;if(Ys(l)){i.getInternalMethods().getUsageInstance().freeze();const u=l(i.getInternalMethods().reset(r),a);if(Ls(u))return u.then((r=>{var a;return c=(a=r)&&"function"==typeof a.getInternalMethods?r:i,this.parseAndUpdateUsage(t,e,c,n,s,o)}))}else(function(t){return"object"==typeof t})(l)&&(i.getInternalMethods().getUsageInstance().freeze(),c=i.getInternalMethods().reset(r),Object.keys(e.builder).forEach((t=>{c.option(t,l[t])})));return this.parseAndUpdateUsage(t,e,c,n,s,o)}parseAndUpdateUsage(t,e,i,r,n,s){t&&i.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(i)&&i.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(r,e),e.description);const o=i.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,n,s);return Ls(o)?o.then((t=>({aliases:i.parsed.aliases,innerArgv:t}))):{aliases:i.parsed.aliases,innerArgv:o}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&0===t.getInternalMethods().getUsageInstance().getUsage().length}usageFromParentCommandsCommandHandler(t,e){const i=Hs.test(e.original)?e.original.replace(Hs,"").trim():e.original,r=t.filter((t=>!Hs.test(t)));return r.push(i),`$0 ${r.join(" ")}`}handleValidationAndGetResult(t,e,i,r,n,s,o,a){if(!s.getInternalMethods().getHasOutput()){const e=s.getInternalMethods().runValidation(n,a,s.parsed.error,t);i=Us(i,(t=>(e(t),t)))}if(e.handler&&!s.getInternalMethods().getHasOutput()){s.getInternalMethods().setHasOutput();const r=!!s.getOptions().configuration["populate--"];s.getInternalMethods().postProcess(i,r,!1,!1),i=Us(i=qs(i,s,o,!1),(t=>{const i=e.handler(t);return Ls(i)?i.then((()=>t)):t})),t||s.getInternalMethods().getUsageInstance().cacheHelpMessage(),Ls(i)&&!s.getInternalMethods().hasParseCallback()&&i.catch((t=>{try{s.getInternalMethods().getUsageInstance().fail(null,t)}catch(t){}}))}return t||(r.commands.pop(),r.fullCommands.pop()),i}applyMiddlewareAndGetResult(t,e,i,r,n,s,o){let a={};if(n)return i;o.getInternalMethods().getHasOutput()||(a=this.populatePositionals(e,i,r,o));const l=this.globalMiddleware.getMiddleware().slice(0).concat(e.middlewares),c=qs(i,o,l,!0);return Ls(c)?c.then((i=>this.handleValidationAndGetResult(t,e,i,r,s,o,l,a))):this.handleValidationAndGetResult(t,e,c,r,s,o,l,a)}populatePositionals(t,e,i,r){e._=e._.slice(i.commands.length);const n=t.demanded.slice(0),s=t.optional.slice(0),o={};for(this.validation.positionalCount(n.length,e._.length);n.length;){const t=n.shift();this.populatePositional(t,e,o)}for(;s.length;){const t=s.shift();this.populatePositional(t,e,o)}return e._=i.commands.concat(e._.map((t=>""+t))),this.postProcessPositionals(e,o,this.cmdToParseOptions(t.original),r),o}populatePositional(t,e,i){const r=t.cmd[0];t.variadic?i[r]=e._.splice(0).map(String):e._.length&&(i[r]=[String(e._.shift())])}cmdToParseOptions(t){const e={array:[],default:{},alias:{},demand:{}},i=Ms(t);return i.demanded.forEach((t=>{const[i,...r]=t.cmd;t.variadic&&(e.array.push(i),e.default[i]=[]),e.alias[i]=r,e.demand[i]=!0})),i.optional.forEach((t=>{const[i,...r]=t.cmd;t.variadic&&(e.array.push(i),e.default[i]=[]),e.alias[i]=r})),e}postProcessPositionals(t,e,i,r){const n=Object.assign({},r.getOptions());n.default=Object.assign(i.default,n.default);for(const t of Object.keys(i.alias))n.alias[t]=(n.alias[t]||[]).concat(i.alias[t]);n.array=n.array.concat(i.array),n.config={};const s=[];if(Object.keys(e).forEach((t=>{e[t].map((e=>{n.configuration["unknown-options-as-args"]&&(n.key[t]=!0),s.push(`--${t}`),s.push(e)}))})),!s.length)return;const o=Object.assign({},n.configuration,{"populate--":!1}),a=this.shim.Parser.detailed(s,Object.assign({},n,{configuration:o}));if(a.error)r.getInternalMethods().getUsageInstance().fail(a.error.message,a.error);else{const i=Object.keys(e);Object.keys(e).forEach((t=>{i.push(...a.aliases[t])})),Object.keys(a.argv).forEach((n=>{i.includes(n)&&(e[n]||(e[n]=a.argv[n]),!this.isInConfigs(r,n)&&!this.isDefaulted(r,n)&&Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(a.argv,n)&&(Array.isArray(t[n])||Array.isArray(a.argv[n]))?t[n]=[].concat(t[n],a.argv[n]):t[n]=a.argv[n])}))}}isDefaulted(t,e){const{default:i}=t.getOptions();return Object.prototype.hasOwnProperty.call(i,e)||Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(e))}isInConfigs(t,e){const{configObjects:i}=t.getOptions();return i.some((t=>Object.prototype.hasOwnProperty.call(t,e)))||i.some((t=>Object.prototype.hasOwnProperty.call(t,this.shim.Parser.camelCase(e))))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){const e=Hs.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(e,this.defaultCommand.description)}const e=this.defaultCommand.builder;if(Ys(e))return e(t,!0);Vs(e)||Object.keys(e).forEach((i=>{t.option(i,e[i])}))}moduleName(t){const e=function(t){if("undefined"==typeof require)return null;for(let e,i=0,r=Object.keys(require.cache);i<r.length;i++)if(e=require.cache[r[i]],e.exports===t)return e;return null}(t);if(!e)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(e.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:e,desc:i}){for(const r of[t,e,i]){if("string"==typeof r||!1===r)return r;Bs(r,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){const t=this.frozens.pop();Bs(t,void 0,this.shim),({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t)}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}}function Vs(t){return"object"==typeof t&&!!t.builder&&"function"==typeof t.handler}function Ys(t){return"function"==typeof t}function Ks(t={},e=(()=>!0)){const i={};return Rs(t).forEach((r=>{e(r,t[r])&&(i[r]=t[r])})),i}function Qs(t){"undefined"!=typeof process&&[process.stdout,process.stderr].forEach((e=>{const i=e;i._handle&&i.isTTY&&"function"==typeof i._handle.setBlocking&&i._handle.setBlocking(t)}))}function Js(t){return"boolean"==typeof t}function Zs(t,e){const i=e.y18n.__,r={},n=[];r.failFn=function(t){n.push(t)};let s=null,o=null,a=!0;r.showHelpOnFail=function(e=!0,i){const[n,l]="string"==typeof e?[!0,e]:[e,i];return t.getInternalMethods().isGlobalContext()&&(o=l),s=l,a=n,r};let l=!1;r.fail=function(e,i){const c=t.getInternalMethods().getLoggerInstance();if(!n.length){if(t.getExitProcess()&&Qs(!0),!l){l=!0,a&&(t.showHelp("error"),c.error()),(e||i)&&c.error(e||i);const r=s||o;r&&((e||i)&&c.error(""),c.error(r))}if(i=i||new Pr(e),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,i);throw i}for(let t=n.length-1;t>=0;--t){const s=n[t];if(Js(s)){if(i)throw i;if(e)throw Error(e)}else s(e,i,r)}};let c=[],u=!1;r.usage=(t,e)=>null===t?(u=!0,c=[],r):(u=!1,c.push([t,e||""]),r),r.getUsage=()=>c,r.getUsageDisabled=()=>u,r.getPositionalGroupName=()=>i("Positionals:");let h=[];r.example=(t,e)=>{h.push([t,e||""])};let p=[];r.command=function(t,e,i,r,n=!1){i&&(p=p.map((t=>(t[2]=!1,t)))),p.push([t,e||"",i,r,n])},r.getCommands=()=>p;let d={};r.describe=function(t,e){Array.isArray(t)?t.forEach((t=>{r.describe(t,e)})):"object"==typeof t?Object.keys(t).forEach((e=>{r.describe(e,t[e])})):d[t]=e},r.getDescriptions=()=>d;let f=[];r.epilog=t=>{f.push(t)};let m,g=!1;r.wrap=t=>{g=!0,m=t},r.getWrap=()=>e.getEnv("YARGS_DISABLE_WRAP")?null:(g||(m=function(){const t=80;return e.process.stdColumns?Math.min(t,e.process.stdColumns):t}(),g=!0),m);const D="__yargsString__:";function b(t,i,r){let n=0;return Array.isArray(t)||(t=Object.values(t).map((t=>[t]))),t.forEach((t=>{n=Math.max(e.stringWidth(r?`${r} ${eo(t[0])}`:eo(t[0]))+to(t[0]),n)})),i&&(n=Math.min(n,parseInt((.5*i).toString(),10))),n}let y;function v(e){return t.getOptions().hiddenOptions.indexOf(e)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}function w(t,e){let r=`[${i("default:")} `;if(void 0===t&&!e)return null;if(e)r+=e;else switch(typeof t){case"string":r+=`"${t}"`;break;case"object":r+=JSON.stringify(t);break;default:r+=t}return`${r}]`}r.deferY18nLookup=t=>D+t,r.help=function(){if(y)return y;!function(){const e=t.getDemandedOptions(),i=t.getOptions();(Object.keys(i.alias)||[]).forEach((n=>{i.alias[n].forEach((s=>{d[s]&&r.describe(n,d[s]),s in e&&t.demandOption(n,e[s]),i.boolean.includes(s)&&t.boolean(n),i.count.includes(s)&&t.count(n),i.string.includes(s)&&t.string(n),i.normalize.includes(s)&&t.normalize(n),i.array.includes(s)&&t.array(n),i.number.includes(s)&&t.number(n)}))}))}();const n=t.customScriptName?t.$0:e.path.basename(t.$0),s=t.getDemandedOptions(),o=t.getDemandedCommands(),a=t.getDeprecatedOptions(),l=t.getGroups(),m=t.getOptions();let g=[];g=g.concat(Object.keys(d)),g=g.concat(Object.keys(s)),g=g.concat(Object.keys(o)),g=g.concat(Object.keys(m.default)),g=g.filter(v),g=Object.keys(g.reduce(((t,e)=>("_"!==e&&(t[e]=!0),t)),{}));const x=r.getWrap(),F=e.cliui({width:x,wrap:!!x});if(!u)if(c.length)c.forEach((t=>{F.div({text:`${t[0].replace(/\$0/g,n)}`}),t[1]&&F.div({text:`${t[1]}`,padding:[1,0,0,0]})})),F.div();else if(p.length){let t=null;t=o._?`${n} <${i("command")}>\n`:`${n} [${i("command")}]\n`,F.div(`${t}`)}if(p.length>1||1===p.length&&!p[0][2]){F.div(i("Commands:"));const e=t.getInternalMethods().getContext(),r=e.commands.length?`${e.commands.join(" ")} `:"";!0===t.getInternalMethods().getParserConfiguration()["sort-commands"]&&(p=p.sort(((t,e)=>t[0].localeCompare(e[0]))));const s=n?`${n} `:"";p.forEach((t=>{const e=`${s}${r}${t[0].replace(/^\$0 ?/,"")}`;F.span({text:e,padding:[0,2,0,2],width:b(p,x,`${n}${r}`)+4},{text:t[1]});const o=[];t[2]&&o.push(`[${i("default")}]`),t[3]&&t[3].length&&o.push(`[${i("aliases:")} ${t[3].join(", ")}]`),t[4]&&("string"==typeof t[4]?o.push(`[${i("deprecated: %s",t[4])}]`):o.push(`[${i("deprecated")}]`)),o.length?F.div({text:o.join(" "),padding:[0,0,0,2],align:"right"}):F.div()})),F.div()}const E=(Object.keys(m.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);g=g.filter((e=>!t.parsed.newAliases[e]&&E.every((t=>-1===(m.alias[t]||[]).indexOf(e)))));const _=i("Options:");l[_]||(l[_]=[]),function(t,e,i,r){let n=[],s=null;Object.keys(i).forEach((t=>{n=n.concat(i[t])})),t.forEach((t=>{s=[t].concat(e[t]),s.some((t=>-1!==n.indexOf(t)))||i[r].push(t)}))}(g,m.alias,l,_);const S=t=>/^--/.test(eo(t)),C=Object.keys(l).filter((t=>l[t].length>0)).map((t=>{const e=l[t].filter(v).map((t=>{if(E.includes(t))return t;for(let e,i=0;void 0!==(e=E[i]);i++)if((m.alias[e]||[]).includes(t))return e;return t}));return{groupName:t,normalizedKeys:e}})).filter((({normalizedKeys:t})=>t.length>0)).map((({groupName:t,normalizedKeys:e})=>{const i=e.reduce(((e,i)=>(e[i]=[i].concat(m.alias[i]||[]).map((e=>t===r.getPositionalGroupName()?e:(/^[0-9]$/.test(e)?m.boolean.includes(i)?"-":"--":e.length>1?"--":"-")+e)).sort(((t,e)=>S(t)===S(e)?0:S(t)?1:-1)).join(", "),e)),{});return{groupName:t,normalizedKeys:e,switches:i}}));if(C.filter((({groupName:t})=>t!==r.getPositionalGroupName())).some((({normalizedKeys:t,switches:e})=>!t.every((t=>S(e[t])))))&&C.filter((({groupName:t})=>t!==r.getPositionalGroupName())).forEach((({normalizedKeys:t,switches:e})=>{t.forEach((t=>{var i,r;S(e[t])&&(e[t]=(i=e[t],r=4,Xs(i)?{text:i.text,indentation:i.indentation+r}:{text:i,indentation:r}))}))})),C.forEach((({groupName:e,normalizedKeys:n,switches:o})=>{F.div(e),n.forEach((e=>{const n=o[e];let l=d[e]||"",c=null;l.includes(D)&&(l=i(l.substring(16))),m.boolean.includes(e)&&(c=`[${i("boolean")}]`),m.count.includes(e)&&(c=`[${i("count")}]`),m.string.includes(e)&&(c=`[${i("string")}]`),m.normalize.includes(e)&&(c=`[${i("string")}]`),m.array.includes(e)&&(c=`[${i("array")}]`),m.number.includes(e)&&(c=`[${i("number")}]`);const u=[e in a?(h=a[e],"string"==typeof h?`[${i("deprecated: %s",h)}]`:`[${i("deprecated")}]`):null,c,e in s?`[${i("required")}]`:null,m.choices&&m.choices[e]?`[${i("choices:")} ${r.stringifiedValues(m.choices[e])}]`:null,w(m.default[e],m.defaultDescription[e])].filter(Boolean).join(" ");var h;F.span({text:eo(n),padding:[0,2,0,2+to(n)],width:b(o,x)+4},l);const p=!0===t.getInternalMethods().getUsageConfiguration()["hide-types"];u&&!p?F.div({text:u,padding:[0,0,0,2],align:"right"}):F.div()})),F.div()})),h.length&&(F.div(i("Examples:")),h.forEach((t=>{t[0]=t[0].replace(/\$0/g,n)})),h.forEach((t=>{""===t[1]?F.div({text:t[0],padding:[0,2,0,2]}):F.div({text:t[0],padding:[0,2,0,2],width:b(h,x)+4},{text:t[1]})})),F.div()),f.length>0){const t=f.map((t=>t.replace(/\$0/g,n))).join("\n");F.div(`${t}\n`)}return F.toString().replace(/\s*$/,"")},r.cacheHelpMessage=function(){y=this.help()},r.clearCachedHelpMessage=function(){y=void 0},r.hasCachedHelpMessage=function(){return!!y},r.showHelp=e=>{const i=t.getInternalMethods().getLoggerInstance();e||(e="error");("function"==typeof e?e:i[e])(r.help())},r.functionDescription=t=>["(",t.name?e.Parser.decamelize(t.name,"-"):i("generated-value"),")"].join(""),r.stringifiedValues=function(t,e){let i="";const r=e||", ",n=[].concat(t);return t&&n.length?(n.forEach((t=>{i.length&&(i+=r),i+=JSON.stringify(t)})),i):i};let x=null;r.version=t=>{x=t},r.showVersion=e=>{const i=t.getInternalMethods().getLoggerInstance();e||(e="error");("function"==typeof e?e:i[e])(x)},r.reset=function(t){return s=null,l=!1,c=[],u=!1,f=[],h=[],p=[],d=Ks(d,(e=>!t[e])),r};const F=[];return r.freeze=function(){F.push({failMessage:s,failureOutput:l,usages:c,usageDisabled:u,epilogs:f,examples:h,commands:p,descriptions:d})},r.unfreeze=function(t=!1){const e=F.pop();e&&(t?(d={...e.descriptions,...d},p=[...e.commands,...p],c=[...e.usages,...c],h=[...e.examples,...h],f=[...e.epilogs,...f]):({failMessage:s,failureOutput:l,usages:c,usageDisabled:u,epilogs:f,examples:h,commands:p,descriptions:d}=e))},r}function Xs(t){return"object"==typeof t}function to(t){return Xs(t)?t.indentation:0}function eo(t){return Xs(t)?t.text:t}class io{constructor(t,e,i,r){var n,s,o;this.yargs=t,this.usage=e,this.command=i,this.shim=r,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=null!==(o=(null===(n=this.shim.getEnv("SHELL"))||void 0===n?void 0:n.includes("zsh"))||(null===(s=this.shim.getEnv("ZSH_NAME"))||void 0===s?void 0:s.includes("zsh")))&&void 0!==o&&o}defaultCompletion(t,e,i,r){const n=this.command.getCommandHandlers();for(let e=0,i=t.length;e<i;++e)if(n[t[e]]&&n[t[e]].builder){const i=n[t[e]].builder;if(Ys(i)){this.indexAfterLastReset=e+1;const t=this.yargs.getInternalMethods().reset();return i(t,!0),t.argv}}const s=[];this.commandCompletions(s,t,i),this.optionCompletions(s,t,e,i),this.choicesFromOptionsCompletions(s,t,e,i),this.choicesFromPositionalsCompletions(s,t,e,i),r(null,s)}commandCompletions(t,e,i){const r=this.yargs.getInternalMethods().getContext().commands;i.match(/^-/)||r[r.length-1]===i||this.previousArgHasChoices(e)||this.usage.getCommands().forEach((i=>{const r=Ms(i[0]).cmd;if(-1===e.indexOf(r))if(this.zshShell){const e=i[1]||"";t.push(r.replace(/:/g,"\\:")+":"+e)}else t.push(r)}))}optionCompletions(t,e,i,r){if((r.match(/^-/)||""===r&&0===t.length)&&!this.previousArgHasChoices(e)){const i=this.yargs.getOptions(),n=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(i.key).forEach((s=>{const o=!!i.configuration["boolean-negation"]&&i.boolean.includes(s);n.includes(s)||i.hiddenOptions.includes(s)||this.argsContainKey(e,s,o)||this.completeOptionKey(s,t,r,o&&!!i.default[s])}))}}choicesFromOptionsCompletions(t,e,i,r){if(this.previousArgHasChoices(e)){const i=this.getPreviousArgChoices(e);i&&i.length>0&&t.push(...i.map((t=>t.replace(/:/g,"\\:"))))}}choicesFromPositionalsCompletions(t,e,i,r){if(""===r&&t.length>0&&this.previousArgHasChoices(e))return;const n=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],s=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),o=n[i._.length-s-1];if(!o)return;const a=this.yargs.getOptions().choices[o]||[];for(const e of a)e.startsWith(r)&&t.push(e.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let e=t[t.length-1],i="";if(!e.startsWith("-")&&t.length>1&&(i=e,e=t[t.length-2]),!e.startsWith("-"))return;const r=e.replace(/^-+/,""),n=this.yargs.getOptions(),s=[r,...this.yargs.getAliases()[r]||[]];let o;for(const t of s)if(Object.prototype.hasOwnProperty.call(n.key,t)&&Array.isArray(n.choices[t])){o=n.choices[t];break}return o?o.filter((t=>!i||t.startsWith(i))):void 0}previousArgHasChoices(t){const e=this.getPreviousArgChoices(t);return void 0!==e&&e.length>0}argsContainKey(t,e,i){const r=e=>-1!==t.indexOf((/^[^0-9]$/.test(e)?"-":"--")+e);if(r(e))return!0;if(i&&r(`no-${e}`))return!0;if(this.aliases)for(const t of this.aliases[e])if(r(t))return!0;return!1}completeOptionKey(t,e,i,r){var n,s,o,a;let l=t;if(this.zshShell){const e=this.usage.getDescriptions(),i=null===(s=null===(n=null==this?void 0:this.aliases)||void 0===n?void 0:n[t])||void 0===s?void 0:s.find((t=>{const i=e[t];return"string"==typeof i&&i.length>0})),r=i?e[i]:void 0,c=null!==(a=null!==(o=e[t])&&void 0!==o?o:r)&&void 0!==a?a:"";l=`${t.replace(/:/g,"\\:")}:${c.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}const c=!(t=>/^--/.test(t))(i)&&(t=>/^[^0-9]$/.test(t))(t)?"-":"--";e.push(c+l),r&&e.push(c+"no-"+l)}customCompletion(t,e,i,r){if(Bs(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){const t=this.customCompletionFunction(i,e);return Ls(t)?t.then((t=>{this.shim.process.nextTick((()=>{r(null,t)}))})).catch((t=>{this.shim.process.nextTick((()=>{r(t,void 0)}))})):r(null,t)}return function(t){return t.length>3}(this.customCompletionFunction)?this.customCompletionFunction(i,e,((n=r)=>this.defaultCompletion(t,e,i,n)),(t=>{r(null,t)})):this.customCompletionFunction(i,e,(t=>{r(null,t)}))}getCompletion(t,e){const i=t.length?t[t.length-1]:"",r=this.yargs.parse(t,!0),n=this.customCompletionFunction?r=>this.customCompletion(t,r,i,e):r=>this.defaultCompletion(t,r,i,e);return Ls(r)?r.then(n):n(r)}generateCompletionScript(t,e){let i=this.zshShell?'#compdef {{app_name}}\n###-begin-{{app_name}}-completions-###\n#\n# yargs command completion script\n#\n# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc\n#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.\n#\n_{{app_name}}_yargs_completions()\n{\n  local reply\n  local si=$IFS\n  IFS=$\'\n\' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "${words[@]}"))\n  IFS=$si\n  _describe \'values\' reply\n}\ncompdef _{{app_name}}_yargs_completions {{app_name}}\n###-end-{{app_name}}-completions-###\n':'###-begin-{{app_name}}-completions-###\n#\n# yargs command completion script\n#\n# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc\n#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.\n#\n_{{app_name}}_yargs_completions()\n{\n    local cur_word args type_list\n\n    cur_word="${COMP_WORDS[COMP_CWORD]}"\n    args=("${COMP_WORDS[@]}")\n\n    # ask yargs to generate completions.\n    type_list=$({{app_path}} --get-yargs-completions "${args[@]}")\n\n    COMPREPLY=( $(compgen -W "${type_list}" -- ${cur_word}) )\n\n    # if no match was found, fall back to filename completion\n    if [ ${#COMPREPLY[@]} -eq 0 ]; then\n      COMPREPLY=()\n    fi\n\n    return 0\n}\ncomplete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}\n###-end-{{app_name}}-completions-###\n';const r=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),i=i.replace(/{{app_name}}/g,r),i=i.replace(/{{completion_command}}/g,e),i.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}}function ro(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const i=[];let r,n;for(r=0;r<=e.length;r++)i[r]=[r];for(n=0;n<=t.length;n++)i[0][n]=n;for(r=1;r<=e.length;r++)for(n=1;n<=t.length;n++)e.charAt(r-1)===t.charAt(n-1)?i[r][n]=i[r-1][n-1]:r>1&&n>1&&e.charAt(r-2)===t.charAt(n-1)&&e.charAt(r-1)===t.charAt(n-2)?i[r][n]=i[r-2][n-2]+1:i[r][n]=Math.min(i[r-1][n-1]+1,Math.min(i[r][n-1]+1,i[r-1][n]+1));return i[e.length][t.length]}const no=["$0","--","_"];var so,oo,ao,lo,co,uo,ho,po,fo,mo,go,Do,bo,yo,vo,wo,xo,Fo,Eo,_o,So,Co,ko,Ao,To,Oo,jo,Bo,Po,Ro,Lo,Mo,zo,$o,Io,Wo=function(t,e,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(t,i):n?n.value=i:e.set(t,i),i},No=function(t,e,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:e.get(t)};const qo=Symbol("copyDoubleDash"),Uo=Symbol("copyDoubleDash"),Ho=Symbol("deleteFromParserHintObject"),Go=Symbol("emitWarning"),Vo=Symbol("freeze"),Yo=Symbol("getDollarZero"),Ko=Symbol("getParserConfiguration"),Qo=Symbol("getUsageConfiguration"),Jo=Symbol("guessLocale"),Zo=Symbol("guessVersion"),Xo=Symbol("parsePositionalNumbers"),ta=Symbol("pkgUp"),ea=Symbol("populateParserHintArray"),ia=Symbol("populateParserHintSingleValueDictionary"),ra=Symbol("populateParserHintArrayDictionary"),na=Symbol("populateParserHintDictionary"),sa=Symbol("sanitizeKey"),oa=Symbol("setKey"),aa=Symbol("unfreeze"),la=Symbol("validateAsync"),ca=Symbol("getCommandInstance"),ua=Symbol("getContext"),ha=Symbol("getHasOutput"),pa=Symbol("getLoggerInstance"),da=Symbol("getParseContext"),fa=Symbol("getUsageInstance"),ma=Symbol("getValidationInstance"),ga=Symbol("hasParseCallback"),Da=Symbol("isGlobalContext"),ba=Symbol("postProcess"),ya=Symbol("rebase"),va=Symbol("reset"),wa=Symbol("runYargsParserAndExecuteCommands"),xa=Symbol("runValidation"),Fa=Symbol("setHasOutput"),Ea=Symbol("kTrackManuallySetKeys");class _a{constructor(t=[],e,i,r){this.customScriptName=!1,this.parsed=!1,so.set(this,void 0),oo.set(this,void 0),ao.set(this,{commands:[],fullCommands:[]}),lo.set(this,null),co.set(this,null),uo.set(this,"show-hidden"),ho.set(this,null),po.set(this,!0),fo.set(this,{}),mo.set(this,!0),go.set(this,[]),Do.set(this,void 0),bo.set(this,{}),yo.set(this,!1),vo.set(this,null),wo.set(this,!0),xo.set(this,void 0),Fo.set(this,""),Eo.set(this,void 0),_o.set(this,void 0),So.set(this,{}),Co.set(this,null),ko.set(this,null),Ao.set(this,{}),To.set(this,{}),Oo.set(this,void 0),jo.set(this,!1),Bo.set(this,void 0),Po.set(this,!1),Ro.set(this,!1),Lo.set(this,!1),Mo.set(this,void 0),zo.set(this,{}),$o.set(this,null),Io.set(this,void 0),Wo(this,Bo,r,"f"),Wo(this,Oo,t,"f"),Wo(this,oo,e,"f"),Wo(this,_o,i,"f"),Wo(this,Do,new Ns(this),"f"),this.$0=this[Yo](),this[va](),Wo(this,so,No(this,so,"f"),"f"),Wo(this,Mo,No(this,Mo,"f"),"f"),Wo(this,Io,No(this,Io,"f"),"f"),Wo(this,Eo,No(this,Eo,"f"),"f"),No(this,Eo,"f").showHiddenOpt=No(this,uo,"f"),Wo(this,xo,this[Uo](),"f")}addHelpOpt(t,e){return $s("[string|boolean] [string]",[t,e],arguments.length),No(this,vo,"f")&&(this[Ho](No(this,vo,"f")),Wo(this,vo,null,"f")),!1===t&&void 0===e||(Wo(this,vo,"string"==typeof t?t:"help","f"),this.boolean(No(this,vo,"f")),this.describe(No(this,vo,"f"),e||No(this,Mo,"f").deferY18nLookup("Show help"))),this}help(t,e){return this.addHelpOpt(t,e)}addShowHiddenOpt(t,e){if($s("[string|boolean] [string]",[t,e],arguments.length),!1===t&&void 0===e)return this;const i="string"==typeof t?t:No(this,uo,"f");return this.boolean(i),this.describe(i,e||No(this,Mo,"f").deferY18nLookup("Show hidden options")),No(this,Eo,"f").showHiddenOpt=i,this}showHidden(t,e){return this.addShowHiddenOpt(t,e)}alias(t,e){return $s("<object|string|array> [string|array]",[t,e],arguments.length),this[ra](this.alias.bind(this),"alias",t,e),this}array(t){return $s("<array|string>",[t],arguments.length),this[ea]("array",t),this[Ea](t),this}boolean(t){return $s("<array|string>",[t],arguments.length),this[ea]("boolean",t),this[Ea](t),this}check(t,e){return $s("<function> [boolean]",[t,e],arguments.length),this.middleware(((e,i)=>Us((()=>t(e,i.getOptions())),(i=>(i?("string"==typeof i||i instanceof Error)&&No(this,Mo,"f").fail(i.toString(),i):No(this,Mo,"f").fail(No(this,Bo,"f").y18n.__("Argument check failed: %s",t.toString())),e)),(t=>(No(this,Mo,"f").fail(t.message?t.message:t.toString(),t),e)))),!1,e),this}choices(t,e){return $s("<object|string|array> [string|array]",[t,e],arguments.length),this[ra](this.choices.bind(this),"choices",t,e),this}coerce(t,e){if($s("<object|string|array> [function]",[t,e],arguments.length),Array.isArray(t)){if(!e)throw new Pr("coerce callback must be provided");for(const i of t)this.coerce(i,e);return this}if("object"==typeof t){for(const e of Object.keys(t))this.coerce(e,t[e]);return this}if(!e)throw new Pr("coerce callback must be provided");return No(this,Eo,"f").key[t]=!0,No(this,Do,"f").addCoerceMiddleware(((i,r)=>{let n;return Object.prototype.hasOwnProperty.call(i,t)?Us((()=>(n=r.getAliases(),e(i[t]))),(e=>{i[t]=e;const s=r.getInternalMethods().getParserConfiguration()["strip-aliased"];if(n[t]&&!0!==s)for(const r of n[t])i[r]=e;return i}),(t=>{throw new Pr(t.message)})):i}),t),this}conflicts(t,e){return $s("<string|object> [string|array]",[t,e],arguments.length),No(this,Io,"f").conflicts(t,e),this}config(t="config",e,i){return $s("[object|string] [string|function] [function]",[t,e,i],arguments.length),"object"!=typeof t||Array.isArray(t)?("function"==typeof e&&(i=e,e=void 0),this.describe(t,e||No(this,Mo,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach((t=>{No(this,Eo,"f").config[t]=i||!0})),this):(t=Mr(t,No(this,oo,"f"),this[Ko]()["deep-merge-config"]||!1,No(this,Bo,"f")),No(this,Eo,"f").configObjects=(No(this,Eo,"f").configObjects||[]).concat(t),this)}completion(t,e,i){return $s("[string] [string|boolean|function] [function]",[t,e,i],arguments.length),"function"==typeof e&&(i=e,e=void 0),Wo(this,co,t||No(this,co,"f")||"completion","f"),e||!1===e||(e="generate completion script"),this.command(No(this,co,"f"),e),i&&No(this,lo,"f").registerFunction(i),this}command(t,e,i,r,n,s){return $s("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,e,i,r,n,s],arguments.length),No(this,so,"f").addHandler(t,e,i,r,n,s),this}commands(t,e,i,r,n,s){return this.command(t,e,i,r,n,s)}commandDir(t,e){$s("<string> [object]",[t,e],arguments.length);const i=No(this,_o,"f")||No(this,Bo,"f").require;return No(this,so,"f").addDirectory(t,i,No(this,Bo,"f").getCallerFile(),e),this}count(t){return $s("<array|string>",[t],arguments.length),this[ea]("count",t),this[Ea](t),this}default(t,e,i){return $s("<object|string|array> [*] [string]",[t,e,i],arguments.length),i&&(Ps(t,No(this,Bo,"f")),No(this,Eo,"f").defaultDescription[t]=i),"function"==typeof e&&(Ps(t,No(this,Bo,"f")),No(this,Eo,"f").defaultDescription[t]||(No(this,Eo,"f").defaultDescription[t]=No(this,Mo,"f").functionDescription(e)),e=e.call()),this[ia](this.default.bind(this),"default",t,e),this}defaults(t,e,i){return this.default(t,e,i)}demandCommand(t=1,e,i,r){return $s("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,e,i,r],arguments.length),"number"!=typeof e&&(i=e,e=1/0),this.global("_",!1),No(this,Eo,"f").demandedCommands._={min:t,max:e,minMsg:i,maxMsg:r},this}demand(t,e,i){return Array.isArray(e)?(e.forEach((t=>{Bs(i,!0,No(this,Bo,"f")),this.demandOption(t,i)})),e=1/0):"number"!=typeof e&&(i=e,e=1/0),"number"==typeof t?(Bs(i,!0,No(this,Bo,"f")),this.demandCommand(t,e,i,i)):Array.isArray(t)?t.forEach((t=>{Bs(i,!0,No(this,Bo,"f")),this.demandOption(t,i)})):"string"==typeof i?this.demandOption(t,i):!0!==i&&void 0!==i||this.demandOption(t),this}demandOption(t,e){return $s("<object|string|array> [string]",[t,e],arguments.length),this[ia](this.demandOption.bind(this),"demandedOptions",t,e),this}deprecateOption(t,e){return $s("<string> [string|boolean]",[t,e],arguments.length),No(this,Eo,"f").deprecatedOptions[t]=e,this}describe(t,e){return $s("<object|string|array> [string]",[t,e],arguments.length),this[oa](t,!0),No(this,Mo,"f").describe(t,e),this}detectLocale(t){return $s("<boolean>",[t],arguments.length),Wo(this,po,t,"f"),this}env(t){return $s("[string|boolean]",[t],arguments.length),!1===t?delete No(this,Eo,"f").envPrefix:No(this,Eo,"f").envPrefix=t||"",this}epilogue(t){return $s("<string>",[t],arguments.length),No(this,Mo,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,e){return $s("<string|array> [string]",[t,e],arguments.length),Array.isArray(t)?t.forEach((t=>this.example(...t))):No(this,Mo,"f").example(t,e),this}exit(t,e){Wo(this,yo,!0,"f"),Wo(this,ho,e,"f"),No(this,mo,"f")&&No(this,Bo,"f").process.exit(t)}exitProcess(t=!0){return $s("[boolean]",[t],arguments.length),Wo(this,mo,t,"f"),this}fail(t){if($s("<function|boolean>",[t],arguments.length),"boolean"==typeof t&&!1!==t)throw new Pr("Invalid first argument. Expected function or boolean 'false'");return No(this,Mo,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,e){return $s("<array> [function]",[t,e],arguments.length),e?No(this,lo,"f").getCompletion(t,e):new Promise(((e,i)=>{No(this,lo,"f").getCompletion(t,((t,r)=>{t?i(t):e(r)}))}))}getDemandedOptions(){return $s([],0),No(this,Eo,"f").demandedOptions}getDemandedCommands(){return $s([],0),No(this,Eo,"f").demandedCommands}getDeprecatedOptions(){return $s([],0),No(this,Eo,"f").deprecatedOptions}getDetectLocale(){return No(this,po,"f")}getExitProcess(){return No(this,mo,"f")}getGroups(){return Object.assign({},No(this,bo,"f"),No(this,To,"f"))}getHelp(){if(Wo(this,yo,!0,"f"),!No(this,Mo,"f").hasCachedHelpMessage()){if(!this.parsed){const t=this[wa](No(this,Oo,"f"),void 0,void 0,0,!0);if(Ls(t))return t.then((()=>No(this,Mo,"f").help()))}const t=No(this,so,"f").runDefaultBuilderOn(this);if(Ls(t))return t.then((()=>No(this,Mo,"f").help()))}return Promise.resolve(No(this,Mo,"f").help())}getOptions(){return No(this,Eo,"f")}getStrict(){return No(this,Po,"f")}getStrictCommands(){return No(this,Ro,"f")}getStrictOptions(){return No(this,Lo,"f")}global(t,e){return $s("<string|array> [boolean]",[t,e],arguments.length),t=[].concat(t),!1!==e?No(this,Eo,"f").local=No(this,Eo,"f").local.filter((e=>-1===t.indexOf(e))):t.forEach((t=>{No(this,Eo,"f").local.includes(t)||No(this,Eo,"f").local.push(t)})),this}group(t,e){$s("<string|array> <string>",[t,e],arguments.length);const i=No(this,To,"f")[e]||No(this,bo,"f")[e];No(this,To,"f")[e]&&delete No(this,To,"f")[e];const r={};return No(this,bo,"f")[e]=(i||[]).concat(t).filter((t=>!r[t]&&(r[t]=!0))),this}hide(t){return $s("<string>",[t],arguments.length),No(this,Eo,"f").hiddenOptions.push(t),this}implies(t,e){return $s("<string|object> [number|string|array]",[t,e],arguments.length),No(this,Io,"f").implies(t,e),this}locale(t){return $s("[string]",[t],arguments.length),void 0===t?(this[Jo](),No(this,Bo,"f").y18n.getLocale()):(Wo(this,po,!1,"f"),No(this,Bo,"f").y18n.setLocale(t),this)}middleware(t,e,i){return No(this,Do,"f").addMiddleware(t,!!e,i)}nargs(t,e){return $s("<string|object|array> [number]",[t,e],arguments.length),this[ia](this.nargs.bind(this),"narg",t,e),this}normalize(t){return $s("<array|string>",[t],arguments.length),this[ea]("normalize",t),this}number(t){return $s("<array|string>",[t],arguments.length),this[ea]("number",t),this[Ea](t),this}option(t,e){if($s("<string|object> [object]",[t,e],arguments.length),"object"==typeof t)Object.keys(t).forEach((e=>{this.options(e,t[e])}));else{"object"!=typeof e&&(e={}),this[Ea](t),!No(this,$o,"f")||"version"!==t&&"version"!==(null==e?void 0:e.alias)||this[Go](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join("\n"),void 0,"versionWarning"),No(this,Eo,"f").key[t]=!0,e.alias&&this.alias(t,e.alias);const i=e.deprecate||e.deprecated;i&&this.deprecateOption(t,i);const r=e.demand||e.required||e.require;r&&this.demand(t,r),e.demandOption&&this.demandOption(t,"string"==typeof e.demandOption?e.demandOption:void 0),e.conflicts&&this.conflicts(t,e.conflicts),"default"in e&&this.default(t,e.default),void 0!==e.implies&&this.implies(t,e.implies),void 0!==e.nargs&&this.nargs(t,e.nargs),e.config&&this.config(t,e.configParser),e.normalize&&this.normalize(t),e.choices&&this.choices(t,e.choices),e.coerce&&this.coerce(t,e.coerce),e.group&&this.group(t,e.group),(e.boolean||"boolean"===e.type)&&(this.boolean(t),e.alias&&this.boolean(e.alias)),(e.array||"array"===e.type)&&(this.array(t),e.alias&&this.array(e.alias)),(e.number||"number"===e.type)&&(this.number(t),e.alias&&this.number(e.alias)),(e.string||"string"===e.type)&&(this.string(t),e.alias&&this.string(e.alias)),(e.count||"count"===e.type)&&this.count(t),"boolean"==typeof e.global&&this.global(t,e.global),e.defaultDescription&&(No(this,Eo,"f").defaultDescription[t]=e.defaultDescription),e.skipValidation&&this.skipValidation(t);const n=e.describe||e.description||e.desc,s=No(this,Mo,"f").getDescriptions();Object.prototype.hasOwnProperty.call(s,t)&&"string"!=typeof n||this.describe(t,n),e.hidden&&this.hide(t),e.requiresArg&&this.requiresArg(t)}return this}options(t,e){return this.option(t,e)}parse(t,e,i){$s("[string|array] [function|boolean|object] [function]",[t,e,i],arguments.length),this[Vo](),void 0===t&&(t=No(this,Oo,"f")),"object"==typeof e&&(Wo(this,ko,e,"f"),e=i),"function"==typeof e&&(Wo(this,Co,e,"f"),e=!1),e||Wo(this,Oo,t,"f"),No(this,Co,"f")&&Wo(this,mo,!1,"f");const r=this[wa](t,!!e),n=this.parsed;return No(this,lo,"f").setParsed(this.parsed),Ls(r)?r.then((t=>(No(this,Co,"f")&&No(this,Co,"f").call(this,No(this,ho,"f"),t,No(this,Fo,"f")),t))).catch((t=>{throw No(this,Co,"f")&&No(this,Co,"f")(t,this.parsed.argv,No(this,Fo,"f")),t})).finally((()=>{this[aa](),this.parsed=n})):(No(this,Co,"f")&&No(this,Co,"f").call(this,No(this,ho,"f"),r,No(this,Fo,"f")),this[aa](),this.parsed=n,r)}parseAsync(t,e,i){const r=this.parse(t,e,i);return Ls(r)?r:Promise.resolve(r)}parseSync(t,e,i){const r=this.parse(t,e,i);if(Ls(r))throw new Pr(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return r}parserConfiguration(t){return $s("<object>",[t],arguments.length),Wo(this,So,t,"f"),this}pkgConf(t,e){$s("<string> [string]",[t,e],arguments.length);let i=null;const r=this[ta](e||No(this,oo,"f"));return r[t]&&"object"==typeof r[t]&&(i=Mr(r[t],e||No(this,oo,"f"),this[Ko]()["deep-merge-config"]||!1,No(this,Bo,"f")),No(this,Eo,"f").configObjects=(No(this,Eo,"f").configObjects||[]).concat(i)),this}positional(t,e){$s("<string> <object>",[t,e],arguments.length);const i=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];e=Ks(e,((t,e)=>!("type"===t&&!["string","number","boolean"].includes(e))&&i.includes(t)));const r=No(this,ao,"f").fullCommands[No(this,ao,"f").fullCommands.length-1],n=r?No(this,so,"f").cmdToParseOptions(r):{array:[],alias:{},default:{},demand:{}};return Rs(n).forEach((i=>{const r=n[i];Array.isArray(r)?-1!==r.indexOf(t)&&(e[i]=!0):r[t]&&!(i in e)&&(e[i]=r[t])})),this.group(t,No(this,Mo,"f").getPositionalGroupName()),this.option(t,e)}recommendCommands(t=!0){return $s("[boolean]",[t],arguments.length),Wo(this,jo,t,"f"),this}required(t,e,i){return this.demand(t,e,i)}require(t,e,i){return this.demand(t,e,i)}requiresArg(t){return $s("<array|string|object> [number]",[t],arguments.length),"string"==typeof t&&No(this,Eo,"f").narg[t]||this[ia](this.requiresArg.bind(this),"narg",t,NaN),this}showCompletionScript(t,e){return $s("[string] [string]",[t,e],arguments.length),t=t||this.$0,No(this,xo,"f").log(No(this,lo,"f").generateCompletionScript(t,e||No(this,co,"f")||"completion")),this}showHelp(t){if($s("[string|function]",[t],arguments.length),Wo(this,yo,!0,"f"),!No(this,Mo,"f").hasCachedHelpMessage()){if(!this.parsed){const e=this[wa](No(this,Oo,"f"),void 0,void 0,0,!0);if(Ls(e))return e.then((()=>{No(this,Mo,"f").showHelp(t)})),this}const e=No(this,so,"f").runDefaultBuilderOn(this);if(Ls(e))return e.then((()=>{No(this,Mo,"f").showHelp(t)})),this}return No(this,Mo,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,e){return $s("[boolean|string] [string]",[t,e],arguments.length),No(this,Mo,"f").showHelpOnFail(t,e),this}showVersion(t){return $s("[string|function]",[t],arguments.length),No(this,Mo,"f").showVersion(t),this}skipValidation(t){return $s("<array|string>",[t],arguments.length),this[ea]("skipValidation",t),this}strict(t){return $s("[boolean]",[t],arguments.length),Wo(this,Po,!1!==t,"f"),this}strictCommands(t){return $s("[boolean]",[t],arguments.length),Wo(this,Ro,!1!==t,"f"),this}strictOptions(t){return $s("[boolean]",[t],arguments.length),Wo(this,Lo,!1!==t,"f"),this}string(t){return $s("<array|string>",[t],arguments.length),this[ea]("string",t),this[Ea](t),this}terminalWidth(){return $s([],0),No(this,Bo,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return $s("<object>",[t],arguments.length),Wo(this,po,!1,"f"),No(this,Bo,"f").y18n.updateLocale(t),this}usage(t,e,i,r){if($s("<string|null|undefined> [string|boolean] [function|object] [function]",[t,e,i,r],arguments.length),void 0!==e){if(Bs(t,null,No(this,Bo,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,e,i,r);throw new Pr(".usage() description must start with $0 if being used as alias for .command()")}return No(this,Mo,"f").usage(t),this}usageConfiguration(t){return $s("<object>",[t],arguments.length),Wo(this,zo,t,"f"),this}version(t,e,i){const r="version";if($s("[boolean|string] [string] [string]",[t,e,i],arguments.length),No(this,$o,"f")&&(this[Ho](No(this,$o,"f")),No(this,Mo,"f").version(void 0),Wo(this,$o,null,"f")),0===arguments.length)i=this[Zo](),t=r;else if(1===arguments.length){if(!1===t)return this;i=t,t=r}else 2===arguments.length&&(i=e,e=void 0);return Wo(this,$o,"string"==typeof t?t:r,"f"),e=e||No(this,Mo,"f").deferY18nLookup("Show version number"),No(this,Mo,"f").version(i||void 0),this.boolean(No(this,$o,"f")),this.describe(No(this,$o,"f"),e),this}wrap(t){return $s("<number|null|undefined>",[t],arguments.length),No(this,Mo,"f").wrap(t),this}[(so=new WeakMap,oo=new WeakMap,ao=new WeakMap,lo=new WeakMap,co=new WeakMap,uo=new WeakMap,ho=new WeakMap,po=new WeakMap,fo=new WeakMap,mo=new WeakMap,go=new WeakMap,Do=new WeakMap,bo=new WeakMap,yo=new WeakMap,vo=new WeakMap,wo=new WeakMap,xo=new WeakMap,Fo=new WeakMap,Eo=new WeakMap,_o=new WeakMap,So=new WeakMap,Co=new WeakMap,ko=new WeakMap,Ao=new WeakMap,To=new WeakMap,Oo=new WeakMap,jo=new WeakMap,Bo=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Lo=new WeakMap,Mo=new WeakMap,zo=new WeakMap,$o=new WeakMap,Io=new WeakMap,qo)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch(t){}return t}[Uo](){return{log:(...t)=>{this[ga]()||console.log(...t),Wo(this,yo,!0,"f"),No(this,Fo,"f").length&&Wo(this,Fo,No(this,Fo,"f")+"\n","f"),Wo(this,Fo,No(this,Fo,"f")+t.join(" "),"f")},error:(...t)=>{this[ga]()||console.error(...t),Wo(this,yo,!0,"f"),No(this,Fo,"f").length&&Wo(this,Fo,No(this,Fo,"f")+"\n","f"),Wo(this,Fo,No(this,Fo,"f")+t.join(" "),"f")}}}[Ho](t){Rs(No(this,Eo,"f")).forEach((e=>{if("configObjects"===e)return;const i=No(this,Eo,"f")[e];Array.isArray(i)?i.includes(t)&&i.splice(i.indexOf(t),1):"object"==typeof i&&delete i[t]})),delete No(this,Mo,"f").getDescriptions()[t]}[Go](t,e,i){No(this,fo,"f")[i]||(No(this,Bo,"f").process.emitWarning(t,e),No(this,fo,"f")[i]=!0)}[Vo](){No(this,go,"f").push({options:No(this,Eo,"f"),configObjects:No(this,Eo,"f").configObjects.slice(0),exitProcess:No(this,mo,"f"),groups:No(this,bo,"f"),strict:No(this,Po,"f"),strictCommands:No(this,Ro,"f"),strictOptions:No(this,Lo,"f"),completionCommand:No(this,co,"f"),output:No(this,Fo,"f"),exitError:No(this,ho,"f"),hasOutput:No(this,yo,"f"),parsed:this.parsed,parseFn:No(this,Co,"f"),parseContext:No(this,ko,"f")}),No(this,Mo,"f").freeze(),No(this,Io,"f").freeze(),No(this,so,"f").freeze(),No(this,Do,"f").freeze()}[Yo](){let t,e="";return t=/\b(node|iojs|electron)(\.exe)?$/.test(No(this,Bo,"f").process.argv()[0])?No(this,Bo,"f").process.argv().slice(1,2):No(this,Bo,"f").process.argv().slice(0,1),e=t.map((t=>{const e=this[ya](No(this,oo,"f"),t);return t.match(/^(\/|([a-zA-Z]:)?\\)/)&&e.length<t.length?e:t})).join(" ").trim(),No(this,Bo,"f").getEnv("_")&&No(this,Bo,"f").getProcessArgvBin()===No(this,Bo,"f").getEnv("_")&&(e=No(this,Bo,"f").getEnv("_").replace(`${No(this,Bo,"f").path.dirname(No(this,Bo,"f").process.execPath())}/`,"")),e}[Ko](){return No(this,So,"f")}[Qo](){return No(this,zo,"f")}[Jo](){if(!No(this,po,"f"))return;const t=No(this,Bo,"f").getEnv("LC_ALL")||No(this,Bo,"f").getEnv("LC_MESSAGES")||No(this,Bo,"f").getEnv("LANG")||No(this,Bo,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Zo](){return this[ta]().version||"unknown"}[Xo](t){const e=t["--"]?t["--"]:t._;for(let t,i=0;void 0!==(t=e[i]);i++)No(this,Bo,"f").Parser.looksLikeNumber(t)&&Number.isSafeInteger(Math.floor(parseFloat(`${t}`)))&&(e[i]=Number(t));return t}[ta](t){const e=t||"*";if(No(this,Ao,"f")[e])return No(this,Ao,"f")[e];let i={};try{let e=t||No(this,Bo,"f").mainFilename;!t&&No(this,Bo,"f").path.extname(e)&&(e=No(this,Bo,"f").path.dirname(e));const r=No(this,Bo,"f").findUp(e,((t,e)=>e.includes("package.json")?"package.json":void 0));Bs(r,void 0,No(this,Bo,"f")),i=JSON.parse(No(this,Bo,"f").readFileSync(r,"utf8"))}catch(t){}return No(this,Ao,"f")[e]=i||{},No(this,Ao,"f")[e]}[ea](t,e){(e=[].concat(e)).forEach((e=>{e=this[sa](e),No(this,Eo,"f")[t].push(e)}))}[ia](t,e,i,r){this[na](t,e,i,r,((t,e,i)=>{No(this,Eo,"f")[t][e]=i}))}[ra](t,e,i,r){this[na](t,e,i,r,((t,e,i)=>{No(this,Eo,"f")[t][e]=(No(this,Eo,"f")[t][e]||[]).concat(i)}))}[na](t,e,i,r,n){if(Array.isArray(i))i.forEach((e=>{t(e,r)}));else if((t=>"object"==typeof t)(i))for(const e of Rs(i))t(e,i[e]);else n(e,this[sa](i),r)}[sa](t){return"__proto__"===t?"___proto___":t}[oa](t,e){return this[ia](this[oa].bind(this),"key",t,e),this}[aa](){var t,e,i,r,n,s,o,a,l,c,u,h;const p=No(this,go,"f").pop();let d;Bs(p,void 0,No(this,Bo,"f")),t=this,e=this,i=this,r=this,n=this,s=this,o=this,a=this,l=this,c=this,u=this,h=this,({options:{set value(e){Wo(t,Eo,e,"f")}}.value,configObjects:d,exitProcess:{set value(t){Wo(e,mo,t,"f")}}.value,groups:{set value(t){Wo(i,bo,t,"f")}}.value,output:{set value(t){Wo(r,Fo,t,"f")}}.value,exitError:{set value(t){Wo(n,ho,t,"f")}}.value,hasOutput:{set value(t){Wo(s,yo,t,"f")}}.value,parsed:this.parsed,strict:{set value(t){Wo(o,Po,t,"f")}}.value,strictCommands:{set value(t){Wo(a,Ro,t,"f")}}.value,strictOptions:{set value(t){Wo(l,Lo,t,"f")}}.value,completionCommand:{set value(t){Wo(c,co,t,"f")}}.value,parseFn:{set value(t){Wo(u,Co,t,"f")}}.value,parseContext:{set value(t){Wo(h,ko,t,"f")}}.value}=p),No(this,Eo,"f").configObjects=d,No(this,Mo,"f").unfreeze(),No(this,Io,"f").unfreeze(),No(this,so,"f").unfreeze(),No(this,Do,"f").unfreeze()}[la](t,e){return Us(e,(e=>(t(e),e)))}getInternalMethods(){return{getCommandInstance:this[ca].bind(this),getContext:this[ua].bind(this),getHasOutput:this[ha].bind(this),getLoggerInstance:this[pa].bind(this),getParseContext:this[da].bind(this),getParserConfiguration:this[Ko].bind(this),getUsageConfiguration:this[Qo].bind(this),getUsageInstance:this[fa].bind(this),getValidationInstance:this[ma].bind(this),hasParseCallback:this[ga].bind(this),isGlobalContext:this[Da].bind(this),postProcess:this[ba].bind(this),reset:this[va].bind(this),runValidation:this[xa].bind(this),runYargsParserAndExecuteCommands:this[wa].bind(this),setHasOutput:this[Fa].bind(this)}}[ca](){return No(this,so,"f")}[ua](){return No(this,ao,"f")}[ha](){return No(this,yo,"f")}[pa](){return No(this,xo,"f")}[da](){return No(this,ko,"f")||{}}[fa](){return No(this,Mo,"f")}[ma](){return No(this,Io,"f")}[ga](){return!!No(this,Co,"f")}[Da](){return No(this,wo,"f")}[ba](t,e,i,r){if(i)return t;if(Ls(t))return t;e||(t=this[qo](t));return(this[Ko]()["parse-positional-numbers"]||void 0===this[Ko]()["parse-positional-numbers"])&&(t=this[Xo](t)),r&&(t=qs(t,this,No(this,Do,"f").getMiddleware(),!1)),t}[va](t={}){Wo(this,Eo,No(this,Eo,"f")||{},"f");const e={};e.local=No(this,Eo,"f").local||[],e.configObjects=No(this,Eo,"f").configObjects||[];const i={};e.local.forEach((e=>{i[e]=!0,(t[e]||[]).forEach((t=>{i[t]=!0}))})),Object.assign(No(this,To,"f"),Object.keys(No(this,bo,"f")).reduce(((t,e)=>{const r=No(this,bo,"f")[e].filter((t=>!(t in i)));return r.length>0&&(t[e]=r),t}),{})),Wo(this,bo,{},"f");return["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach((t=>{e[t]=(No(this,Eo,"f")[t]||[]).filter((t=>!i[t]))})),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach((t=>{e[t]=Ks(No(this,Eo,"f")[t],(t=>!i[t]))})),e.envPrefix=No(this,Eo,"f").envPrefix,Wo(this,Eo,e,"f"),Wo(this,Mo,No(this,Mo,"f")?No(this,Mo,"f").reset(i):Zs(this,No(this,Bo,"f")),"f"),Wo(this,Io,No(this,Io,"f")?No(this,Io,"f").reset(i):function(t,e,i){const r=i.y18n.__,n=i.y18n.__n,s={nonOptionCount:function(i){const r=t.getDemandedCommands(),s=i._.length+(i["--"]?i["--"].length:0)-t.getInternalMethods().getContext().commands.length;r._&&(s<r._.min||s>r._.max)&&(s<r._.min?void 0!==r._.minMsg?e.fail(r._.minMsg?r._.minMsg.replace(/\$0/g,s.toString()).replace(/\$1/,r._.min.toString()):null):e.fail(n("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",s,s.toString(),r._.min.toString())):s>r._.max&&(void 0!==r._.maxMsg?e.fail(r._.maxMsg?r._.maxMsg.replace(/\$0/g,s.toString()).replace(/\$1/,r._.max.toString()):null):e.fail(n("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",s,s.toString(),r._.max.toString()))))},positionalCount:function(t,i){i<t&&e.fail(n("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",i,i+"",t+""))},requiredArguments:function(t,i){let r=null;for(const e of Object.keys(i))Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]||(r=r||{},r[e]=i[e]);if(r){const t=[];for(const e of Object.keys(r)){const i=r[e];i&&t.indexOf(i)<0&&t.push(i)}const i=t.length?`\n${t.join("\n")}`:"";e.fail(n("Missing required argument: %s","Missing required arguments: %s",Object.keys(r).length,Object.keys(r).join(", ")+i))}},unknownArguments:function(i,r,o,a,l=!0){var c;const u=t.getInternalMethods().getCommandInstance().getCommands(),h=[],p=t.getInternalMethods().getContext();if(Object.keys(i).forEach((e=>{no.includes(e)||Object.prototype.hasOwnProperty.call(o,e)||Object.prototype.hasOwnProperty.call(t.getInternalMethods().getParseContext(),e)||s.isValidAndSomeAliasIsNotNew(e,r)||h.push(e)})),l&&(p.commands.length>0||u.length>0||a)&&i._.slice(p.commands.length).forEach((t=>{u.includes(""+t)||h.push(""+t)})),l){const e=(null===(c=t.getDemandedCommands()._)||void 0===c?void 0:c.max)||0,r=p.commands.length+e;r<i._.length&&i._.slice(r).forEach((t=>{t=String(t),p.commands.includes(t)||h.includes(t)||h.push(t)}))}h.length&&e.fail(n("Unknown argument: %s","Unknown arguments: %s",h.length,h.map((t=>t.trim()?t:`"${t}"`)).join(", ")))},unknownCommands:function(i){const r=t.getInternalMethods().getCommandInstance().getCommands(),s=[],o=t.getInternalMethods().getContext();return(o.commands.length>0||r.length>0)&&i._.slice(o.commands.length).forEach((t=>{r.includes(""+t)||s.push(""+t)})),s.length>0&&(e.fail(n("Unknown command: %s","Unknown commands: %s",s.length,s.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(e,i){if(!Object.prototype.hasOwnProperty.call(i,e))return!1;const r=t.parsed.newAliases;return[e,...i[e]].some((t=>!Object.prototype.hasOwnProperty.call(r,t)||!r[e]))},limitedChoices:function(i){const n=t.getOptions(),s={};if(!Object.keys(n.choices).length)return;Object.keys(i).forEach((t=>{-1===no.indexOf(t)&&Object.prototype.hasOwnProperty.call(n.choices,t)&&[].concat(i[t]).forEach((e=>{-1===n.choices[t].indexOf(e)&&void 0!==e&&(s[t]=(s[t]||[]).concat(e))}))}));const o=Object.keys(s);if(!o.length)return;let a=r("Invalid values:");o.forEach((t=>{a+=`\n  ${r("Argument: %s, Given: %s, Choices: %s",t,e.stringifiedValues(s[t]),e.stringifiedValues(n.choices[t]))}`})),e.fail(a)}};let o={};function a(t,e){const i=Number(e);return"number"==typeof(e=isNaN(i)?e:i)?e=t._.length>=e:e.match(/^--no-.+/)?(e=e.match(/^--no-(.+)/)[1],e=!Object.prototype.hasOwnProperty.call(t,e)):e=Object.prototype.hasOwnProperty.call(t,e),e}s.implies=function(e,r){$s("<string|object> [array|number|string]",[e,r],arguments.length),"object"==typeof e?Object.keys(e).forEach((t=>{s.implies(t,e[t])})):(t.global(e),o[e]||(o[e]=[]),Array.isArray(r)?r.forEach((t=>s.implies(e,t))):(Bs(r,void 0,i),o[e].push(r)))},s.getImplied=function(){return o},s.implications=function(t){const i=[];if(Object.keys(o).forEach((e=>{const r=e;(o[e]||[]).forEach((e=>{let n=r;const s=e;n=a(t,n),e=a(t,e),n&&!e&&i.push(` ${r} -> ${s}`)}))})),i.length){let t=`${r("Implications failed:")}\n`;i.forEach((e=>{t+=e})),e.fail(t)}};let l={};s.conflicts=function(e,i){$s("<string|object> [array|string]",[e,i],arguments.length),"object"==typeof e?Object.keys(e).forEach((t=>{s.conflicts(t,e[t])})):(t.global(e),l[e]||(l[e]=[]),Array.isArray(i)?i.forEach((t=>s.conflicts(e,t))):l[e].push(i))},s.getConflicting=()=>l,s.conflicting=function(n){Object.keys(n).forEach((t=>{l[t]&&l[t].forEach((i=>{i&&void 0!==n[t]&&void 0!==n[i]&&e.fail(r("Arguments %s and %s are mutually exclusive",t,i))}))})),t.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(l).forEach((t=>{l[t].forEach((s=>{s&&void 0!==n[i.Parser.camelCase(t)]&&void 0!==n[i.Parser.camelCase(s)]&&e.fail(r("Arguments %s and %s are mutually exclusive",t,s))}))}))},s.recommendCommands=function(t,i){i=i.sort(((t,e)=>e.length-t.length));let n=null,s=1/0;for(let e,r=0;void 0!==(e=i[r]);r++){const i=ro(t,e);i<=3&&i<s&&(s=i,n=e)}n&&e.fail(r("Did you mean %s?",n))},s.reset=function(t){return o=Ks(o,(e=>!t[e])),l=Ks(l,(e=>!t[e])),s};const c=[];return s.freeze=function(){c.push({implied:o,conflicting:l})},s.unfreeze=function(){const t=c.pop();Bs(t,void 0,i),({implied:o,conflicting:l}=t)},s}(this,No(this,Mo,"f"),No(this,Bo,"f")),"f"),Wo(this,so,No(this,so,"f")?No(this,so,"f").reset():function(t,e,i,r){return new Gs(t,e,i,r)}(No(this,Mo,"f"),No(this,Io,"f"),No(this,Do,"f"),No(this,Bo,"f")),"f"),No(this,lo,"f")||Wo(this,lo,function(t,e,i,r){return new io(t,e,i,r)}(this,No(this,Mo,"f"),No(this,so,"f"),No(this,Bo,"f")),"f"),No(this,Do,"f").reset(),Wo(this,co,null,"f"),Wo(this,Fo,"","f"),Wo(this,ho,null,"f"),Wo(this,yo,!1,"f"),this.parsed=!1,this}[ya](t,e){return No(this,Bo,"f").path.relative(t,e)}[wa](t,e,i,r=0,n=!1){let s=!!i||n;t=t||No(this,Oo,"f"),No(this,Eo,"f").__=No(this,Bo,"f").y18n.__,No(this,Eo,"f").configuration=this[Ko]();const o=!!No(this,Eo,"f").configuration["populate--"],a=Object.assign({},No(this,Eo,"f").configuration,{"populate--":!0}),l=No(this,Bo,"f").Parser.detailed(t,Object.assign({},No(this,Eo,"f"),{configuration:{"parse-positional-numbers":!1,...a}})),c=Object.assign(l.argv,No(this,ko,"f"));let u;const h=l.aliases;let p=!1,d=!1;Object.keys(c).forEach((t=>{t===No(this,vo,"f")&&c[t]?p=!0:t===No(this,$o,"f")&&c[t]&&(d=!0)})),c.$0=this.$0,this.parsed=l,0===r&&No(this,Mo,"f").clearCachedHelpMessage();try{if(this[Jo](),e)return this[ba](c,o,!!i,!1);if(No(this,vo,"f")){[No(this,vo,"f")].concat(h[No(this,vo,"f")]||[]).filter((t=>t.length>1)).includes(""+c._[c._.length-1])&&(c._.pop(),p=!0)}Wo(this,wo,!1,"f");const a=No(this,so,"f").getCommands(),f=No(this,lo,"f").completionKey in c,m=p||f||n;if(c._.length){if(a.length){let t;for(let e,s=r||0;void 0!==c._[s];s++){if(e=String(c._[s]),a.includes(e)&&e!==No(this,co,"f")){const t=No(this,so,"f").runCommand(e,this,l,s+1,n,p||d||n);return this[ba](t,o,!!i,!1)}if(!t&&e!==No(this,co,"f")){t=e;break}}!No(this,so,"f").hasDefaultCommand()&&No(this,jo,"f")&&t&&!m&&No(this,Io,"f").recommendCommands(t,a)}No(this,co,"f")&&c._.includes(No(this,co,"f"))&&!f&&(No(this,mo,"f")&&Qs(!0),this.showCompletionScript(),this.exit(0))}if(No(this,so,"f").hasDefaultCommand()&&!m){const t=No(this,so,"f").runCommand(null,this,l,0,n,p||d||n);return this[ba](t,o,!!i,!1)}if(f){No(this,mo,"f")&&Qs(!0);const e=(t=[].concat(t)).slice(t.indexOf(`--${No(this,lo,"f").completionKey}`)+1);return No(this,lo,"f").getCompletion(e,((t,e)=>{if(t)throw new Pr(t.message);(e||[]).forEach((t=>{No(this,xo,"f").log(t)})),this.exit(0)})),this[ba](c,!o,!!i,!1)}if(No(this,yo,"f")||(p?(No(this,mo,"f")&&Qs(!0),s=!0,this.showHelp("log"),this.exit(0)):d&&(No(this,mo,"f")&&Qs(!0),s=!0,No(this,Mo,"f").showVersion("log"),this.exit(0))),!s&&No(this,Eo,"f").skipValidation.length>0&&(s=Object.keys(c).some((t=>No(this,Eo,"f").skipValidation.indexOf(t)>=0&&!0===c[t]))),!s){if(l.error)throw new Pr(l.error.message);if(!f){const t=this[xa](h,{},l.error);i||(u=qs(c,this,No(this,Do,"f").getMiddleware(),!0)),u=this[la](t,null!=u?u:c),Ls(u)&&!i&&(u=u.then((()=>qs(c,this,No(this,Do,"f").getMiddleware(),!1))))}}}catch(t){if(!(t instanceof Pr))throw t;No(this,Mo,"f").fail(t.message,t)}return this[ba](null!=u?u:c,o,!!i,!0)}[xa](t,e,i,r){const n={...this.getDemandedOptions()};return s=>{if(i)throw new Pr(i.message);No(this,Io,"f").nonOptionCount(s),No(this,Io,"f").requiredArguments(s,n);let o=!1;No(this,Ro,"f")&&(o=No(this,Io,"f").unknownCommands(s)),No(this,Po,"f")&&!o?No(this,Io,"f").unknownArguments(s,t,e,!!r):No(this,Lo,"f")&&No(this,Io,"f").unknownArguments(s,t,{},!1,!1),No(this,Io,"f").limitedChoices(s),No(this,Io,"f").implications(s),No(this,Io,"f").conflicting(s)}}[Fa](){Wo(this,yo,!0,"f")}[Ea](t){if("string"==typeof t)No(this,Eo,"f").key[t]=!0;else for(const e of t)No(this,Eo,"f").key[e]=!0}}const Sa=(Ca=gn,(t=[],e=Ca.process.cwd(),i)=>{const r=new _a(t,e,i,Ca);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r});var Ca,ka={exports:{}};const Aa=t,Ta=e,Oa=v,ja=w,Ba={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}.version,Pa=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function Ra(t){console.log(`[dotenv@${Ba}][DEBUG] ${t}`)}function La(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Ma(t,e){let i;try{i=new URL(e)}catch(t){if("ERR_INVALID_URL"===t.code){const t=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw t.code="INVALID_DOTENV_KEY",t}throw t}const r=i.password;if(!r){const t=new Error("INVALID_DOTENV_KEY: Missing key part");throw t.code="INVALID_DOTENV_KEY",t}const n=i.searchParams.get("environment");if(!n){const t=new Error("INVALID_DOTENV_KEY: Missing environment part");throw t.code="INVALID_DOTENV_KEY",t}const s=`DOTENV_VAULT_${n.toUpperCase()}`,o=t.parsed[s];if(!o){const t=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${s} in your .env.vault file.`);throw t.code="NOT_FOUND_DOTENV_ENVIRONMENT",t}return{ciphertext:o,key:r}}function za(t){let e=null;if(t&&t.path&&t.path.length>0)if(Array.isArray(t.path))for(const i of t.path)Aa.existsSync(i)&&(e=i.endsWith(".vault")?i:`${i}.vault`);else e=t.path.endsWith(".vault")?t.path:`${t.path}.vault`;else e=Ta.resolve(process.cwd(),".env.vault");return Aa.existsSync(e)?e:null}function $a(t){return"~"===t[0]?Ta.join(Oa.homedir(),t.slice(1)):t}const Ia={configDotenv:function(t){const e=Ta.resolve(process.cwd(),".env");let i="utf8";const r=Boolean(t&&t.debug);t&&t.encoding?i=t.encoding:r&&Ra("No encoding is specified. UTF-8 is used by default");let n,s=[e];if(t&&t.path)if(Array.isArray(t.path)){s=[];for(const e of t.path)s.push($a(e))}else s=[$a(t.path)];const o={};for(const e of s)try{const r=Ia.parse(Aa.readFileSync(e,{encoding:i}));Ia.populate(o,r,t)}catch(t){r&&Ra(`Failed to load ${e} ${t.message}`),n=t}let a=process.env;return t&&null!=t.processEnv&&(a=t.processEnv),Ia.populate(a,o,t),n?{parsed:o,error:n}:{parsed:o}},_configVault:function(t){var e;e="Loading env from encrypted .env.vault",console.log(`[dotenv@${Ba}][INFO] ${e}`);const i=Ia._parseVault(t);let r=process.env;return t&&null!=t.processEnv&&(r=t.processEnv),Ia.populate(r,i,t),{parsed:i}},_parseVault:function(t){const e=za(t),i=Ia.configDotenv({path:e});if(!i.parsed){const t=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw t.code="MISSING_DATA",t}const r=La(t).split(","),n=r.length;let s;for(let t=0;t<n;t++)try{const e=Ma(i,r[t].trim());s=Ia.decrypt(e.ciphertext,e.key);break}catch(e){if(t+1>=n)throw e}return Ia.parse(s)},config:function(t){if(0===La(t).length)return Ia.configDotenv(t);const e=za(t);return e?Ia._configVault(t):(i=`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`,console.log(`[dotenv@${Ba}][WARN] ${i}`),Ia.configDotenv(t));var i},decrypt:function(t,e){const i=Buffer.from(e.slice(-64),"hex");let r=Buffer.from(t,"base64");const n=r.subarray(0,12),s=r.subarray(-16);r=r.subarray(12,-16);try{const t=ja.createDecipheriv("aes-256-gcm",i,n);return t.setAuthTag(s),`${t.update(r)}${t.final()}`}catch(t){const e=t instanceof RangeError,i="Invalid key length"===t.message,r="Unsupported state or unable to authenticate data"===t.message;if(e||i){const t=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw t.code="INVALID_DOTENV_KEY",t}if(r){const t=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw t.code="DECRYPTION_FAILED",t}throw t}},parse:function(t){const e={};let i,r=t.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(i=Pa.exec(r));){const t=i[1];let r=i[2]||"";r=r.trim();const n=r[0];r=r.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===n&&(r=r.replace(/\\n/g,"\n"),r=r.replace(/\\r/g,"\r")),e[t]=r}return e},populate:function(t,e,i={}){const r=Boolean(i&&i.debug),n=Boolean(i&&i.override);if("object"!=typeof e){const t=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw t.code="OBJECT_REQUIRED",t}for(const i of Object.keys(e))Object.prototype.hasOwnProperty.call(t,i)?(!0===n&&(t[i]=e[i]),r&&Ra(!0===n?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):t[i]=e[i]}};ka.exports.configDotenv=Ia.configDotenv,ka.exports._configVault=Ia._configVault,ka.exports._parseVault=Ia._parseVault,ka.exports.config=Ia.config,ka.exports.decrypt=Ia.decrypt,ka.exports.parse=Ia.parse,ka.exports.populate=Ia.populate,ka.exports=Ia;var Wa=S(ka.exports);const Na=Sa(function(t){return t.slice($r()+1)}(process.argv)).usage("Usage: $0 -d [dir] -g [gameId] -s [gameSlug]").option("d",{alias:"directory",describe:"Directory with your game's index.html and other files",type:"string",demandOption:!0}).option("g",{alias:"gameId",describe:"Game ID",type:"string",demandOption:!0}).option("w",{alias:"worker",describe:"Worker script",type:"string",demandOption:!1}).option("t",{alias:"workertemplate",describe:"Worker script template to use",type:"string",demandOption:!1}).option("e",{alias:"env",describe:"Environment variables file to use. You only need to provide this when you want to update the variables for the worker",type:"string",demandOption:!1}).help("h").alias("h","help").argv;const qa=Na.directory,Ua=Na.gameId,Ha=process.env.PLAYROOM_API_SECRET,Ga=process.env.PLAYROOM_API_SERVER||"https://dev.joinplayroom.com/api",Va=Na.worker,Ya=Na.workertemplate,Ka=Na.env,Qa=process.env.UPLOAD_BATCH_SIZE||10,Ja={UploadFiles:"/upload/files",UploadGame:"/upload/game",TransferFiles:"/game/transfer",ApproveGame:"/game/approve"};async function Za(i,r,n){let s=0;await async function(t,e,i){for(let r=0;r<t.length;r+=e){const n=t.slice(r,r+e);await Promise.all(n.map((t=>i(t))))}}(r,n,(async r=>{const n=i[s++];await async function(i,r){const n=e.relative(qa,i),s=Br.getType(i)||"application/octet-stream",o=t.readFileSync(i);try{if(!(await vt(r,{method:"PUT",headers:{"Content-Type":s},body:o})).ok)throw new Error(`Failed to upload ${n}`)}catch(t){console.error(t)}}(n,r);const o=e.relative(qa,n);js(` [${s}/${i.length}] ${o} Uploaded`)}))}!async function(){js(" Getting game version info...");const i=await async function(){const t=await vt(`${Ga}/game/version/${Ua}?gameId=${Ua}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ha}`}});if(!t.ok)throw new Error(`Failed to get game version info: ${t.statusText}`);return t.json()}(),r=i.gameSlug;js.done(),js(" Reading files...");const n=(s=qa,Sr.globSync(`${s}/**/*.*`));var s;js(" Preparing to upload files...");const{signedURLs:o,url:a,rootPath:l}=await async function(t,i,r){const n=i.map((i=>({path:e.relative(t,i),contentType:Br.getType(i)||"application/octet-stream"}))),s=await vt(`${Ga}${Ja.UploadGame}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ha}`},body:JSON.stringify({gameFilesMetaData:n,gameSlug:r,gameId:Ua})});if(!s.ok)throw new Error(`Failed to get signed URLs: ${s.statusText}`);return s.json()}(qa,n,r);await Za(n,o,Qa),js(" Files uploaded!"),js.done(),js(" Pushing new game version..."),await async function(t){const e=await vt(`${Ga}/game/version/${Ua}?gameId=${Ua}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ha}`},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to update game version: ${e.statusText}`);return e.json()}({...i,rootPath:l,gameURL:a});const c={id:Ua,gameURL:a,rootPath:l};js.done(),js(" [1/3] Updating game..."),await async function(t){const e=await vt(`${Ga}/game/${Ua}?gameId=${Ua}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ha}`},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to update game: ${e.statusText}`);return e.json()}(c),js(" [2/3] Updating game..."),await async function(){let e,i="",r=Ya;if(Va&&(i=t.readFileSync(Va,"utf8")),Ka){const i=t.readFileSync(Ka);e=Wa.parse(i)}const n=await vt(`${Ga}${Ja.TransferFiles}?gameId=${Ua}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ha}`},body:JSON.stringify({gameId:Ua,worker:i||!1,workerTemplate:r||!1,redirect404:Na.redirect404,env:e||!1})});if(!n.ok)throw new Error(`Failed to update game: ${n.statusText}`);return n.json()}(),js(" [3/3] Approving game..."),await async function(){const t=await vt(`${Ga}/game/approve/${Ua}?gameId=${Ua}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ha}`},body:JSON.stringify({id:Ua})});if(!t.ok)throw new Error(`Failed to approve game: ${t.statusText}`);return t.json()}(),js(" Game is live on ",`https://${r}.playroom.gg/`),js.done()}();let Xa=0;const tl={START_BOUNDARY:Xa++,HEADER_FIELD_START:Xa++,HEADER_FIELD:Xa++,HEADER_VALUE_START:Xa++,HEADER_VALUE:Xa++,HEADER_VALUE_ALMOST_DONE:Xa++,HEADERS_ALMOST_DONE:Xa++,PART_DATA_START:Xa++,PART_DATA:Xa++,END:Xa++};let el=1;const il=el,rl=el*=2,nl=t=>32|t,sl=()=>{};class ol{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=sl,this.onHeaderField=sl,this.onHeadersEnd=sl,this.onHeaderValue=sl,this.onPartBegin=sl,this.onPartData=sl,this.onPartEnd=sl,this.boundaryChars={},t="\r\n--"+t;const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i),this.boundaryChars[e[i]]=!0;this.boundary=e,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=tl.START_BOUNDARY}write(t){let e=0;const i=t.length;let r=this.index,{lookbehind:n,boundary:s,boundaryChars:o,index:a,state:l,flags:c}=this;const u=this.boundary.length,h=u-1,p=t.length;let d,f;const m=t=>{this[t+"Mark"]=e},g=t=>{delete this[t+"Mark"]},D=(t,e,i,r)=>{void 0!==e&&e===i||this[t](r&&r.subarray(e,i))},b=(i,r)=>{const n=i+"Mark";n in this&&(r?(D(i,this[n],e,t),delete this[n]):(D(i,this[n],t.length,t),this[n]=0))};for(e=0;e<i;e++)switch(d=t[e],l){case tl.START_BOUNDARY:if(a===s.length-2){if(45===d)c|=rl;else if(13!==d)return;a++;break}if(a-1==s.length-2){if(c&rl&&45===d)l=tl.END,c=0;else{if(c&rl||10!==d)return;a=0,D("onPartBegin"),l=tl.HEADER_FIELD_START}break}d!==s[a+2]&&(a=-2),d===s[a+2]&&a++;break;case tl.HEADER_FIELD_START:l=tl.HEADER_FIELD,m("onHeaderField"),a=0;case tl.HEADER_FIELD:if(13===d){g("onHeaderField"),l=tl.HEADERS_ALMOST_DONE;break}if(a++,45===d)break;if(58===d){if(1===a)return;b("onHeaderField",!0),l=tl.HEADER_VALUE_START;break}if(f=nl(d),f<97||f>122)return;break;case tl.HEADER_VALUE_START:if(32===d)break;m("onHeaderValue"),l=tl.HEADER_VALUE;case tl.HEADER_VALUE:13===d&&(b("onHeaderValue",!0),D("onHeaderEnd"),l=tl.HEADER_VALUE_ALMOST_DONE);break;case tl.HEADER_VALUE_ALMOST_DONE:if(10!==d)return;l=tl.HEADER_FIELD_START;break;case tl.HEADERS_ALMOST_DONE:if(10!==d)return;D("onHeadersEnd"),l=tl.PART_DATA_START;break;case tl.PART_DATA_START:l=tl.PART_DATA,m("onPartData");case tl.PART_DATA:if(r=a,0===a){for(e+=h;e<p&&!(t[e]in o);)e+=u;e-=h,d=t[e]}if(a<s.length)s[a]===d?(0===a&&b("onPartData",!0),a++):a=0;else if(a===s.length)a++,13===d?c|=il:45===d?c|=rl:a=0;else if(a-1===s.length)if(c&il){if(a=0,10===d){c&=~il,D("onPartEnd"),D("onPartBegin"),l=tl.HEADER_FIELD_START;break}}else c&rl&&45===d?(D("onPartEnd"),l=tl.END,c=0):a=0;if(a>0)n[a-1]=d;else if(r>0){const t=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);D("onPartData",0,r,t),r=0,m("onPartData"),e--}break;case tl.END:break;default:throw new Error(`Unexpected state entered: ${l}`)}b("onHeaderField"),b("onHeaderValue"),b("onPartData"),this.index=a,this.state=l,this.flags=c}end(){if(this.state===tl.HEADER_FIELD_START&&0===this.index||this.state===tl.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==tl.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}var al=Object.freeze({__proto__:null,toFormData:async function(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");const i=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!i)throw new TypeError("no or bad content-type header, no multipart boundary");const r=new ol(i[1]||i[2]);let n,s,o,a,l,c;const u=[],h=new W,p=t=>{o+=g.decode(t,{stream:!0})},d=t=>{u.push(t)},f=()=>{const t=new j(u,c,{type:l});h.append(a,t)},m=()=>{h.append(a,o)},g=new TextDecoder("utf-8");g.decode(),r.onPartBegin=function(){r.onPartData=p,r.onPartEnd=m,n="",s="",o="",a="",l="",c=null,u.length=0},r.onHeaderField=function(t){n+=g.decode(t,{stream:!0})},r.onHeaderValue=function(t){s+=g.decode(t,{stream:!0})},r.onHeaderEnd=function(){if(s+=g.decode(),n=n.toLowerCase(),"content-disposition"===n){const t=s.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);t&&(a=t[2]||t[3]||""),c=function(t){const e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;const i=e[2]||e[3]||"";let r=i.slice(i.lastIndexOf("\\")+1);return r=r.replace(/%22/g,'"'),r=r.replace(/&#(\d{4});/g,((t,e)=>String.fromCharCode(e))),r}(s),c&&(r.onPartData=d,r.onPartEnd=f)}else"content-type"===n&&(l=s);s="",n=""};for await(const e of t)r.write(e);return r.end(),h}});
